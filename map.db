 
October 2009 U14SSS 
www.dialogic.com 
 
 
 
 
 
 
 
 
 
 
 
 
Dialogic® DSI SS7 Protocol Stack 
MAP Programmer's Manual 
 
 
Section 1  Introduction 
2 
 
 
 
 
 
 
 
 
 
 
Copyright and Legal Notice 
Copyright © 1997-2009 Dialogic Corporation. All Rights Reserved. You may not reproduce this document in whole or in part 
without permission in writing from Dialogic Corporation at the address provided below. 
All contents of this document are furnished for informational use only and are subject to change without notice and do not 
represent a commitment on the part of Dialogic Corporation or its subsidiaries (“Dialogic”). Reasonable effort is made to ensure 
the accuracy of the information contained in the document. However, Dialogic does not warrant the accuracy of this information 
and cannot accept responsibility for errors, inaccuracies or omissions that may be contained in this document. 
INFORMATION IN THIS DOCUMENT IS PROVIDED IN CONNECTION WITH DIALOGIC® PRODUCTS. NO LICENSE, EXPRESS OR 
IMPLIED, BY ESTOPPEL OR OTHERWISE, TO ANY INTELLECTUAL PROPERTY RIGHTS IS GRANTED BY THIS DOCUMENT. EXCEPT 
AS PROVIDED IN A SIGNED AGREEMENT BETWEEN YOU AND DIALOGIC, DIALOGIC ASSUMES NO LIABILITY WHATSOEVER, 
AND DIALOGIC DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTY, RELATING TO SALE AND/OR USE OF DIALOGIC PRODUCTS 
INCLUDING LIABILITY OR WARRANTIES RELATING TO FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABILITY, OR 
INFRINGEMENT OF ANY INTELLECTUAL PROPERTY RIGHT OF A THIRD PARTY. 
Dialogic products are not intended for use in medical, life saving, life sustaining, critical control or safety systems, or in nuclear 
facility applications. 
Due to differing national regulations and approval requirements, certain Dialogic products may be suitable for use only in 
specific countries, and thus may not function properly in other countries. You are responsible for ensuring that your use of such 
products occurs only in the countries where such use is suitable. For information on specific products, contact Dialogic 
Corporation at the address indicated below or on the web at www.dialogic.com. 
It is possible that the use or implementation of any one of the concepts, applications, or ideas described in this document, in 
marketing collateral produced by or on web pages maintained by Dialogic may infringe one or more patents or other intellectual 
property rights owned by third parties. Dialogic does not provide any intellectual property licenses with the sale of Dialogic 
products other than a license to use such product in accordance with intellectual property owned or validly licensed by Dialogic 
and no such licenses are provided except pursuant to a signed agreement with Dialogic. More detailed information about such 
intellectual property is available from Dialogic’s legal department at 9800 Cavendish Blvd., 5th Floor, Montreal, Quebec, Canada 
H4M 2V9. Dialogic encourages all users of its products to procure all necessary intellectual property licenses 
required to implement any concepts or applications and does not condone or encourage any intellectual property 
infringement and disclaims any responsibility related thereto. These intellectual property licenses may differ from 
country to country and it is the responsibility of those who develop the concepts or applications to be aware of 
and comply with different national license requirements.  
Dialogic, Dialogic Pro, Brooktrout, Diva, Cantata, SnowShore, Eicon, Eicon Networks, NMS Communications, NMS (stylized), 
Eiconcard, SIPcontrol, Diva ISDN, TruFax, Exnet, EXS, SwitchKit, N20, Making Innovation Thrive, Connecting to Growth, Video 
is the New Voice, Fusion, Vision, PacketMedia, NaturalAccess, NaturalCallControl, NaturalConference, NaturalFax and Shiva, 
among others as well as related logos, are either registered trademarks or trademarks of Dialogic Corporation or its 
subsidiaries. Dialogic's trademarks may be used publicly only with permission from Dialogic. Such permission may only be 
granted by Dialogic’s legal department at 9800 Cavendish Blvd., 5th Floor, Montreal, Quebec, Canada H4M 2V9. Any authorized 
use of Dialogic's trademarks will be subject to full respect of the trademark guidelines published by Dialogic from time to time 
and any use of Dialogic’s trademarks requires proper acknowledgement. 
The names of actual companies and products mentioned herein are the trademarks of their respective owners. 
Any use case(s) shown and/or described herein represent one or more examples of the various ways, scenarios or 
environments in which Dialogic® products can be used.  Such use case(s) are non-limiting and do not represent 
recommendations of Dialogic as to whether or how to use Dialogic products. This document discusses one or more open source 
products, systems and/or releases. Dialogic is not responsible for your decision to use open source in connection with Dialogic 
products (including without limitation those referred to herein), nor is Dialogic responsible for any present or future effects such 
usage might have, including without limitation effects on your products, your business, or your intellectual property rights. 
Publication Date: October 2009 
Document Number: U14SSS, Issue 13
MAP Programmer's Manual Issue 13 
 
                                3 
 
REVISION HISTORY 
 
ISSUE DATE CHANGES 
1 03-Oct-97 Initial Text 
2 19-Mar-98 Support for SMS services conforming to the MAP Phase 1 specifications. 
3 27-Oct-99 Support for MAP-SEND-ROUTING-INFO. 
4 08-Mar-00 Support for MAP-UNSTRUCTURED-SS-REQUEST, MAP-UNSTRUCTURED-SS- 
NOTIFY AND MAP-PROCESS-UNSTRUCTURED-SS-REQUEST. 
5 22-Aug-00 Support for MAP-ANYTIME-INTERROGATION, MAP-PROVIDE-SUBSCRIBER- 
INFO, and MAP-SEND-IMSI. 
6 22-May-01 Support for MAP-SEND-INFO-FOR-GPRS. 
7 11-Jul-03 Support for MAP V3. 
8 27-Feb-04 Support for MAP-UPDATE-GPRS-LOCATION and MAP-SEND-ROUTING-INFO- 
FOR-LCS. 
9 17-Jun-05 Support for MAP-CHECK-IMEI, MAP-PROVIDE-SUBSCRIBER-LOCATION, MAP- 
SUBSCRIBER-LOCATION-REPORT, MAP-ACTIVATE-SS, MAP-DEACTIVATE-SS, 
MAP-REGISTER-SS, MAP-ERASE-SS, MAP-GET-PASSWORD, MAP-REGISTER- 
PASSWORD, MAP-ANYTIME-SUBSCRIPTION-INTERROGATION, MAP-RESUME- 
CALL-HANDLING and MAP-RESTORE-DATA 
Minor changes to existing operations. 
10 25-Feb-08 Added new messages Network Context Configuration Request and Read 
Module Status,  
V3 Support for MAP-SEND-AUTHENTICATION-INFO operation. 
New status in confirmation messages and new Software error indications 
Support for MAP-SEND-PARAMETERS, MAP-ACTIVATE-TRACE-MODE, MAP- 
DEACTIVE-TRACE-MODE and MAP-TRACE-SUBSCRIBER-ACTIVITY operations. 
Minor changes to existing operations. 
Updated document for MAP-FAILURE-REPORT, MAP-FORWARD-CHECK-SS- 
INDICATION, MAP-NOTE-MS-PRESENT-FOR-GPRS and MAP-PURGE-MS 
operations. 
11 30-Sep-08 Updates to trace mask definitions  
Support for MAP Handover Services MAP-PREPARE-HANDOVER, MAP- 
PREPARE-SUBSEQUENT-HANDOVER- MAP-PROCESS-ACCESS-SIGNALLING, 
MAP-FORWARD-ACCESS-SIGNALLING and MAP-AUTHENTICATE-FAILURE- 
REPORT 
V3 Support for CHECK IMEI operation 
Added Application Context Negotiation documentation 
12 13-Jul-09 Support for SEND-AUTHENTICATION-INFO, ANY-TIME-MODIFICATION, 
RESET, SET-REPORTING-STATE, STATUS-REPORT, REMOTE-USER-FREE, 
REGISTER-CC-ENTRY and ERASE-CC-ENTRY services. 
Added parameters to ANY-TIME-INTERROGATION-ACK, PROVIDE- 
SUBSCRIBER-INFO-ACK and SEND-ROUTING-INFO-ACK. 
Additional Configuration Trace information. 
13 19-Oct-09 Support for INTERROGATE-SS service under MAP v1. 
Section 1  Introduction 
4 
CONTENTS 
 
1 INTRODUCTION .................................................................................................................................. 5 
1.1 Abbreviations ..................................................................................................................................... 5 
1.2 Related Documentation ..................................................................................................................... 5 
2 GENERAL DESCRIPTION ................................................................................................................... 6 
2.1 Feature Overview .............................................................................................................................. 6 
2.2 Module Overview ............................................................................................................................... 6 
2.3 Module Configuration ........................................................................................................................ 7 
2.4 Dialogue ID assignment .................................................................................................................... 7 
2.5 Application Context ............................................................................................................................ 7 
2.6 Application Context negotiation ......................................................................................................... 8 
2.7 Invoke ID ............................................................................................................................................ 8 
2.8 Operation timeout .............................................................................................................................. 8 
2.9 Constant definitions ........................................................................................................................... 8 
2.10 Module Dimensions ......................................................................................................................... 8 
3 INTERFACE TO TCAP ....................................................................................................................... 10 
3.1 Dialogue handling ............................................................................................................................ 10 
3.2 Component handling ....................................................................................................................... 10 
4 INTERFACE TO MAP-USER ............................................................................................................. 11 
4.1 Introduction ...................................................................................................................................... 11 
4.2 Primitive parameters ........................................................................................................................ 12 
4.3 Dialogue Primitive Types ................................................................................................................. 12 
4.4 Service Primitive Types ................................................................................................................... 13 
4.5 MAP Dialogue Request ................................................................................................................... 23 
4.6 MAP Dialogue Indication ................................................................................................................. 25 
4.7 MAP Dialogue Primitive Parameters ............................................................................................... 27 
4.8 MAP Service Request ..................................................................................................................... 32 
4.9 MAP Service Indication ................................................................................................................... 96 
4.10 MAP Service Primitive Parameters ............................................................................................... 97 
5 NON-PRIMITIVE INTERFACE ......................................................................................................... 169 
5.1 MAP Configuration Request .......................................................................................................... 170 
5.2 MAP Network Context Configuration Request .............................................................................. 174 
5.3 MAP Timer Configuration Request ................................................................................................ 176 
5.4 MAP Software Event Indication ..................................................................................................... 177 
5.5 Management Event Indication ....................................................................................................... 181 
5.6 MAP Trace Mask Request ............................................................................................................. 182 
5.7 Set Selective Trace Mask Request ............................................................................................... 186 
5.8 Trace Event Indication ................................................................................................................... 187 
5.9 Selective Trace Event Indication ................................................................................................... 188 
5.10 MAP Software Event Mask Request ........................................................................................... 190 
5.11 Read Revision Request ............................................................................................................... 191 
5.12 Read Module Status Request ...................................................................................................... 192 
5.13 Read Dialogue Status Request ................................................................................................... 194 
 
MAP Programmer's Manual Issue 13 
 
                                5 
1   Introduction 
The Dialogic® DSI MAP Layer, a member of the Dialogic® DSI SS7 Protocol Stack, is a software 
implementation of the GSM Mobile Application Part (MAP). The DSI Map Layer ("MAP module") 
implements the “MAP Provider” parts of MAP as specified in GSM TS 09.02 and TS 29.002. 
The MAP module uses the services provided by the underlying Transaction Capabilities (TCAP) 
service for the transfer of operations between peer MAP entities. It provides services to “MAP 
User” applications while remaining independent of both the TCAP layer and the MAP User 
application. 
This Programmer’s Manual is intended for users who choose to develop their own applications that 
interface to and make use of the functionality provided by the MAP module. 
The MAP module is an event driven task that uses standard structured message types for 
communication with other layers of the protocol stack. These messages are used to convey the 
protocol primitives between MAP and the MAP User application and MAP and TCAP. Each 
message contains the primitive parameters as defined in the ETSI & ITU-T recommendations such 
that the module can easily be interfaced to other vendor implementations of adjacent layers. 
Typically, the MAP module is used in conjunction with the Dialogic® DSI TCAP Layer (“TCAP 
module”). 
This manual provides an overview of the internal operation of the MAP module and defines the 
structure of the messages used to interface to the MAP module. 
1.1   Abbreviations 
ANSI American National Standards Institute 
APDU Application Protocol Data Unit 
CCITT The International Telegraph & Telephone Consultative Committee 
GPRS General Packet Radio Service 
ITU-T International Telecommunication Union (formerly CCITT) 
MAP Mobile Application Part 
MTP  Message Transfer Part 
SCCP Signaling Connection Control Part 
SMS Short message service 
TCAP Transaction Capabilities Application Part 
USSD Unstructured Supplementary Service Data 
1.2   Related Documentation 
[1] ETSI ETS 300 599 – Mobile Application Part (MAP) Specification (GSM 09.02) 
[2] ETSI ETS 300 974 – Mobile Application Part (MAP) Specification (GSM 09.02) 
[3] ETSI TS 100 974 – Mobile Application Part (MAP) Specification (GSM 09.02) 
[4] Mobile Application Part (MAP) Specification (TS 29.002) 
[5] ITU-T recommendations Q.771 – Q.775 (TCAP) 
[6] ITU-T recommendations Q.711 – Q.714 (SCCP) 
[7] U06SSS, Dialogic® DSI TCAP Programmer’s Manual 
[8] U10SSS, Dialogic® DSI Software Environment Programmer’s Manual 
Section 2  General Description 
6 
2    General Description 
2.1   Feature Overview 
Key features of the Dialogic® DSI MAP Layer include: 
- Implementation of Common MAP Services dialogue control functionality  
- Implementation of a number of MAP services, including Short Message Service (SMS), 
Unstructured Supplementary Service Data (USSD), Supplementary Services, Location Service 
Management Services, IMEI Management Services and Any Time Information Handling 
Services 
- Error handling for supported services 
- Class 1, 2, 3, and 4 operations 
- Dialogue support for application context, user information and components.  
- Message-oriented interface 
2.2   Module Overview 
The MAP module is an implementation of the MAP Service-provider block specified in GSM 09.02 
(ETS 300 599 and ETS 300 974) and TS 29.002. The MAP module provides an implementation of 
the MAP Service-provider block - common MAP services which permit control of dialogues with 
peer MAP entities. The MAP module also provides an implementation of a number of the MAP 
Service-provider block services, including those required for SMS and USSD. See Appendix C for 
a list of MAP services supported. 
The functions of the MAP service-user block specified GSM 09.02 form part of the user’s 
application and are not implemented here. 
MAP Service-provider block Common MAP Services: The MAP module implements the Common 
Services of the MAP protocol. These services permit handling of dialogues between MAP User 
entities. Whenever a MAP User wishes to request a service of a remote peer the MAP User must 
first establish a dialogue with the peer. Subsequent service requests and responses (MAP Protocol 
Data Units) exchanged with the peer are transferred via this dialogue. The MAP Provider Block 
Common Services allow the MAP User to open (MAP-OPEN), close (MAP-CLOSE) and abort 
(MAP-U-ABORT) dialogues with the remote peer. They also permit the MAP module to report 
problems (MAP-NOTICE) and permit the MAP user to explicitly request the transfer (MAP- 
DELIMITER) of any MAP Protocol Data Units. 
MAP Service-provider block User Specific Services: The MAP User is provided with a primitive 
interface by which the MAP User may request and receive services from the remote peer. 
The MAP module is event driven. It has a single input queue into which events from other modules 
(Dialogic® DSI TCAP Layer ("TCAP module"), MAP-User, management etc.) are written. The MAP 
module processes each event in turn until the input queue is empty, in which case it will do nothing 
until the next event is received. Output from the MAP module is directed depending on the type of 
event to either the TCAP module, the MAP-User module, the Management module, or the 
Maintenance module 
The MAP module requires a periodic timer tick notification to be issued to it via the input queue 
every tenth of a second. This is generated by the timer module for the selected operating system. 
The format of timer related messages is described in Appendix A -.Timer services. 
In addition to the primitive interface and the management interface to the TCAP module (which are 
described in later sections), the MAP module requires a few basic system services to be supplied 
by the underlying operating system. These include the ability to allocate, send, receive and release 
messages. This functionality is described in the Software Environment Programmer’s Manual. 
MAP Programmer's Manual Issue 13 
 
                                7 
2.3   Module Configuration 
The MAP module provides flexibility by allowing a number of user configuration options to be set 
up at run time. This allows users to customize the operation of the MAP module to suit the 
requirements of the final application. Configuration parameters are sent to the MAP module’s input 
event queue in the same manner as MAP protocol messages. 
The first message sent to the MAP module must be the global configuration message. Any 
messages received prior to the global configuration message will be discarded. The global 
configuration message specifies the module id for the modules to which MAP issues messages. It 
also supplies values for the maximum number of dialogues (incoming and outgoing), base values 
for the incoming and outgoing ranges of dialogue ids available to MAP-User and TCAP and the 
maximum number of active invocations that are required. The MAP module checks that the values 
requested are compatible with the internal dimensions it has been built with. 
The MAP module may also be sent a timer configuration message. The time for which the MAP 
module will wait for a MAP-User response may be supplied as a message parameter. The 
message may also be sent without parameters in order to use a default value. 
2.4   Dialogue ID assignment 
The MAP module may support a number of active dialogues at a time. MAP-User primitives are 
associated with a particular dialogue using a Dialogue ID.  
The Dialogue ID is assigned when the opening primitive is exchanged between the MAP-User and 
MAP. For a dialogue initiated by the MAP-User (an ‘outgoing dialogue’), the value is selected by 
the MAP-User. For a dialogue initiated by a remote MAP-User peer (an ‘incoming dialogue’), the 
value is selected by the MAP module. Once a dialogue has started, all user primitives that refer to 
this dialogue must include its Dialogue ID value. 
The dialogue ID is a 16-bit value. Separate ranges of values must be used for outgoing and 
incoming dialogues. The global configuration message sent to the module on initialization specifies 
the range of IDs available to MAP for incoming dialogues, as well as the range of IDs available to 
the MAP User for outgoing dialogues. 
The Dialogue ID is of purely local significance between the MAP-User and MAP.  
Maximum values for the number of incoming and outgoing dialogues that the MAP module can 
support are set up at configuration time. These values are then fixed for both TCAP and MAP-User 
interfaces.  
The dialogue ID selected by the MAP-User for an outgoing dialogue must lie within the configured 
range of outgoing dialogue IDs. Dialogue IDs for incoming dialogues are allocated automatically by 
the MAP module (from the configured range of incoming dialogue IDs) so that the dialogue ID that 
has been unused for the longest period is used next. It is important that MAP and the MAP User 
use separate ranges of IDs so that is not possible for the MAP-User to select an ID for an outgoing 
dialogue at the same time that MAP selects the same ID for use with an incoming dialogue. 
Dialogue ID values also exist on the MAP–TCAP interface, but the MAP-User is not generally 
concerned with these. However, both MAP and TCAP must be configured to use separate ranges 
of values for incoming and outgoing dialogue IDs on this interface. The Dialogue IDs used on this 
interface are of purely local significance to MAP and TCAP. 
2.5   Application Context 
When the MAP-User requests the establishment of a dialogue with a peer, the MAP-User must 
provide the application context for that dialogue. The application context identifies the mobile 
network entities (HLR, GMSC etc.) at which the MAP peers reside and the services that may be 
requested.  
Section 2  General Description 
8 
The use of application context is mandatory under the MAP GSM 09.02 Phase 2 specifications.  
The use of application context is not specified under the MAP GSM 09.02 Phase 1 specifications 
but is required by the MAP module to identify those dialogues for which the MAP User requires 
MAP Phase 1 compatible messaging. The MAP User should supply the version 1 contexts 
specified in MAP GSM 09.02 Phase 2 to obtain MAP Phase 1 compatible messaging.  
2.6   Application Context negotiation 
Application context version negotiation may now be performed by the user. This is necessary for 
dialogues to be successful when the application supports an older version than the MAP module 
for a particular application context.  
If, for example, a V3 application context is received for a dialogue but the highest version that the 
application supports is V2, application context negotiation may be performed by setting the Refuse 
reason parameter in the MAP-OPEN-RSP to “application context not supported” and also including 
the preferred application context. 
2.7   Invoke ID 
When the MAP-User has established a dialogue with a peer, it may request a service from the 
remote peer by sending a specific service request primitive to the MAP module. 
Requests for service from the remote peer are sent to the MAP-User in a specific service indication 
primitive. This may require the MAP-User to respond with a specific service response primitive, 
which the peer MAP-User will receive as a specific service confirmation primitive.  
Each request for service is termed an invocation of the service. Each primitive associated with a 
particular invocation of a service must carry the invoke ID of that invocation. The invoke ID is 
supplied by the MAP-User and must be unique for each outgoing service invocation on the 
dialogue. Each incoming service invocation will also have a unique invoke ID – in this case the ID 
is supplied by the remote peer. 
2.8   Operation timeout 
The timer value to be used when waiting for a response to an operation may be specified by 
including a parameter in the service request primitive. If the parameter is not included, a default 
value is used. 
2.9   Constant definitions 
To assist the user who chooses to write an application, a ‘C’ language header file (map_inc.h) is 
available containing all the definitions and constants necessary to interface with the MAP module. 
This file contains definitions for all the mnemonics (e.g. primitives and primitive parameters) listed 
in this Programmer’s Manual. 
2.10   Module Dimensions 
Internally, there are a number of data structures used by the MAP module.  
The maximum dimensions of these structures are determined by compile time constants. The two 
constants of importance to the user are: 
a) The maximum number of simultaneous dialogues supported by the MAP module. 
b) The maximum number of simultaneous invocations supported by the MAP module. 
MAP Programmer's Manual Issue 13 
 
                                9 
 Host-based 
(Linux, 
Windows®, 
Solaris) 
SS7G31 
SS7G32 
SS7HDP 
SS7HDC 
Maximum 
number of 
dialogues 
supported 
65535 65535 0, 8192 or 
32768 
(depending on 
run-time 
license) 
Maximum 
number of 
invokes 
supported 
65535 65535 0, 8192 or 
32768 
(depending on 
run-time 
license) 
 
Section 3  Interface to TCAP 
10 
3    Interface to TCAP 
The Dialogic® DSI Map Layer ("MAP module") is usually used in conjunction with the DSI TCAP 
Layer ("TCAP module"). However, the use of primitives in accordance with Q.771 ensures that it 
can also be integrated with other Transaction Capabilities implementations if required. 
 
The MAP module communicates with the TCAP module using the following primitives, all of which 
are defined in CCITT Recommendation Q.771: 
3.1   Dialogue handling 
  
 UNI-REQ   UNI-IND 
 BEGIN-REQ   BEGIN-IND 
 CONTINUE-REQ  CONTINUE-IND 
 END-REQ   END-IND 
 U-ABORT-REQ   U-ABORT-IND 
      P-ABORT-IND 
      NOTICE-IND  
 
The message format used to convey these primitives is defined in the Dialogic® DSI TCAP 
Programmer’s Manual. The following messages are used: 
 
 TCP_MSG_DLG_REQ Messages issued by MAP  
 TCP_MSG_DLG_IND Messages issued to MAP 
3.2   Component handling 
  
      NULL-IND 
 INVOKE-REQ   INVOKE-IND 
 RESULT-L-REQ   RESULT-L-IND 
 RESULT-NL-REQ  RESULT-NL-IND 
 U-ERROR-REQ   U-ERROR-IND 
 U-CANCEL-REQ  L-CANCEL-IND 
 U-REJECT-REQ   L-REJECT-IND 
      R-REJECT-IND 
      U-REJECT-IND 
The message format used to convey these primitives is defined in the Dialogic® DSI TCAP 
Programmer’s Manual. The following messages are used: 
 
 TCP_MSG_CPT_REQ Messages issued by MAP  
 TCP_MSG_CPT_IND Messages issued to MAP 
MAP Programmer's Manual Issue 13 
 
                                11 
4   Interface to MAP-User 
4.1   Introduction 
All primitives at the MAP-User MAP-Provider interface are passed by sending messages between 
the MAP-User and MAP modules.  
Request and Response primitives are sent by the MAP-User. These request MAP to control 
dialogues and issue MAP service requests.  
Indication and Confirmation primitives are sent by MAP to indicate received MAP dialogue events 
and MAP service events to the MAP-User. 
The following messages are used: 
 
MAP-DIALOGUE-REQ  Transfers dialogue request primitives and dialogue response primitives 
from MAP-User to MAP. 
MAP-DIALOGUE-IND  Transfers dialogue indication primitives and dialogue confirmation 
primitives from MAP to MAP-User. 
MAP-SERVICE-REQ  Transfers service request primitives and service response primitives 
from MAP-User to MAP. 
MAP-SERVICE-IND  Transfers service indication primitives and service confirmation 
primitives from MAP to MAP-User. 
 
The basic structure of each message (irrespective of the MAP primitive contained within it) is the 
same and is described in the ‘Software Environment Programmer’s Manual’. 
The message must be contained in a single buffer, which should be allocated by the sending 
module (using the getm function) and either released (using the relm function) or passed to 
another module by the receiving module. The getm and relm functions are described in the 
‘Software Environment Programmer’s Manual’. 
The message header contains a ‘type’, the value of which indicates the primitive that is being 
conveyed by the message. The following message types have been defined: 
 
Primitive Message type Value 
MAP-SERVICE-REQ MAP_MSG_SRV_REQ 0xc7e0 
MAP-SERVICE-IND MAP_MSG_SRV_IND 0x87e1 
MAP-DIALOGUE-REQ MAP_MSG_DLG_REQ 0xc7e2 
MAP-DIALOGUE-IND MAP_MSG_DLG_IND 0x87e3 
 
Section 4  Interface to MAP-User 
12 
4.2   Primitive parameters 
Each MAP-User primitive includes a number of parameters. These parameters are conveyed in the 
parameter area of the message that conveys the primitive. 
The first byte in the parameter area is the primitive type octet and the last byte is a zero byte to 
indicate that there are no further parameters in the parameter area. Parameters associated with 
the message are placed between the message type code and the final (zero) byte. Therefore the 
parameter area is formatted as follows: 
      
Primitive 
Type Parameter Parameter  Parameter Zero 
      
 
Within each message there are mandatory parameters, which must always be present, and 
optional parameters, which may or may not be present.  The parameters may be placed in any 
order. The encoding of the MAP parameter data aligns with the parameter format specified in the 
appropriate ETSI recommendation whenever possible. Therefore, each parameter is formatted as 
follows:  
1. For MAP parameters whose value is less than 240 (0xf0), the first byte of a parameter is 
the parameter name, the second byte is the length of the parameter data to follow 
(excluding the parameter name and the length byte itself), this is followed by the parameter 
data as shown below:  
   
Name Length Data 
1 byte 1 byte ‘Parameter length’ bytes (0 to 255) 
 
2. MAP parameter 240 is used for the extension as described in the next paragraph. 
Parameters 241 till 255 are reserved for future use. 
3. For MAP parameters whose value is greater than 255 (0xff), the first byte is 240 (0xf0), the 
second byte is the length of the entire parameter; this length is defined by 3 (for the 
parameter name and the length byte) + the length of the MAP parameter to follow 
(excluding the parameter name and the length byte itself).The data area contains the 
name, length and data of the actual MAP parameter as shown below. 
   
Name 
(0xf0) Length + 3  Data 
‘Parameter’ Name ‘Parameter’ 
Length ‘Parameter’ Data 
1 byte 1 byte 2 bytes 1 byte ‘Parameter length’ bytes (0 
to 255) 
 
 
4.3   Dialogue Primitive Types 
Dialogue-handling primitives provide the mechanism by which service requests etc. may be 
exchanged with peer MAP-User entities. 
Dialogue primitives sent by the MAP-User to MAP. These convey a dialogue request or response: 
MAP Programmer's Manual Issue 13 
 
                                13 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-OPEN-REQ MAPDT_OPEN_REQ 1 0x01 
MAP-CLOSE-REQ MAPDT_CLOSE_REQ 3 0x03 
MAP-DELIMITER-REQ MAPDT_DELIMITER_REQ 5 0x05 
MAP-U-ABORT-REQ MAPDT_U_ABORT_REQ 7 0x07 
MAP-OPEN-RSP MAPDT_OPEN_RSP 129 0x81 
 
Dialogue primitives sent by the MAP to MAP-User. These convey a dialogue indication or 
confirmation: 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-OPEN-IND MAPDT_OPEN_IND 2 0x02 
MAP-CLOSE-IND MAPDT_CLOSE_IND 4 0x04 
MAP-DELIMITER-IND MAPDT_DELIMITER_IND 6 0x06 
MAP-U-ABORT-IND MAPDT_U_ABORT_IND 8 0x08 
MAP-OPEN-CNF MAPDT_OPEN_CNF 130 0x82 
MAP-P-ABORT-IND MAPDT_P_ABORT_IND 9 0x09 
MAP-NOTICE-IND MAPDT_NOTICE_IND 10 0x0a 
 
The following sections define the message format and content of the parameter area for each of 
the messages exchanged between the MAP-User and MAP. 
4.4   Service Primitive Types 
Once a dialogue is established between two MAP peers, they may request services from each 
other. 
Only services belonging to the application context that was specified at the establishment of the 
dialogue may be requested. 
A service type primitive code must be passed in the message to indicate the type of service being 
defined. Two methods are defined for passing this code – 
1. The single octet Service Type code is passed as the first octet of the message. 
2. The single or double octet Service Type Code is passed in a parameter 
‘MAPPN_SERVICE_TYPE’ and the first octet of the message is set to 
‘MAPST_EXTENDED_SERVICE_TYPE’. 
The first method is only possible for services were the Service Type code can be defined in a 
single octet (see following tables). The second method is always possible and can be used with 
single or double octet Service Type codes. The MAP User can choose to use either method, 
except for services where the Service Type code requires two octets, where the second method 
must be used. 
Section 4  Interface to MAP-User 
14 
When the MAP module returns service messages to the MAP User, it will normally use first method 
when the Service Type can be defined in a single octet and the second method (using 
MAPST_EXTENDED_SERVICE_TYPE), where a double octet Service Type is required. A 
configuration option (MAPF_USE_TYPE_PARMS) is provided to force the module to use the 
second method for all Service messages sent to the MAP User. 
The following table details service primitives sent by the MAP-User to MAP. These convey a 
request to perform a service, or a response to a service request from the peer entity. 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-ACTIVATE-SS-REQ MAPST_ACTIVATE_SS_REQ 75 0x4b 
MAP-ACTIVATE-SS-RSP MAPST_ACTIVATE_SS_RSP 197 0xc5 
MAP-ACTIVATE-TRACE-MODE-REQ MAPST_ACTIV_TRACE_MODE_REQ 45 0x2d 
MAP-ACTIVATE-TRACE-MODE-RSP MAPST_ACTIV_TRACE_MODE_RSP 167 0xa7 
MAP-ALERT-SC-WITHOUT-RESULT- 
REQ MAPST_ALERT_SC_WO_RESULT_REQ 17 0x11 
MAP-ALERT-SERVICE-CENTRE-REQ MAPST_ALERT_SC_REQ 9 0x09 
MAP-ALERT-SERVICE-CENTRE-RSP MAPST_ALERT_SC_RSP 137 0x89 
MAP-ANYTIME-INTERROGATION-REQ MAPST_ANYTIME_INT_REQ 29 0x1d 
MAP-ANYTIME-INTERROGATION-RSP MAPST_ANYTIME_INT_RSP 151 0x97 
MAP-ANYTIME-MODIFICATION-REQ MAPST_ANYTIME_MOD_REQ 115 0x73 
MAP-ANYTIME-MODIFICATION-RSP MAPST_ANYTIME_MOD_RSP 231 0xe7 
MAP-ANYTIME-SUBSCRIPTION- 
INTERROGATION-REQ MAPST_ATSI_REQ 81 0x51 
MAP-ANYTIME-SUBSCRIPTION- 
INTERROGATION-RSP MAPST_ATSI_RSP 203 0xcb 
MAP-AUTHENTICATION-FAILURE- 
REPORT-REQ MAPST_AUTHFAILREPORT_REQ 111 0x6f 
MAP-AUTHENTICATION-FAILURE- 
REPORT-RSP MAPST_AUTHFAILREPORT_RSP 227 0xe3 
MAP-CANCEL-LOCATION-REQ MAPST_CANCEL_LOCATION_REQ 41 0x29 
MAP-CANCEL-LOCATION-RSP MAPST_CANCEL_LOCATION_RSP 163 0xa3 
MAP-CHECK-IMEI-REQ MAPST_CHECK_IMEI_REQ 79 0x4f 
MAP-CHECK-IMEI-RSP MAPST_CHECK_IMEI_REQ 201 0xc9 
MAP-DEACTIVATE-SS-REQ MAPST_DEACTIVATE_SS_REQ 77 0x4d 
MAP-DEACTIVATE-SS-RSP MAPST_DEACTIVATE_SS_RSP 199 0xc7 
MAP Programmer's Manual Issue 13 
 
                                15 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-DEACTIVATE-TRACE-MODE-REQ MAPST_DEACTIV_TRACE_MODE_REQ 97 0x61 
MAP-DEACTIVATE-TRACE-MODE-RSP MAPST_DEACTIV_TRACE_MODE_RSP 219 0xdb 
MAP-DELETE-SUBSCRIBER-DATA- 
REQ MAPST_DEL_SUBS_DATA_REQ 49 0x31 
MAP-DELETE-SUBSCRIBER-DATA- 
RSP MAPST_DEL_SUBS_DATA_RSP 171 0xab 
MAP-ERASE-CC-ENTRY-REQ MAPST_ERASE_CC_ENTRY_REQ 532 0x0214 
MAP-ERASE-CC-ENTRY-RSP MAPST_ERASE_CC_ENTRY_RSP 533 0x0215 
MAP-ERASE-SS-REQ MAPST_ERASE_SS_REQ 83 0x53 
MAP-ERASE-SS-RSP MAPST_ERASE_SS_RSP 205 0xcd 
MAP-EXTENDED-SERVICE-TYPE MAPST_EXTENDED_SERVICE_TYPE 255 0xff 
MAP-FAILURE-REPORT-REQ MAPST_FAIL_REPORT_REQ 53 0x35 
MAP-FAILURE-REPORT-RSP MAPST_FAIL_REPORT_RSP 175 0xaf 
MAP-FORWARD-ACCESS- 
SIGNALLING-REQ MAPST_FWDACCESS_SIG_REQ 101 0x65 
MAP-FORWARD-CHECK-SS- 
INDICATION-REQ MAPST_FWD_CHK_SS_INDICAT_REQ 67 0x43 
MAP-FORWARD-SHORT-MESSAGE- 
REQ (versions 1 and 2) MAPST_FWD_SM_REQ 3 0x03 
MAP-FORWARD-SHORT-MESSAGE- 
RSP (versions 1 and 2) MAPST_FWD_SM_RSP 131 0x83 
MAP-GET-PASSWORD-REQ MAPST_GET_PASSWORD_REQ 89 0x59 
MAP-GET-PASSWORD-RSP MAPST_GET_PASSWORD_RSP 211 0xd3 
MAP-INFORM-SERVICE-CENTRE-REQ MAPST_INF_SC_REQ 11 0x0b 
MAP-INSERT-SUBSCRIBER-DATA-REQ MAPST_INS_SUBS_DATA_REQ 43 0x2b 
MAP-INSERT-SUBSCRIBER-DATA-RSP MAPST_INS_SUBS_DATA_RSP 165 0xa5 
MAP-INTERROGATE-SS-REQ MAPST_INTERROGATE_SS_REQ 
 73 0x49 
MAP-INTERROGATE-SS-RSP MAPST_INTERROGATE_SS_RSP 
 195 0xc3 
MAP-MO-FORWARD-SHORT- 
MESSAGE-REQ (version 3 onwards) MAPST_MO_FWD_SM_REQ 3 0x03 
MAP-MO-FORWARD-SHORT- 
MESSAGE-RSP (version 3 onwards) MAPST_MO_FWD_SM_RSP 131 0x83 
MAP-MT-FORWARD-SHORT- 
MESSAGE-REQ (version 3 onwards) MAPST_MT_FWD_SM_REQ 69 0x45 
MAP-MT-FORWARD-SHORT- 
MESSAGE-RSP (version 3 onwards) MAPST_MT_FWD_SM_RSP 191 0xbf 
MAP-NOTEMM-EVENT-REQ MAPST_NOTE_MM_EVENT_REQ 65 0x41 
MAP-NOTEMM-EVENT-RSP MAPST_NOTE_MM_EVENT_RSP 187 0xbb 
MAP-NOTE-MS-PRESENT-GPRS-REQ MAPST_NOTE_MS_PRES_GPRS_REQ 51 0x33 
MAP-NOTE-MS-PRESENT-GPRS-RSP MAPST_NOTE_MS_PRES_GPRS_RSP 173 0xad 
MAP-NOTE-SUBSCRIBER-PRESENT- 
REQ MAPST_NOTE_SUB_PRESENT_REQ 19 0x13 
Section 4  Interface to MAP-User 
16 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-PREPARE-HANDOVER-REQ MAPST_PREPAREHO_REQ 103 0x67 
MAP-PREPARE-HANDOVER-RSP MAPST_PREPAREHO_RSP 221 0xdd 
MAP-PREPARE-SUBSEQUENT- 
HANDOVER-REQ MAPST_PREPARESUBHO_REQ 105 0x69 
MAP-PREPARE-SUBSEQUENT- 
HANDOVER-RSP MAPST_PREPARESUBHO_RSP 223 0xdf 
MAP-PROCESS-ACCESS-SIGNALLING- 
REQ MAPST_PROACCESS_SIG_REQ 107 0x11 
MAP-PROCESS-UNSTRUCTURED-SS- 
REQUEST-REQ MAPST_PRO_UNSTR_SS_REQ_REQ 27 0x1b 
MAP-PROCESS-UNSTRUCTURED-SS- 
REQUEST-RSP MAPST_PRO_UNSTR_SS_REQ_RSP 149 0x95 
MAP-PROVIDE-ROAMING-NUMBER- 
REQ MAPST_PROV_ROAM_NUM_REQ 37 0x25 
MAP-PROVIDE-ROAMING-NUMBER- 
RSP MAPST_PROV_ROAM_NUM_RSP 159 0x9f 
MAP-PROVIDE-SUBSCRIBER-INFO – 
RSP MAPST_PROV_SUB_INFO_RSP 153 0x99 
MAP-PROVIDE-SUBSCRIBER-INFO- 
REQ MAPST_PROV_SUB_INFO_REQ 31 0x1f 
MAP-PROVIDE-SUBSCRIBER- 
LOCATION-REQ MAPST_PROVIDE_SUBS_LOC_REQ 61 0x3d 
MAP-PROVIDE-SUBSCRIBER- 
LOCATION-RSP MAPST_PROVIDE_SUBS_LOC_RSP 183 0xb7 
MAP-PURGE-MSUBSCRIBER-DATA- 
REQ MAPST_PURGE_MS_REQ 57 0x39 
MAP-PURGE-MSUBSCRIBER-DATA- 
RSP MAPST_PURGE_MS_RSP 179 0xb3 
MAP-READY-FOR-SM-REQ MAPST_RDY_FOR_SM_REQ 7 0x07 
MAP-READY-FOR-SM-RSP MAPST_RDY_FOR_SM_RSP 135 0x87 
MAP-REGISTER-CC-ENTRY-REQ MAPST_REGISTER_CC_ENTRY_REQ 528 0x0210 
MAP-REGISTER-CC-ENTRY-RSP MAPST_REGISTER_CC_ENTRY_RSP 529 0x0211 
MAP-REGISTER-PASSWORD-REQ MAPST_REGISTER_PASSWORD_REQ 91 0x5b 
MAP-REGISTER-PASSWORD-RSP MAPST_REGISTER_PASSWORD_RSP 213 0xd5 
MAP-REGISTER-SS-REQ MAPST_REGISTER_SS_REQ 85 0x55 
MAP-REGISTER-SS-RSP MAPST_REGISTER_SS_RSP 207 0xcf 
MAP-REMOTE-USER-FREE-REQ MAPST_REMOTE_USER_FREE_REQ 524 0x020c 
MAP-REMOTE-USER-FREE-RSP MAPST_REMOTE_USER_FREE_RSP 525 0x020d 
MAP-REPORT-SM-DELIVERY-STATUS- 
REQ MAPST_RPT_SMDST_REQ 5 0x05 
MAP-REPORT-SM-DELIVERY-STATUS- 
RSP MAPST_RPT_SMDST_RSP 133 0x85 
MAP-RESET-REQ MAPST_RESET_REQ 512 0x0200 
MAP-RESTORE-DATA-REQ MAPST_RESTORE-DATA_REQ 93 0x5d 
MAP-RESTORE-DATA-RSP MAPST_RESTORE-DATA_RSP 215 0xd7 
MAP Programmer's Manual Issue 13 
 
                                17 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-RESUME-CALL-HANDLING-REQ MAPST_RES_CALL_REQ 87 0x57 
MAP-RESUME-CALL-HANDLING-RSP MAPST_RES_CALL_RSP 209 0xd1 
MAP-SEND-AUTHENTICATION-INFO- 
REQ MAPST_SEND_AUTH_INFO_REQ 71 0x47 
MAP-SEND-AUTHENTICATION-INFO- 
RSP MAPST_SEND_AUTH_INFO_RSP 193 0xc1 
MAP-SEND-END-SIGNAL-REQ MAPST_SEND_ENDSIG_REQ 109 0x6d 
MAP-SEND-ENG-SIGNAL-RSP MAPST_SEND_ENDSIG_RSP 225 0xe1 
MAP-SEND-IDENTIFICATION-REQ MAPST_SEND_IDENT_REQ 47 0x2f 
MAP-SEND-IDENTIFICATION-RSP MAPST_SEND_IDENT_RSP 169 0xa9 
MAP-SEND-IMSI-REQ MAPST_SEND_IMSI_REQ 33 0x21 
MAP-SEND-IMSI-RSP MAPST_SEND_IMSI_RSP 155 0x9b 
MAP-SEND-PARAMETERS-REQ MAPST_SEND_PARAMETERS_REQ 95 0x5f 
MAP-SEND-PARAMETERS-RSP MAPST_SEND_PARAMETERS_RSP  217 0xd9 
MAP-SEND-ROUTING-INFO-FOR- 
GPRS-REQ MAPST_SND_RTIGPRS_REQ 35 0x23 
MAP-SEND-ROUTING-INFO-FOR- 
GPRS-RSP MAPST_SND_RTIGPRS_REQ 157 0x9d 
MAP-SEND-ROUTING-INFO-FOR-LCS- 
REQ MAPST_ROUT_INFO_LCS_REQ 59 0x3b 
MAP-SEND-ROUTING-INFO-FOR-LCS- 
RSP MAPST_ROUT_INFO_LCS_RSP 181 0xb5 
MAP-SEND-ROUTING-INFO-FOR-SM- 
REQ MAPST_SND_RTISM_REQ 1 0x01 
MAP-SEND-ROUTING-INFO-FOR-SM- 
RSP MAPST_SND_RTISM_RSP 129 0x81 
MAP-SEND-ROUTING-INFO-REQ MAPST_SEND_ROUTING_INFO_REQ 21 0x15 
MAP-SEND-ROUTING-INFO-RSP MAPST_SEND_ROUTING_INFO_RSP 143 0x8f 
MAP-SET-REPORTING-STATE-REQ MAPST_SET_REPORTING_STATE_REQ 516 0x0204 
MAP-SET-REPORTING-STATE-RSP MAPST_SET_REPORTING_STATE_RSP 517 0x0205 
MAP-STATUS-REPORT-REQ MAPST_STATUS_REPORT_REQ 520 0x0208 
MAP-STATUS-REPORT-RSP MAPST_STATUS_REPORT_RSP 521 0x0209 
MAP-SUBSCRIBER-LOCATION- 
REPORT-REQ MAPST_SUBS_LOC_REPORT_REQ 63 0x3f 
MAP-SUBSCRIBER-LOCATION- 
REPORT-RSP MAPST_SUBS_LOC_REPORT_RSP 185 0xb9 
MAP-TRACE-SUBSCRIBER-ACTIVITY- 
REQ MAPST_TRACE_SUB_ACTIV_REQ 99 0x63 
MAP-UNSTRUCTURED-SS-NOTIFY- 
REQ MAPST_UNSTR_SS_NOTIFY_REQ 25 0x19 
MAP-UNSTRUCTURED-SS-NOTIFY- 
RSP MAPST_UNSTR_SS_NOTIFY_RSP 147 0x93 
MAP-UNSTRUCTURED-SS-REQUEST- 
REQ MAPST_UNSTR_SS_REQ_REQ 23 0x17 
MAP-UNSTRUCTURED-SS-REQUEST- 
RSP MAPST_UNSTR_SS_REQ_RSP 145 0x91 
Section 4  Interface to MAP-User 
18 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-UPDATE-GPRS-LOCATION-REQ MAPST_UPDATE_GPRS_LOC_REQ 55 0x37 
MAP-UPDATE-GPRS-LOCATION-RSP MAPST_UPDATE_GPRS_LOC_RSP 177 0xb1 
MAP-UPDATE-LOCATION-REQ MAPST_UPDATE_LOCATION_REQ 39 0x27 
MAP-UPDATE-LOCATION-RSP MAPST_UPDATE_LOCATION_RSP 161 0xa1 
 
The following table details service primitives received by the MAP-User from MAP. These convey a 
service indication, or a confirmation to a service request from the peer entity: 
MAP Programmer's Manual Issue 13 
 
                                19 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-ACTIVATE-SS-CNF MAPST_ACTIVATE_SS_CNF 198 0xc6 
MAP-ACTIVATE-SS-IND MAPST_ACTIVATE_SS_IND 76 0x4c 
MAP-ACTIVATE-TRACE-MODE-CNF MAPST_ACTIV_TRACE_MODE_CNF 168 0xa8 
MAP-ACTIVATE-TRACE-MODE-IND MAPST_ACTIV_TRACE_MODE_IND 46 0x2e 
MAP-ALERT-SC-WITHOUT-RESULT- 
IND MAPST_ALERT_SC_WO_RESULT_IND 18 0x12 
MAP-ALERT-SERVICE-CENTRE-CNF MAPST_ALERT_SC_CNF 138 0x8a 
MAP-ALERT-SERVICE-CENTRE-IND MAPST_ALERT_SC_IND 10 0x0a 
MAP-ANYTIME-INTERROGATION-CNF MAPST_ANYTIME_INT_CNF 152 0x98 
MAP-ANYTIME-INTERROGATION-IND MAPST_ANYTIME_INT_IND 30 0x1e 
MAP-ANYTIME-MODIFICATION-CNF MAPST_ANYTIME_MOD_CNF 232 0xe8 
MAP-ANYTIME-MODIFICATION-IND MAPST_ANYTIME_MOD_IND 116 0x74 
MAP-ANYTIME-SUBSCRIPTION- 
INTERROGATION-CNF MAPST_ATSI_CNF 204 0xcc 
MAP-ANYTIME-SUBSCRIPTION- 
INTERROGATION-IND MAPST_ATSI_IND 82 0x52 
MAP-AUTHENTICATION-FAILURE- 
REPORT-IND MAPST_AUTHFAILREPORT_IND 112 0x70 
MAP-AUTHENTICATION-FAILURE- 
REPORT-CNF MAPST_AUTHFAILREPORT_CNF 228 0xe4 
MAP-CANCEL-LOCATION-CNF MAPST_CANCEL_LOCATION_CNF 164 0xa4 
MAP-CANCEL-LOCATION-IND MAPST_CANCEL_LOCATION_IND 42 0x2a 
MAP-CHECK-IMEI-CNF MAPST_CHECK_IMEI_CNF 202 0xca 
MAP-CHECK-IMEI-IND MAPST_CHECK_IMEI_IND 80 0x50 
MAP-DEACTIVATE-SS-CNF MAPST_DEACTIVATE_SS_CNF 200 0xc8 
MAP-DEACTIVATE-SS-IND MAPST_DEACTIVATE_SS_IND 78 0x4e 
MAP-DEACTIVATE-TRACE-MODE- 
CNF MAPST_DEACTIV_TRACE_MODE_CNF 220 0xdc 
MAP-DEACTIVATE-TRACE-MODE-IND MAPST_DEACTIV_TRACE_MODE_IND 98 0x62 
MAP-DELETE-SUBSCRIBER-DATA- 
CNF MAPST_DEL_SUBS_DATA_CNF 172 0xac 
MAP-DELETE-SUBSCRIBER-DATA- 
IND MAPST_DEL_SUBS_DATA_IND 50 0x32 
MAP-EXTENDED-SERVICE-TYPE MAPST_EXTENDED_SERVICE_TYPE 255 0xff 
MAP-ERASE-CC-ENTRY-CNF MAPST_ERASE_CC_ENTRY_CNF 535 0x0217 
MAP-ERASE-CC-ENTRY-IND MAPST_ERASE_CC_ENTRY_IND 534 0x0216 
MAP-ERASE-SS-CNF MAPST_ERASE_SS_CNF 84 0x54 
MAP-ERASE-SS-IND MAPST_ERASE_SS_IND 206 0xce 
MAP-FAILURE-REPORT-IND MAPST_FAILURE_REPORT_IND 54 0x36 
MAP-FAILURE-REPORT-CNF MAPST_FAILURE_REPORT_CNF 176 0xb0 
MAP-FORWARD-ACCESS- 
SIGNALLING-IND MAPST_FWDACCESS_SIG_IND 102 0x66 
Section 4  Interface to MAP-User 
20 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-FORWARD-CHECK-SS- 
INDICATION-IND MAPST_FWD_CHK_SS_INDICAT_IND 68 0x44 
MAP-FORWARD-SHORT-MESSAGE- 
CNF (versions 1 and 2) MAPST_FWD_SM_CNF 132 0x84 
MAP-FORWARD-SHORT-MESSAGE- 
IND (versions 1 and 2) MAPST_FWD_SM_IND 4 0x04 
MAP-GET-PASSWORD-CNF MAPST_GET_PASSWORD_CNF 212 0xd4 
MAP-GET-PASSWORD-IND MAPST_GET_PASSWORD_IND 90 0x5a 
MAP-INFORM-SERVICE-CENTRE-IND MAPST_INF_SC_IND 12 0x0c 
MAP-INSERT-SUBSCRIBER-DATA- 
CNF MAPST_INS_SUBS_DATA_CNF 166 0xa6 
MAP-INSERT-SUBSCRIBER-DATA- 
IND MAPST_INS_SUBS_DATA_IND 44 0x2c 
MAP-INTERROGATE-SS-CNF MAPST_INTERROGATE_SS_CNF 
 196 0xc4 
MAP-INTERROGATE-SS-IND MAPST_INTERROGATE_SS_IND 
 74 0x4a 
MAP-MO-FORWARD-SHORT- 
MESSAGE-CNF (version 3 onwards) MAPST_MO_FWD_SM_CNF 132 0x84 
MAP-MO-FORWARD-SHORT- 
MESSAGE-IND (version 3 onwards) MAPST_MO_FWD_SM_IND 4 0x04 
MAP-MT-FORWARD-SHORT- 
MESSAGE-CNF (version 3 onwards) MAPST_MT_FWD_SM_CNF 192 0xc0 
MAP-MT-FORWARD-SHORT- 
MESSAGE-IND (version 3 onwards) MAPST_MT_FWD_SM_IND 70 0x46 
MAP-NOTEMM-EVENT-CNF MAPST_NOTE_MM_EVENT_CNF 188 0xbc 
MAP-NOTEMM-EVENT-IND MAPST_NOTE_MM_EVENT_IND 66 0x42 
MAP-NOTE-SUBSCRIBER-PRESENT- 
IND MAPST_NOTE_SUB_PRESENT_IND 20 0x14 
MAP-NOTE-MS-PRESENT-GPRS-IND MAPST_NOTE_MS_PRES_GPRS_IND 52 0x34 
MAP-NOTE-MS-PRESENT-GPRS-CNF MAPST_NOTE_MS_PRES_GPRS_CNF 174 0xae 
MAP-PREPARE-HANDOVER-CNF MAPST_PREPAREHO_CNF 222 0xde 
MAP-PREPARE-HANDOVER-IND MAPST_PREPAREHO_IND 104 0x68 
MAP-PREPARE-SUBSEQUENT- 
HANDOVER-CNF MAPST_PREPARESUBHO_CNF 224 0xe0 
MAP-PREPARE-SUBSEQUENT- 
HANDOVER-IND MAPST_PREPARESUBHO_IND 106 0x6a 
MAP-PROCESS_UNSTRUCTURED- 
SS-REQUEST-IND MAPST_PRO_UNSTR_SS_REQ_IND 28 0x1c 
MAP-PROCESS-UNSTRUCTURED- 
SS-REQUEST-CNF MAPST_PRO_UNSTR_SS_REQ_CNF 150 0x96 
MAP-PROVIDE-ROAMING-NUMBER- 
CNF MAPST_PROV_ROAM_NUM_CNF 160 0xa0 
MAP-PROVIDE-ROAMING-NUMBER- 
IND MAPST_PROV_ROAM_NUM_IND 38 0x26 
MAP-PROVIDE-SUBSCRIBER-INFO – 
CNF MAPST_PROV_SUB_INFO_CNF 154 0x9a 
MAP-PROVIDE-SUBSCRIBER-INFO- 
IND MAPST_PROV_SUB_INFO_IND 32 0x20 
MAP Programmer's Manual Issue 13 
 
                                21 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-PROVIDE-SUBSCRIBER- 
LOCATION-CNF MAPST_PROVIDE_SUBS_LOC_CNF 184 0xb8 
MAP-PROVIDE-SUBSCRIBER- 
LOCATION-IND MAPST_PROVIDE_SUBS_LOC_IND 62 0x3e 
MAP-PURGE-MSUBSCRIBER-DATA- 
IND MAPST_PURGE_MS_IND 58 0x3a 
MAP-PURGE-MSUBSCRIBER-DATA- 
CNF MAPST_PURGE_MS_CNF 180 0xb4 
MAP-READY-FOR-SM-CNF MAPST_RDY_FOR_SM_CNF 136 0x88 
MAP-READY-FOR-SM-IND MAPST_RDY_FOR_SM_IND 8 0x08 
MAP-REGISTER-CC-ENTRY-CNF MAPST_REGISTER_CC_ENTRY_CNF 531 0x0213 
MAP-REGISTER-CC-ENTRY-IND MAPST_REGISTER_CC_ENTRY_IND 530 0x0212 
MAP-REGISTER-PASSWORD-CNF MAPST_REGISTER_PASSWORD_CNF 214 0xd6 
MAP-REGISTER-PASSWORD-IND MAPST_REGISTER_PASSWORD_IND 92 0x5c 
MAP-REGISTER-SS_CNF MAPST_REGISTER_SS_CNF 86 0x56 
MAP-REGISTER-SS_IND MAPST_REGISTER_SS_IND 208 0xd0 
MAP-REMOTE-USER-FREE-CNF MAPST_REMOTE_USER_FREE_CNF 527 0x020f 
MAP-REMOTE-USER-FREE_IND MAPST_REMOTE_USER_FREE_IND 526 0x020e 
MAP-REPORT-SM-DELIVERY- 
STATUS-CNF MAPST_RPT_SMDST_CNF 134 0x86 
MAP-REPORT-SM-DELIVERY- 
STATUS-IND MAPST_RPT_SMDST_IND 6 0x06 
MAP-RESET-IND MAPST_RESET_IND 513 0x0201 
MAP-RESTORE-DATA-CNF MAPST_RESTORE-DATA_CNF 216 0xd8 
MAP-RESTORE-DATA-IND MAPST_RESTORE-DATA_IND 94 0x5e 
MAP-RESUME-CALL-HANDLING-CNF MAPST_RES_CALL_CNF 210 0xd2 
MAP-RESUME-CALL-HANDLING-IND MAPST_RES_CALL_IND 88 0x58 
MAP-SEND-AUTHENTICATION-INFO- 
RSP MAPST_SEND_AUTH_INFO_CNF 194 0xc2 
MAP-SEND-AUTHENTICATION-INFO- 
REQ MAPST_SEND_AUTH_INFO_IND 72 0x48 
MAP-SEND-END-SIGNAL-CNF MAPST_SEND_ENDSIG_CNF 226 0xe2 
MAP-SEND-END-SIGNAL-IND MAPST_SEND_ENDSIG_IND 110 0x6e 
MAP-SEND-IDENTIFICATION-CNF MAPST_SEND_IDENT_CNF 170 0xaa 
MAP-SEND-IDENTIFICATION-IND MAPST_SEND_IDENT_IND 48 0x30 
MAP-SEND-IMSI-CNF MAPST_SEND_IMSI_CNF 156 0x9c 
MAP-SEND-IMSI-IND MAPST_SEND_IMSI_IND 34 0x22 
MAP-SEND-PARAMETERS-CNF MAPST_SEND_PARAMETERS_CNF 218 0xda 
MAP-SEND-PARAMETERS-IND MAPST_SEND_PARAMETERS_IND  96 0x60 
MAP-SEND-ROUTING-INFO-CNF MAPST_SND_RI_CNF 144 0x90 
MAP-SEND-ROUTING-INFO-FOR- 
GPRS-CNF MAPST_SND_RTIGPRS_CNF 158 0x9e 
Section 4  Interface to MAP-User 
22 
Primitive Mnemonic Value 
(dec) 
Value 
(hex) 
MAP-SEND-ROUTING-INFO-FOR- 
GPRS-IND MAPST_SND_RTIGPRS_IND 36 0x24 
MAP-SEND-ROUTING-INFO-FOR-LCS- 
CNF MAPST_ROUT_INFO_LCS_CNF 182 0xb6 
MAP-SEND-ROUTING-INFO-FOR-LCS- 
IND MAPST_ROUT_INFO_LCS_IND 60 0X3c 
MAP-SEND-ROUTING-INFO-FOR-SM- 
CNF MAPST_SND_RTISM_CNF 130 0x82 
MAP-SEND-ROUTING-INFO-FOR-SM- 
IND MAPST_SND_RTISM_IND 2 0x02 
MAP-SEND-ROUTING-INFO-IND MAPST_SND_RI_IND 22 0x16 
MAP-SET-REPORTING-STATE-IND MAPST_SET_REPORTING_STATE_IND 518 0x0206 
MAP-SET-REPORTING-STATE-CNF MAPST_SET_REPORTING_STATE_CNF 519 0x0207 
MAP-STATUS-REPORT-IND MAPST_STATUS_REPORT_IND 522 0x0208 
MAP-STATUS-REPORT-CNF MAPST_STATUS_REPORT_CNF 523 0x0209 
MAP-SUBSCRIBER-LOCATION- 
REPORT-CNF MAPST-SUBS-LOC-REPORT-CNF 186 0xba 
MAP-SUBSCRIBER-LOCATION- 
REPORT-IND MAPST-SUBS-LOC-REPORT-IND 64 0x40 
MAP-TRACE-SUBSCRIBER-IND MAPST_TRACE_SUB_ACTIV_IND 100 0x64 
MAP-UNSTRUCTURED-SS-NOTIFY- 
CNF MAPST_UNSTR_SS_NOTIFY_CNF 148 0x94 
MAP-UNSTRUCTURED-SS-NOTIFY- 
IND MAPST_UNSTR_SS_NOTIFY_IND 26 0x1a 
MAP-UNSTRUCTURED-SS-REQUEST- 
CNF MAPST_UNSTR_SS_REQ_CNF 146 0x92 
MAP-UNSTRUCTURED-SS-REQUEST- 
IND MAPST_UNSTR_SS_REQ_IND 24 0x18 
MAP-UPDATE-GPRS-LOCATION-CNF MAPST_UPDATE_GPRS_LOC_CNF 178 0Xb2 
MAP-UPDATE-GPRS-LOCATION-IND MAPST_UPDATE_GPRS_LOC_IND 56 0x38 
MAP-UPDATE-LOCATION-CNF MAPST_UPDATE_LOCATION_CNF 162 0xa2 
MAP-UPDATE-LOCATION-IND MAPST_UPDATE_LOCATION_IND 40 0x28 
 
MAP Programmer's Manual Issue 13 
 
                                23 
4.5   MAP Dialogue Request 
Synopsis: 
 
Message sent from the MAP-User to MAP containing a dialogue request primitive. Used by 
MAP-User to open and close dialogues with the remote peer MAP-User. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
Type MAP_MSG_DLG_REQ (0xc7e2) 
Id dialogue ID 
Src Sending module ID 
Dst MAP_TASK_ID 
rsp_req 0 
Hclass 0 
Status 0 
err_info 0 
Len Number of bytes of user data 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 Dialogue primitive type octet. 
1 len – 2 Parameters in Name-Length-Data format. 
len – 1 1 Set to zero indicating end of message. 
 
 
Description: 
 
This message is used by the MAP-User to send dialogue primitives to MAP. 
 The MAP-User makes use of MAP to establish dialogues with MAP-User peers. The dialogue 
may then be used to send and receive service requests. 
 All dialogue primitives contain a dialogue ID, which is encoded in the message header. It does 
not form part of the parameter area. It must be provided by the MAP-User with the MAP- 
OPEN primitive and used in the message header of all subsequent dialogue and service 
primitives associated with that dialogue. Dialogues initiated remotely will have a dialogue id 
assigned by MAP.  
Section 4  Interface to MAP-User 
24 
Parameter area contents: 
 
The dialogue primitive type octet is coded as defined in Section 4.3  Dialogue Primitive Types. 
 The following table lists the parameters associated with each dialogue request primitive and 
shows whether the parameter is Mandatory (M), in which case the message will be discarded 
if the parameter is omitted, or Optional (O), in which case the parameter is not considered 
essential. 
 MAP Primitive 
 
 
 
 
 
 
 
Parameter 
 
 
 
 
 
O 
P 
E 
N 
- 
R 
E 
Q 
 
 
 
 
C    
L   
O   
S   
E 
- 
R 
E 
Q 
D 
E 
L 
I 
M 
I 
T 
E 
R 
- 
R 
E 
Q 
 
 
U 
- 
A 
B 
O 
R 
T 
- 
R 
E 
Q 
 
 
 
 
 
O 
P 
E 
N 
- 
R 
S 
P 
Destination address M   O O 
Destination reference O     
Originating address O   O O 
Originating reference O     
Result     M 
Refuse reason     O* 
Release method  M    
User reason    M  
Provider reason      
Diagnostic information    O  
Application context name M    O 
Source      
Problem diagnostic      
Quality of Service   O   
Ellipsis O     
NC O     
 
* May only be used with MAP V2 and V3 dialogues. 
MAP Programmer's Manual Issue 13 
 
                                25 
4.6   MAP Dialogue Indication 
Synopsis: 
 
Protocol message sent from MAP to the MAP-User containing a MAP dialogue primitive. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_DLG_IND (0x87e3) 
id Dialogue ID 
src MAP_TASK_ID 
dst Sending module ID 
rsp_req 0 
hclass 0 
status 0 
err_info 0 
len Number of bytes of user data 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 Dialogue primitive type octet. 
1 len – 2 Parameters in Name-Length-Data format. 
len – 1 1 Set to zero indicating end of message. 
 
Description: 
 
The MAP sends dialogue indication and confirmation primitives to the MAP-User. The 
primitives that may be sent are detailed in section Dialogue Primitive Types.  
 Indication primitives are sent to indicate incoming dialogue control and problem reports. The 
MAP-Provider indicates incoming dialogue open, close, abort, notice (problem report) and 
delimiter (end of a group of service indications) primitives. 
 The MAP-User must confirm the open dialogue primitive with the remote peer before 
accepting service requests from it.  
 All dialogue primitives must contain the dialogue ID of the dialogue to which they refer. This is 
encoded in the message header. It does not form part of the parameter area. 
Section 4  Interface to MAP-User 
26 
Parameter area contents: 
 
 The dialogue primitive type octet is coded as defined in section 4.3  Dialogue Primitive Types. 
 The coding of the dialogue primitive parameters is given in section 4.7  MAP Dialogue 
Primitive Parameters. 
 The following table lists the parameters associated with each dialogue indication primitive and 
shows whether the parameter is Mandatory (M), in which case the message will be discarded 
if the parameter is omitted, or Optional (O), in which case the parameter is not considered 
essential. 
 MAP Primitive 
 
 
 
 
 
 
 
Parameter 
 
 
 
 
 
O 
P 
E 
N 
– 
I 
N 
D 
 
 
 
 
C 
L 
O 
S 
E 
– 
I 
N 
D 
D 
E 
L 
I 
M 
I 
T 
E 
R 
- 
I 
N 
D 
 
 
U 
- 
A 
B 
O 
R 
T 
- 
I 
N 
D 
 
 
P 
- 
A 
B 
O 
R 
T 
- 
I 
N 
D 
 
 
 
 
 
O 
P 
E 
N 
- 
C 
N 
F 
 
 
 
N 
O 
T 
I 
C 
E 
– 
I 
N 
D 
Destination address M   O  O  
Destination reference O       
Originating address O   O  O  
Originating reference O       
Result      M  
Refuse reason      O*  
Release method        
User reason    M    
Provider reason     M O  
Diagnostic information    O    
Application context name M     O  
Source     M   
Problem diagnostic       M 
Ellipsis O       
Release confirm  O      
Report cause       O 
NC O       
 
* May only be used with MAP V2 and V3 dialogues. 
MAP Programmer's Manual Issue 13 
 
                                27 
4.7   MAP Dialogue Primitive Parameters 
 The following parameter names are defined for use in dialogue primitive messages: 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
Destination address MAPPN_dest_address 1 0x01 
Destination reference MAPPN_dest_ref 2 0x02 
Originating address MAPPN_orig_address 3 0x03 
Originating reference MAPPN_orig_ref 4 0x04 
Result MAPPN_result 5 0x05 
Refuse reason MAPPN_refuse_rsn 6 0x06 
Release method MAPPN_release_method 7 0x07 
User reason MAPPN_user_rsn 8 0x08 
Provider reason MAPPN_prov_rsn 9 0x09 
Diagnostic information MAPPN_diag_inf 10 0x0a 
Application context name MAPPN_applic_context 11 0x0b 
Source MAPPN_source 12 0x0c 
Problem diagnostic MAPPN_prob_diag 13 0x0d 
Qos MAPPN_qos 238 0xee 
Release confirm MAPPN_release_confirm 239 0xef 
Report Cause MAPPN_report_cause 266 0x10a 
Network Context MAPPN_nc 290 0x122 
 
 
 The coding for each parameter type is given in the following tables:  
Parameter name MAPPN_applic_context 
Parameter length Fixed, set to 9 
Parameter data Application Context Name. 
Encoded as specified in Q.773 commencing with the 
Object Identifier Name tag. 
 
Parameter name MAPPN_dest_address 
Parameter length Variable, in the range 2 to 18 
Parameter data Destination address parameter encoded in the format 
expected by the network layer (e.g., when using SCCP, in 
accordance with Q.713 definition of “Called party 
address”, starting with the address indicator and 
containing, optionally, signaling point code, subsystem 
number and global title). 
 
Section 4  Interface to MAP-User 
28 
Parameter name MAPPN_dest_ref 
Parameter length Variable, in the range 1 to 20 
Parameter data MAP version 2: 
Content octets of the destination reference parameter 
encoded as specified in ETS 300-599, i.e., starting with 
the octet containing nature of address indicator and 
numbering plan indicator. 
MAP version 1: 
Coded as above except that the first octet (containing 
nature of address indicator and numbering plan indicator) 
is omitted. 
 
Parameter name MAPPN_diag_inf 
Parameter length Variable, in the range 1 to 200 
Parameter data MAP version 2: 
Single octet coded as follows:  
0 – short term resource limitation 
1 – long term resource limitation 
2 – handover cancellation 
3 – radio channel release 
4 – network path release 
5 – call release 
6 – associated procedure release 
7 – tandem dialogue release 
8 – remote operations failure 
MAP version 1: 
The contents of the parameter are up to the operator. 
 
Parameter name MAPPN_ellipsis 
Parameter length Variable, in the range 2 to 20. (Note length permitted in 
dialogue primitives is less than in service primitives.) 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_nc 
Parameter length Variable, in the range 1 to 2, typically 1. 
Parameter data Network Context Identifier 
If the default NC is being used then this parameter is 
optional. If present it should have a value of 0. For other 
Network Contexts it should match the value defined in the 
relevant MAP_MSG_NC_CONFIG message. 
 
MAP Programmer's Manual Issue 13 
 
                                29 
Parameter name MAPPN_orig_address 
Parameter length Variable, in the range 2 to 18 
Parameter data Origination address parameter encoded in the format 
expected by the network layer (e.g., when using SCCP, in 
accordance with Q.713 definition of “Called party 
address”, starting with the address indicator and 
containing, optionally, signaling point code and global 
title). 
 
Parameter name MAPPN_orig_ref 
Parameter length Variable, in the range 1 to 20 
Parameter data Content octets of the destination reference parameter 
encoded as specified in ETS 300-599, i.e., starting with 
the octet containing nature of address indicator and 
numbering plan indicator. 
 
Parameter name MAPPN_qos 
Parameter length Fixed, set to 1 
Parameter data The octet is an indicator octet. The coding is as follows: 
bit 0 – Set to 1 if the Return Option is selected. 
bit 1 – Set to 1 if Sequence Control is required. 
All other bits are reserved for future use and must be set 
to zero. 
 
Parameter name MAPPN_prob_diag 
Parameter length Fixed, set to 1 
Parameter data 0 – abnormal event detected by peer 
1 – response rejected by peer 
2 – abnormal event received from peer 
3 – message cannot be delivered to the peer 
 
Parameter name MAPPN_prov_rsn 
Parameter length Fixed, set to 1 
Parameter data 0 – provider malfunction 
1 – supporting dialogue/transaction released 
2 – resource limitation 
3 – maintenance activity 
4 – version incompatibility 
5 – abnormal MAP dialogue 
 
Section 4  Interface to MAP-User 
30 
Parameter name MAPPN_refuse_rsn 
Parameter length Fixed, set to 1 
Parameter data Single octet coded as follows:  
0 – no reason given 
1 – invalid destination reference 
2 – invalid originating reference 
3 – application context not supported 
4 – potential version incompatibility* 
5 – remote node not reachable* 
 
* Refuse reasons 4 and 5 are returned by the MAP module (they should not be set by the MAP 
user). 
 
Parameter name MAPPN_release_method 
Parameter length Fixed, set to 1 
Parameter data 0 – normal release 
1 – prearranged end 
 
Parameter name MAPPN_release_confirm 
Parameter length Fixed, set to 1 
Parameter data 0 – Normal end from remote system 
1 – Confirm of pre-arranged end 
 
Parameter name MAPPN_report_cause 
Parameter length Fixed, set to 1 
Parameter data Values as defined in Q713 Return cause 
 
Parameter name MAPPN_result 
Parameter length Fixed, set to 1 
Parameter data 0 – accept 
1 – dialogue refused 
 
Parameter name MAPPN_source 
Parameter length Fixed, set to 1 
Parameter data 0 – MAP problem 
1 – TC problem 
2 – network service problem 
 
MAP Programmer's Manual Issue 13 
 
                                31 
Parameter name MAPPN_user_rsn 
Parameter length Fixed, set to 1 
Parameter data MAP version 2: 
 
Single octet coded as follows:  
0 – user specific reason 
1 – user resource limitation 
2 – resource unavailable 
3 – application procedure cancelled 
4 – procedure error 
 
MAP version 1: 
 
Single octet coded as follows:  
0 – unspecified reason 
1 – version not supported 
2 – user resource limitation 
3 – resource unavailable (long term problem) 
4 – resource unavailable (temporary problem) 
5 – radio channel release 
6 – network path release 
7 – call release 
8 – associated procedure failed 
9 – remote operation failed 
 
 
Section 4  Interface to MAP-User 
32 
4.8   MAP Service Request 
Synopsis: 
 
Protocol message sent from the MAP-User to MAP containing a single specific service 
request primitive. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_SRV_REQ (0xc7e0) 
id Dialogue ID 
src Sending module ID 
dst MAP_TASK_ID 
rsp_req 0 
hclass 0 
status 0 
err_info 0 
len Number of bytes of user data 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 Primitive type octet. 
1 len – 2 Parameters in Name-Length-Data format. 
len – 1 1 Set to zero indicating end of message. 
 
Description: 
 
The MAP-User uses this message to send specific service request and response primitives to 
MAP. The primitives that may be sent are detailed in this section. 
 Once a dialogue has been opened with the peer, the MAP user may send specific service 
primitives to MAP. MAP buffers the service primitives until a dialogue primitive capable of 
transferring the requests to the peer is issued to MAP by the MAP-User.  Only the MAP- 
CLOSE and MAP-DELIMITER dialogue primitives may be used to transfer the service 
primitives.  
 Note that although many service primitives may be transferred using one MAP-CLOSE or 
MAP-DELIMITER dialogue primitive, only one service primitive may be present in each 
MAP_MSG_SRV_REQ message. 
 All specific service request primitives must contain the dialogue ID of the dialogue to which 
they belong. This is encoded in the message header and does not form part of the parameter 
area. 
MAP Programmer's Manual Issue 13 
 
                                33 
Parameter area contents: 
 
The specific service primitive type octet is coded as defined in section 4.4  Service Primitive 
Types. 
The following tables show the parameters associated with each service request primitive and 
whether the parameter is  
• M – MANDATORY in which case the message will be discarded if the parameter 
is omitted.  
• C – CONDITIONAL in which case the parameter is mandatory in some 
circumstances only. 
• O – OPTIONAL in which case the parameter is not considered essential.   
• V1 – Only for use with version 1 application contexts. 
• V2 – Only for use with version 2 application contexts. 
• V3 – Only for use with version 3 application contexts. 
• V4 – Only for use with version 4 application contexts. 
 
The “ACK” table for each service indicates parameters for the Response primitive. 
Where a primitive has all its parameters shown, for example, as V1 this implies that the 
primitive is only ever used with version 1 application contexts. 
 
ACTIVATE-SS 
Parameter Class Context 
Primitive type octet M V1, V2 
Timeout (default = 30 seconds) O V1, V2 
Invoke ID M V1, V2 
SS Code M V1, V2 
TeleService Code O V1, V2 
Bearer Service Code O V1, V2 
Long FTN Supported O V2 
Ellipsis O V1, V2 
 
Section 4  Interface to MAP-User 
34 
ACTIVATE-SS-ACK 
Parameter Class Context 
Primitive type octet M V1, V2 
Invoke ID M V1, V2 
Where user error is not included: 
SS Code O V1, V2 
Forwarding Feature List O V1, V2 
Call Barring Feature List O V1, V2 
CUG Facilities O V1 
CUG Feature O V1 
CUG Feature List O V1 
Per Call Basis O V1 
Notification To Held Retrieved 
Party O V1 
User to User Service Indicator O V1 
Maximum Conferees Number O V1 
Hunt Group Access Selection 
Order O V1 
SS Status O V1, V2 
CLI Restriction Option O V2 
Override Category O V2 
Basic Service Group List O V2 
Default Priority O V2 
Number User O V2 
Forwarding Ellipsis O V1, V2 
Call Barring Ellipsis O V1, V2 
SS Data Ellipsis O V2 
Ellipsis O V1, V2 
Where user error is included: 
User Error O V1, V2 
Network Resource O V1, V2 
TeleService Code O V1, V2 
Bearer Service Code O V1, V2 
Call Barring Cause O V1, V2 
Ellipsis O V1, V2 
 
MAP Programmer's Manual Issue 13 
 
                                35 
ACTIVATE-TRACE-MODE 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 30 seconds) O Any 
Invoke ID M Any 
IMSI O Any 
Tracing reference M Any 
Trace type M Any 
OMC-Id O Any 
Ellipsis1 O Any 
 
ACTIVATE-TRACE-MODE-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
Where user error is not included: 
Ellipsis1 O V3 
Where user error is included: 
User Error O Any 
1. The Ellipsis parameters should be used to send data, in ASN.1 format, for the 
‘extensionContainer’ fields for the MAP v3 protocol. 
 
ALERT-SC-WITHOUT-RESULT 
Parameter Class Context 
Primitive type octet M V1 
Timeout (default = 10 seconds) O V1 
Invoke ID M V1 
MSISDN M V1 
Service centre address M V1 
Ellipsis O V1 
 
Section 4  Interface to MAP-User 
36 
ALERT-SERVICE-CENTRE 
Parameter Class Context 
Primitive type octet M V2 
Timeout (default = 10 seconds) O V2 
Invoke ID M V2 
MSISDN M V2 
Service centre address M V2 
Ellipsis O V2 
 
ALERT-SERVICE-CENTRE-ACK 
Parameter Class Context 
Primitive type octet M V2 
Invoke ID M V2 
Where user error is included: 
User error O V2 
Network resource O V2 
 
 
ANY-TIME-INTERROGATION-REQUEST 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 30 seconds) O V3 
Invoke ID M V3 
Requested info M V3 
GsmSCF address M V3 
IMSI C1 V3 
MSISDN C1 V3 
Requested Domain O V3 
Requested info ellipsis O V3 
Ellipsis O V3 
1. Either includes IMSI or MSISDN. 
 
ANY-TIME-INTERROGATION-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
MAP Programmer's Manual Issue 13 
 
                                37 
Where user error is not included: 
Age of location information C1 V3 
Geographical information C1 V3 
VLR number C1 V3 
Location number C1 V3 
LAI C1 V3 
Cell ID C1 V3 
Selected LSA ID O V3 
MSC Number O V3 
Geodetic Information O V3 
Current Location Retrieved O V3 
SAI Present O V3 
Subscriber state C2 V3 
Not reachable reason C3 V3 
Subscriber info ellipsis O V3 
Location info ellipsis O V3 
Cell Global Id for GPRS Location 
Info O 
4 
 V3 
LAI for GPRS Location Info O4 V3 
Routing Area Identity (RAI) O V3 
Geographical Information for 
GPRS Location Info O V3 
SGSN Number O V3 
Selected LSA-Id for GPRS 
Location Info O V3 
SAI Present for GPRS Location 
Info O 
5 
 V3 
Geodetic Information for GPRS 
Location Info O V3 
Current Location Retrieved for 
GPRS Location Info O V3 
Age of GPRS Location Information O V3 
GPRS Location Info ellipsis O V3 
PS Subscriber State O V3 
PS PDP Active Not Reachable for 
Paging list O 
6 
 V3 
PS PDP Active Reachable for 
Paging list O 
7 
 V3 
PS Not Reachable Reason O8 V3 
IMEI O V3 
MS Classmark2 O V3 
Section 4  Interface to MAP-User 
38 
MS Network Capability O V3 
MS Radio Access Capability O V3 
Routing Number O V3 
IMSI for Mobile Number Portability O V3 
MSISDN for Mobile Number 
Portability O V3 
MNP Number Portability Status O V3 
MNP Info Res ellipsis O V3 
Ellipsis O V3 
Where user error is included: 
User error M V3 
Network resource O V3 
Ellipsis O9 V3 
1. At least one of these parameters should be included if the Location information was requested. 
2. The parameter should be included if the Subscriber state was requested. 
3. The parameter should be included if the Subscriber state is set to “not reachable”. 
4. Either of these parameters may be included but not both. 
5. This parameter may only be included if Cell Global Id for GPRS Location Info was include. 
6. This parameter should be included if PS Subscriber State is set to “PS PDP Active Not 
Reachable for Paging”. 
7. This parameter should be included if PS Subscriber State is set to “PS PDP Active Reachable 
for Paging”. 
8. This parameter should be included if PS Subscriber State is set to “Net Det Not Reachable”. 
9. This parameter can be included if the user-error is ATI-NotAllowed. 
 
ANY-TIME-INTERROGATION-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
Age of location information C1 V3 
Geographical information C1 V3 
VLR number C1 V3 
Location number C1 V3 
LAI C1 V3 
Cell ID C1 V3 
Selected LSA ID O V3 
MSC Number O V3 
Geodetic Information O V3 
Current Location Retrieved O V3 
SAI Present O V3 
MAP Programmer's Manual Issue 13 
 
                                39 
Subscriber state C2 V3 
Not reachable reason C3 V3 
Subscriber info ellipsis O V3 
Location info ellipsis O V3 
Cell Global Id for GPRS Location 
Info O 
4 
 V3 
LAI for GPRS Location Info O4 V3 
Routing Area Identity (RAI) O V3 
Geographical Information for 
GPRS Location Info O V3 
SGSN Number O V3 
Selected LSA-Id for GPRS 
Location Info O V3 
SAI Present for GPRS Location 
Info O 
5 
 V3 
Geodetic Information for GPRS 
Location Info O V3 
Current Location Retrieved for 
GPRS Location Info O V3 
Age of GPRS Location Information O V3 
GPRS Location Info ellipsis O V3 
PS Subscriber State O V3 
PS PDP Active Not Reachable for 
Paging list O 
6 
 V3 
PS PDP Active Reachable for 
Paging list O 
7 
 V3 
PS Not Reachable Reason O8 V3 
IMEI O V3 
MS Classmark2 O V3 
MS Network Capability O V3 
MS Radio Access Capability O V3 
Routing Number O V3 
IMSI for Mobile Number Portability O V3 
MSISDN for Mobile Number 
Portability O V3 
MNP Number Portability Status O V3 
MNP Info Res ellipsis O V3 
Ellipsis O V3 
Where user error is included: 
User error M V3 
Network resource O V3 
Section 4  Interface to MAP-User 
40 
Ellipsis O9 V3 
10. At least one of these parameters should be included if the Location information was requested. 
11. The parameter should be included if the Subscriber state was requested. 
12. The parameter should be included if the Subscriber state is set to “not reachable”. 
13. Either of these parameters may be included but not both. 
14. This parameter may only be included if Cell Global Id for GPRS Location Info was include. 
15. This parameter should be included if PS Subscriber State is set to “PS PDP Active Not 
Reachable for Paging”. 
16. This parameter should be included if PS Subscriber State is set to “PS PDP Active Reachable 
for Paging”. 
17. This parameter should be included if PS Subscriber State is set to “Net Det Not Reachable”. 
18. This parameter can be included if the user-error is ATI-NotAllowed. 
 
ANY-TIME-MODIFICATION 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
IMSI C1 V3 
MSISDN C1 V3 
GSM SCF Address O V3 
Modification Request for CF Info (O) 
SS Code O22 V3 
Bearer Service C2 V3 
Teleservice C2 V3 
Ext SS Status O2 V3 
Forwarded to Number O2 V3 
Forwarded to Subaddress O2 V3 
No Reply Condition Time O2 V3 
MR CFInfo Notification to CSE O2 V3 
MR CFInfo Ellipsis O2 V3 
Modification Request for CB Info (O) 
SS Code 2 O2 V3 
Bearer Service Code 2 C2 V3 
Teleservice Code 2 C2 V3 
Ext SS Status 2 O2 V3 
Password O2 V3 
Wrong Password Attempts Count O2 V3 
MR CBInfo Notification to CSE O2 V3 
MR CBInfo Ellipsis O2 V3 
Modification Request for CSI (O) 
MAP Programmer's Manual Issue 13 
 
                                41 
Requested CAMEL Subscription 
Information O2 V3 
MR CSI Notification to CSE O2 V3 
Modify CSI State O2 V3 
Additional Requested CAMEL 
Subscription Information O2 V3 
MR CSI Ellipsis O2 V3 
Long Forwarded to Number Supported O V3 
Modification Request for ODB data (O) 
ODB Data (O2) 
ODB General Data O3 V3 
ODB HPLMN Data O3 V3 
ODB Data Ellipsis O3 V3 
MR ODB Data Notification to CSE O2 V3 
MR ODB Data Ellipsis O2 V3 
Modification Request for IP-SM-GW Data (O) 
Modify Registration Status O2 V3 
MR IPSMGW Data Ellipsis O2 V3 
Ellipsis O  V3 
1. Either IMSI or MSISDN must be present. 
2. The ‘O2’ format used here indicates a parameter’s sub-table ‘nesting’, e.g., O3 = Parameter is 
Optional in sub-table which itself is nested in a sub-table. 
 
ANY-TIME-MODIFICATION-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Ext SS Info for CSE (O) 
Ext Forwarding Info for CSE (C2) 
SS Code O3 V3 
Ext Forwarding Feature List O3 V3 
Notification to CSE O3 V3 
Forwarding Ellipsis O3 V3 
Ext Call Barring Info for CSE (C2) 
SS Code O3 V3 
Ext Call Barring Feature List O3 V3 
Password  O3 V3 
Wrong Password Attempts Count O3 V3 
Section 4  Interface to MAP-User 
42 
Notification to CSE O3 V3 
Call Barring Ellipsis O3 V3 
CAMEL Subscription Information O V3 
ODB Info (O) 
ODB Data (O2) 
ODB General Data O3 V3 
ODB HPLMN Data O3 V3 
ODB Data Ellipsis O3 V3 
ODB Info Notification to CSE O2 V3 
ODB Info Ellipsis O2 V3 
Ellipsis O V3 
Where user error included:   
User Error O V3 
Provider Error O  V3 
Unknown Subscriber Diagnostic O V3 
Call Barring Cause O V3 
Unauthorised Message Origination O V3 
SS Code O V3 
Bearer Service O V3 
Teleservice O V3 
SS Status O V3 
Ellipsis O V3 
 
 
ANYTIME-SUBSCRIPTION-INTERROGATION 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 30 seconds) O V3 
Invoke ID M V3 
IMSI C1 V3 
MSISDN C1 V3 
Requested Subscriber Info M V3 
GSM SCF Address M V3 
Long FTN supp O V3 
Ellipsis O V3 
1. At least one of these parameters should be included. 
 
MAP Programmer's Manual Issue 13 
 
                                43 
ANYTIME-SUBSCRIPTION-INTERROGATION-ACK 
Parameter Class 
 
Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
Call Forwarding Data O V3 
Call Barring Data O V3 
ODB Information O V3 
CAMEL Subscription Info O V3 
Supported CAMEL Phases in VLR O V3 
Supported CAMEL Phases in 
SGSN O V3 
Offered CAMEL 4 CSIs in VLR O V3 
Offered CAMEL 4 CSIs in SGSN O V3 
Ellipsis O V3 
Where user error is included: 
User error M  V3 
Unknown subscriber diagnostic O V3 
Call Barring Cause O V3 
 
 
 
AUTHENTICATION-FAILURE-REPORT 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
IMSI M V3 
Failure Cause M V3 
Re-Attempt O V3 
Access Type O V3 
Rand O V3 
VLR Number O V3 
SGSN Number O V3 
Ellipsis O V3 
 
Section 4  Interface to MAP-User 
44 
 
AUTHENTICATION-FAILURE-REPORT-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
Ellipsis O V3 
Where user error is included: 
User Error O V3 
Network Resource O V3 
Provider Error O V3 
 
 
CANCEL-LOCATION 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 30 seconds) O Any 
Invoke ID M Any 
IMSI M Any 
LMSI O Any 
Cancellation Type O V3 
IMSI with LMSI ellipsis O Any 
Ellipsis O V3 
 
CANCEL-LOCATION-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
Where user error is not included: 
Ellipsis O V3 
Where user error is included: 
User error M Any 
Ellipsis O V3 
 
MAP Programmer's Manual Issue 13 
 
                                45 
 
CHECK-IMEI 
Parameter Class Context 
Primitive type octet M V1,V2,V3 
Timeout (default = 30 seconds) O V1, V2 
Invoke ID M V1,V2,V3 
IMEI M1 V1,V2,V3 
Custom IMEI C1 V1,V2 
Requested Equipment Information M V3 
Ellipsis C1 V1,V2,V3 
1. Normally for MAP V1 and MAP V2 only IMEI (and Invoke ID) should be specified. To 
send Ellipsis data for MAP V1 or V2, the Custom IMEI parameter should be used 
instead of IMEI. 
CHECK-IMEI-ACK 
Parameter Class Context 
Primitive type octet M V1,V2,V3 
Invoke ID M V1,V2,V3 
Where user error not included: 
Equipment Status C V1,V2,V3 
Uesbi-iua O V3 
Uesbi-iub O V3 
Uesbi-ellipsis O V3 
Ellipsis O V3 
Where user error included: 
User Error O V1,V2,V3 
Network Resource O V1,V2,V3 
 
 
Section 4  Interface to MAP-User 
46 
DEACTIVATE-SS 
Parameter Class Context 
Primitive type octet M V1, V2 
Timeout (default = 30 seconds) O V1, V2 
Invoke ID M V1, V2 
SS Code M V1, V2 
TeleService Code O V1, V2 
Bearer Service Code O V1, V2 
Long FTN Supported O V2 
Ellipsis O V1, V2 
 
DEACTIVATE-SS-ACK 
Parameter Class Context 
Primitive type octet M V1, V2 
Invoke ID M V1, V2 
Where user error is not included: 
SS Code O V1, V2 
Forwarding Feature List O V1, V2 
Call Barring Feature List O V1, V2 
CUG Facilities O V1 
CUG Feature O V1 
CUG Feature List O V1 
SS Status O V1, V2 
Per Call Basis O V1 
Notification To Held Retrieved 
Party O V1 
User to User Service Indicator O V1 
Maximum Conferees Number O V1 
Hunt Group Access Selection 
Order O V1 
CLI Restriction Option O V2 
Override Category O V2 
Basic Service Group List O V2 
Default Priority O V2 
Number User O V2 
Forwarding Ellipsis O V1, V2 
Call Barring Ellipsis O V1, V2 
SS Data Ellipsis O V2 
Ellipsis O V1, V2 
MAP Programmer's Manual Issue 13 
 
                                47 
Where user error is included: 
User Error O V1, V2 
Network Resource O V1, V2 
TeleService Code O V1, V2 
Bearer Service Code O V1, V2 
Call Barring Cause O V1, V2 
Ellipsis O V1, V2 
 
 
DEACTIVATE-TRACE-MODE 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 30 seconds) O Any 
Invoke ID M Any 
IMSI O Any 
Tracing reference M Any 
Ellipsis1 O Any 
 
DEACTIVATE-TRACE-MODE-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
Where user error is not included: 
Ellipsis1 O V3 
Where user error is included: 
User Error O Any 
2. The Ellipsis parameters should be used to send data, in ASN.1 format, for the 
‘extensionContainer’ fields for the MAP v3 protocol. 
 
DELETE-SUBSCRIBER-DATA 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 30 seconds) O Any 
Invoke ID M Any 
IMSI M Any 
Subscriber data O Any 
Section 4  Interface to MAP-User 
48 
 
DELETE-SUBSCRIBER-DATA-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
Where user error is not included: 
Regional subscription response O V2,V3 
Ellipsis O V3 
Where user error is included: 
User error M Any 
Ellipsis O V3 
 
 
ERASE-CC-ENTRY 
Parameter Class Context 
Extended Service Type octet = 
0xff M V3 
Service Type M V3 
Invoke ID M V3 
SS-Code M V3 
CCBS Index O V3 
Ellipsis O V3 
 
ERASE-CC-ENTRY-ACK 
Parameter Class Context 
Extended Service Type octet = 
0xff M V3 
Service Type M V3 
Invoke ID M V3 
Where user error is not included 
SS-Code M V3 
SS-Status O  V3 
Ellipsis O  V3 
Where user error is included 
User Error M V3 
Provider Error O V3 
Network Resource O V3 
Ellipsis O  V3 
 
MAP Programmer's Manual Issue 13 
 
                                49 
 
ERASE-SS 
Parameter Class Context 
Primitive type octet M V1, V2 
Timeout (default = 30 seconds) O V1, V2 
Invoke ID M V1, V2 
SS Code M V1, V2 
TeleService Code O V1, V2 
Bearer Service Code O V1, V2 
Long FTN Supported O V2 
Ellipsis O V1, V2 
 
Section 4  Interface to MAP-User 
50 
ERASE-SS-ACK 
Parameter Class Context 
Primitive type octet M V1, V2 
Invoke ID M V1, V2 
Where user error is not included: 
SS Code O V1, V2 
Forwarding Feature List O V1, V2 
Call Barring Feature List O V1, V2 
CUG Facilities O V1 
CUG Feature O V1 
CUG Feature List O V1 
SS Status O V1, V2 
Per Call Basis O V1 
Notification To Held Retrieved 
Party O V1 
User to User Service Indicator O V1 
Maximum Conferees Number O V1 
Hunt Group Access Selection 
Order O V1 
CLI Restriction Option O V2 
Override Category O V2 
Basic Service Group List O V2 
Default Priority O V2 
Number User O V2 
Forwarding Ellipsis O V1, V2 
Call Barring Ellipsis O V1, V2 
SS Data Ellipsis O V2 
Ellipsis O V1, V2 
Where user error is included: 
User Error O V1, V2 
Network Resource O V1, V2 
TeleService Code O V1, V2 
Bearer Service Code O V1, V2 
Call Barring Cause O V1, V2 
Ellipsis O V1, V2 
 
 
 
MAP Programmer's Manual Issue 13 
 
                                51 
FAILURE-REPORT   
Parameter Class 
 
Context 
Primitive type octet M V3 
Invoke ID M V3 
IMSI M V3 
GGSN Number M V3 
GGSN Address O V3 
Ellipsis O V3 
 
 
FORWARD-ACCESS-SIGNALLING 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
AN-APDU 
Access Network Protocol Id O2 V3 
Signal Info O2 V3 
Access Network Signal    
Information  Ellipsis O2 V3 
Integrity Protection Information O V3 
Encryption Information O V3 
Key Status O V3 
Allowed GSM Algorithms O V3 
Allowed UMTS Algorithms 
Allowed UMTS Integrity Protection 
Algorithms O2 V3 
Allowed Encryption Algorithms O2 V3 
Allowed UMTS Ellipsis O2 V3 
Radio Resource Information O V3 
Radio Resource List 
Radio Resource List Radio 
Resource Information (6) O2 V3 
Radio Resource List RAB Id (6) O2 V3 
Radio Resource List Ellipsis (6) O2 V3 
BSSMAP Service Handover O V3 
RANAP Service Handover O V3 
BSSMAP Service Handover List 
Section 4  Interface to MAP-User 
52 
BSSMAP List Service Handover 
(7) O2 V3 
BSSMAP List RAB Id (7) O2 V3 
BSSMAP Service Handover List 
Ellipsis (7) O2 V3 
Iu-Currently Used Codec O V3 
Iu-Supported Codecs List 
UTRAN Codec 1 O2 V3 
UTRAN Codec 2 O2 V3 
UTRAN Codec 3 O2 V3 
UTRAN Codec 4 O2 V3 
UTRAN Codec 5 O2 V3 
UTRAN Codec 6 O2 V3 
UTRAN Codec 7 O2 V3 
UTRAN Codec 8 O2 V3 
UTRAN Codec Ellipsis O2 V3 
GERAN Codec 1 O2 V3 
GERAN Codec 2 O2 V3 
GERAN Codec 3 O2 V3 
GERAN Codec 4 O2 V3 
GERAN Codec 5 O2 V3 
GERAN Codec 6 O2 V3 
GERAN Codec 7 O2 V3 
GERAN Codec 8 O2 V3 
GERAN Codec Ellipsis O2 V3 
RAB Configuration Indicator O V3 
Iu-Selected Codec O V3 
Alternative Channel Type O V3 
Trace Propagation List 
Tracing Reference O2 V3 
Trace Type O2 V3 
Trace Reference 2 O2 V3 
Trace Recording Session 
Reference O2 V3 
RNC Trace Depth O2 V3 
RNC Interface List O2 V3 
MSC Trace Depth O2 V3 
MSC Interface List O2 V3 
MSC Event List O2 V3 
MAP Programmer's Manual Issue 13 
 
                                53 
MGW Trace Depth O2 V3 
MGW Interface List O2 V3 
MGW Event List O2 V3 
Trace Propagation List Ellipsis O2 V3 
Ellipsis O V3 
 
 
FORWARD-CHECK-SS-INDICATION   
Parameter Class 
 
Context 
Primitive type octet M Any 
Invoke ID M Any 
 
 
FORWARD-SHORT-MESSAGE   
Parameter Class 
 
Context 
Primitive type octet M Any 
Timeout (default = 600 seconds) O Any 
Invoke ID M Any 
SM RP DA O Any 
SM RP OA O Any 
SM RP UI M Any 
More messages to send O V2 
Ellipsis O Any 
 
FORWARD-SHORT-MESSAGE-ACK  
Parameter Class 
 
Context 
Primitive type octet M All 
Invoke ID M All 
User error O Any 
Network resource O Any 
SM delivery failure cause C1 Any 
1. Must be included where the user error is “SM delivery failure”. 
 
 
Section 4  Interface to MAP-User 
54 
GET-PASSWORD 
Parameter Class 
 
Context 
Primitive type octet M V2 
Timeout (default = 30 seconds) O V2 
Invoke ID M V2 
Linked ID O V2 
Guidance Info M V2 
Ellipsis O V2 
 
GET-PASSWORD-ACK 
Parameter Class Context 
Primitive type octet M V2 
Invoke ID  M V2 
Where user error is not included: 
Current Password O V2 
Ellipsis O V2 
 
 
INFORM-SERVICE-CENTRE 
Parameter Class Context 
Primitive type octet M V2, V3 
Timeout (default = 10 seconds) O V2, V3 
Invoke ID M V2, V3 
MSISDN O V2, V3 
MWD status O V2, V3 
Ellipsis O V2, V3 
 
 
INSERT-SUBSCRIBER-DATA 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 30 seconds) O Any 
Invoke ID M Any 
IMSI O Any 
MSISDN O Any 
Subscriber data O Any 
MAP Programmer's Manual Issue 13 
 
                                55 
 
INSERT-SUBSCRIBER-DATA-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
Where user error is not included: 
Subscriber data O V2,V3 
Where user error is included: 
User error M Any 
Ellipsis O V3 
 
 
INTERROGATE-SS 
Parameter Class 
 
Context 
Primitive type octet M V1, V2 
Timeout (default = 30 seconds) O V1, V2 
Invoke ID M V1, V2 
SS code M V1, V2 
Teleservice code O V1, V2 
Bearer service code O V1, V2 
Ellipsis O V1, V2 
 
INTERROGATE-SS-ACK 
Parameter Class 
 
Context 
Primitive type octet M V1, V2 
Invoke ID M V1, V2 
Where user error is not included (version 1): 
SS status C1 V1 
Forwarded to number C1 V1 
Basic service list C1 V1 
Forwarding feature list C1 V1 
Where user error is not included (version 2): 
SS status C2 V2 
Basic service group list C2 V2 
Forwarding feature list C2 V2 
Section 4  Interface to MAP-User 
56 
CLI restriction option O3 V2 
Maximum entitled priority O3 V2 
Default priority O3 V2 
CCBS feature list O3 V2 
Where user error is included: 
User error O V1, V2 
Network resource O V1, V2 
Call barring cause O V1, V2 
1. One of these parameters must be present. 
2. One of these parameters must be present. 
3. Can only be present if ‘SS status’ (V2) is present. 
 
 
MO-FORWARD-SHORT-MESSAGE 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 600 seconds) O V3 
Invoke ID M V3 
SM RP DA M V3 
SM RP OA M V3 
SM RP UI M V3 
IMSI O V3 
Ellipsis O V3 
 
MO-FORWARD-SHORT-MESSAGE-ACK  
Parameter Class 
 
Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
SM RP UI O V3 
Ellipsis O V3 
Where user error is included: 
User error O V3 
Network resource O V3 
SM delivery failure cause C1 V3 
Diagnostic info O2 V3 
1. Must be included where the user error is “SM delivery failure”. 
MAP Programmer's Manual Issue 13 
 
                                57 
2. Can only be included if “SM delivery failure cause” is present. 
 
 
MT-FORWARD-SHORT-MESSAGE 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 600 seconds) O V3 
Invoke ID M V3 
SM RP DA O V3 
SM RP OA O V3 
SM RP UI M V3 
More messages to send O V3 
 
MT-FORWARD-SHORT-MESSAGE-ACK 
Parameter Class 
 
Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
SM RP UI O V3 
Where user error is included: 
User error M V3 
Network resource O V3 
GPRS connection suspended O V3 
SM delivery failure cause C1 V3 
Diagnostic info O2 V3 
Absent subscriber diagnostic SM O V3 
Additional absent subscriber 
diagnostic SM O V3 
1. Must be included where the user error is “SM delivery failure”. 
2. Can only be included if “SM delivery failure cause” is present. 
 
Section 4  Interface to MAP-User 
58 
 
NOTE-MM-EVENT 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 30 seconds) O V3 
Invoke ID M V3 
Service Key M V3 
Event Met M V3 
IMSI M V3 
MSISDN M V3 
Age of Location Information O V3 
Geographical Information O V3 
VLR Number O V3 
Location Number O V3 
Cell ID C1 V3 
LAI C1 V3 
Selected LSA ID O V3 
MSC Number O V3 
Geodetic Information O V3 
Current Location Retrieved O V3 
SAI Present O V3 
Supported CAMEL Phases O V3 
Location Info Ellipsis O V3 
Ellipsis O V3 
1. Cell ID or LAI may be present. 
 
NOTE-MM-EVENT-ACK 
Parameter Class 
 
Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
Ellipsis O V3 
Where user error is included: 
User error M  V3 
Unknown subscriber diagnostic O V3 
 
 
MAP Programmer's Manual Issue 13 
 
                                59 
NOTE_MS_PRESENT_FOR_GPRS  
Parameter Class 
 
Context 
Primitive type octet M V3 
Invoke ID M V3 
IMSI M V3 
SGSN Address M V3 
GGSN Address O V3 
Ellipsis O V3 
 
NOTE-SUBSCRIBER-PRESENT 
Parameter Class Context 
Primitive type octet M V1 
Timeout (default = 10 seconds) O V1 
Invoke ID M V1 
IMSI M V1 
 
PREPARE-HANDOVER 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Target Cell Id O V3 
Handover Number Not Required O V3 
Target RNC Id O V3 
AN-APDU 
Access Network Protocol Id O2 V3 
Signal Info O2 V3 
Access Network Signal    
Information  Ellipsis O2 V3 
Multiple Bearer Requested O V3 
IMSI O V3 
Integrity Protection Information O V3 
Encryption Information O V3 
Radio Resource Information O V3 
Allowed GSM Algorithms O V3 
Allowed UMTS Algorithms 
Allowed UMTS Integrity Protection 
Algorithms O2 V3 
Section 4  Interface to MAP-User 
60 
Allowed Encryption Algorithms O2 V3 
Allowed UMTS Ellipsis O2 V3 
Radio Resource List 
Radio Resource List Radio 
Resource Information (6) O2 V3 
Radio Resource List RAB Id (6) O2 V3 
Radio Resource List Ellipsis (6) O2 V3 
RAB Id O V3 
BSSMAP Service Handover O V3 
RANAP Service Handover O V3 
BSSMAP Service Handover List 
BSSMAP List Service Handover 
(7) O2 V3 
BSSMAP List RAB Id (7) O2 V3 
BSSMAP Service Handover List 
Ellipsis (7) O2 V3 
ASCI  Call Reference O V3 
GERAN Classmark O V3 
Iu-Currently Used Codec O V3 
Iu-Supported Codecs List 
UTRAN Codec 1 O2 V3 
UTRAN Codec 2 O2 V3 
UTRAN Codec 3 O2 V3 
UTRAN Codec 4 O2 V3 
UTRAN Codec 5 O2 V3 
UTRAN Codec 6 O2 V3 
UTRAN Codec 7 O2 V3 
UTRAN Codec 8 O2 V3 
UTRAN Codec Ellipsis O2 V3 
GERAN Codec 1 O2 V3 
GERAN Codec 2 O2 V3 
GERAN Codec 3 O2 V3 
GERAN Codec 4 O2 V3 
GERAN Codec 5 O2 V3 
GERAN Codec 6 O2 V3 
GERAN Codec 7 O2 V3 
GERAN Codec 8 O2 V3 
GERAN Codec Ellipsis O2 V3 
RAB Configuration Indicator O V3 
MAP Programmer's Manual Issue 13 
 
                                61 
UESBI-Iu 
UESBI-IUA O2 V3 
UESBI-IUB O2 V3 
UESBI Ellipsis O2 V3 
IMEI O V3 
Alternative Channel Type O V3 
Trace Propagation List 
Tracing Reference O2 V3 
Trace Type O2 V3 
Trace Reference 2 O2 V3 
Trace Recording Session 
Reference O2 V3 
RNC Trace Depth O2 V3 
RNC Interface List O2 V3 
MSC Trace Depth O2 V3 
MSC Interface List O2 V3 
MSC Event List O2 V3 
MGW Trace Depth O2 V3 
MGW Interface List O2 V3 
MGW Event List O2 V3 
Trace Propagation List Ellipsis O2 V3 
Ellipsis O V3 
 
PREPARE-HANDOVER-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error not included: 
Handover number O V3 
Relocation Number List 
Relocation Number List Handover 
Number (7) O2 V3 
Relocation Number List RAD Id 
(7) O2 V3 
Relocation Number List Ellipsis (7) O2 V3 
AN-APDU 
Access Network Protocol Id O2 V3 
Signal Info O2 V3 
Section 4  Interface to MAP-User 
62 
Access Network Signal    
Information  Ellipsis O2 V3 
Multicall Bearer Information O V3 
Multiple Bearer Not Supported O V3 
Selected UMTS Algorithms 
Selected UMTS Integrity 
Protection Algorithm O2 V3 
Selected UMTS Encryption 
Algorithm  O2 V3 
Selected UMTS Ellipsis O2 V3 
Chosen Radio Resource Information 
Chosen Channel Information O2 V3 
Chosen Speech Version O2 V3 
Chosen Radio Resource 
Information Ellipsis O2 V3 
Iu-Selected Codec O V3 
Iu-Available Codecs List 
Available Codec 1 O2 V3 
Available Codec 2 O2 V3 
Available Codec 3 O2 V3 
Available Codec 4 O2 V3 
Available Codec 5 O2 V3 
Available Codec 6 O2 V3 
Available Codec 7 O2 V3 
Available Codec 8 O2 V3 
Available Codec Ellipsis O2 V3 
Ellipsis O V3 
Where user error included:   
User Error O V3 
Provider Error O  V3 
 
 
PREPARE-SUBSEQUENT-HANDOVER 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Target Cell Id O V3 
Target MSC Number M V3 
Target RNC Id O V3 
MAP Programmer's Manual Issue 13 
 
                                63 
AN-APDU 
Access Network Protocol Id O2 V3 
Signal Info O2 V3 
Access Network Signal    
Information  Ellipsis O2 V3 
Selected RAB Id O V3 
GERAN Classmark O V3 
RAB Configuration Indicator O V3 
Ellipsis O V3 
 
PREPARE-SUBSEQUENT-HANDOVER-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error not included: 
AN-APDU 
Access Network Protocol Id O2 V3 
Signal Info O2 V3 
Access Network Signal    
Information  Ellipsis O2 V3 
Ellipsis O V3 
Where user error included: 
User Error O V3 
Provider Error O V3 
 
 
PROCESS-ACCESS-SIGNALLING 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
AN-APDU 
Access Network Protocol Id M2 V3 
Signal Info M2 V3 
Access Network Signal    
Information  Ellipsis O2 V3 
Selected UMTS Algorithms 
Selected UMTS Integrity 
Protection Algorithm O2 V3 
Section 4  Interface to MAP-User 
64 
Selected UMTS Encryption 
Algorithm  O2 V3 
Selected UMTS Ellipsis O2 V3 
Selected GSM Algorithm O V3 
Chosen Radio Resource Information 
Chosen Channel Information O2 V3 
Chosen Speech Version O2 V3 
Chosen Radio Resource 
Information Ellipsis O2 V3 
Selected RAB  Id O V3 
IU-Selected Codec O V3 
IU-Available Codecs List O V3 
Available Codec 1 O2 V3 
Available Codec 2 O2 V3 
Available Codec 3 O2 V3 
Available Codec 4 O2 V3 
Available Codec 5 O2 V3 
Available Codec 6 O2 V3 
Available Codec 7 O2 V3 
Available Codec 8 O2 V3 
Available Codec Ellipsis O2 V3 
Ellipsis O V3 
 
 
PROCESS_UNSTRUCTURED_SS_REQUEST1 
Parameter Class Context 
Primitive type octet M V1, V2 
Timeout (default = 600 seconds) O V1, V2 
Invoke ID M V1, V2 
USSD Data Coding Scheme M V2 
USSD String M V1, V2 
Alerting pattern O V2 
MSISDN O V2 
Ellipsis O V2 
1. This primitive is used for the Version 1 “Process unstructured SS data” service. 
 
MAP Programmer's Manual Issue 13 
 
                                65 
PROCESS_UNSTRUCTURED_SS_REQUEST_ACK 
Parameter Class Context 
Primitive type octet M V1, V2 
Invoke ID M V1, V2 
Where user error is not included: 
USSD Data Coding Scheme M V2 
USSD String C1 V1, V2 
Ellipsis O V2 
Where user error is included: 
User Error M V1, V2 
Network Resource O V1, V2 
Call barring cause O V2 
Unauthorised message originator O V2 
1. Optional in version 1. 
 
 
PROVIDE-ROAMING-NUMBER 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 30 seconds) O Any 
Invoke ID M Any 
IMSI M Any 
MSC number M1 Any 
MSISDN O Any 
Previous roaming number O V1,V2 
LMSI O Any 
 GSM Bearer capability O Any 
Network signal info O Any 
Suppression of announcement O V3 
Call reference number O V3 
GMSC address O V3 
OR interrogation O V3 
OR not supported in GMSC O V3 
Alerting pattern O V3 
CCBS call O V3 
Supported CAMEL phases in 
GMSC O V3 
Additional signal info O V3 
Section 4  Interface to MAP-User 
66 
Ellipsis O V2, V3 
1. Optional in V2. 
 
PROVIDE-ROAMING-NUMBER-ACK 
Parameter Class Context 
Primitive type octet M Any 
Ellipsis O V3 
Where user error is not included: 
Roaming number M Any 
Where user error is included: 
User error M Any 
Network resource O Any 
Absent subscriber reason O V3 
 
 
PROVIDE_SUBSCRIBER_INFO_REQUEST 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 30 seconds) O V3 
Invoke ID M V3 
Requested info M V3 
IMSI M V3 
LMSI O V3 
Requested Domain O V3 
Requested info ellipsis O V3 
Ellipsis O V3 
 
 
 
PROVIDE_SUBSCRIBER_INFO _ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
Age of location information C1 V3 
Geographical information C1 V3 
VLR number C1 V3 
Location number C1 V3 
LAI C1 V3 
MAP Programmer's Manual Issue 13 
 
                                67 
Cell ID C1 V3 
Selected LSA ID O V3 
MSC Number O V3 
Geodetic Information O V3 
Current Location Retrieved O V3 
SAI Present O V3 
Subscriber state C2 V3 
Not reachable reason C3 V3 
Subscriber info ellipsis O V3 
Location info ellipsis O V3 
Cell Global Id for GPRS Location 
Info O 
4 
 V3 
LAI for GPRS Location Info O4 V3 
Routing Area Identity (RAI) O V3 
Geographical Information for 
GPRS Location Info O V3 
SGSN Number O V3 
Selected LSA-Id for GPRS 
Location Info O V3 
SAI Present for GPRS Location 
Info O 
5 
 V3 
Geodetic Information for GPRS 
Location Info O V3 
Current Location Retrieved for 
GPRS Location Info O V3 
Age of GPRS Location Information O V3 
GPRS Location Info ellipsis O V3 
PS Subscriber State O V3 
PS PDP Active Not Reachable for 
Paging list O 
6 
 V3 
PS PDP Active Reachable for 
Paging list O 
7 
 V3 
PS Not Reachable Reason O8 V3 
IMEI O V3 
MS Classmark2 O V3 
MS Network Capability O V3 
MS Radio Access Capability O V3 
Routing Number O V3 
IMSI for Mobile Number Portability O V3 
MSISDN for Mobile Number 
Portability O V3 
Section 4  Interface to MAP-User 
68 
MNP Number Portability Status O V3 
MNP Info Res ellipsis O V3 
Ellipsis O V3 
Where user error is included: 
User error M V3 
Ellipsis O V3 
1. At least one of these parameters should be included if the Location information was requested. 
2. The parameter should be included if the Subscriber state was requested. 
3. The parameter should be included if the Subscriber state is set to “not reachable”. 
4. Either of these parameters may be included but not both. 
5. This parameter may only be included if Cell Global Id for GPRS Location Info was include. 
6. This parameter should be included if PS Subscriber State is set to “PS PDP Active Not 
Reachable for Paging”. 
7. This parameter should be included if PS Subscriber State is set to “PS PDP Active Reachable 
for Paging”. 
8. This parameter should be included if PS Subscriber State is set to “Net Det Not Reachable”. 
 
 
 
PROVIDE-SUBSCRIBER-LOCATION 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 30 seconds) O V3 
Invoke ID M V3 
Location Estimate Type M V3 
MLC Number M V3 
LCS Client Type O V3 
Supported GAD shapes O V3 
External Address (0) O V3 
LCS Client Dialled By MS O V3 
LCS Client Internal ID (0) O V3 
USSD Coding Scheme O V3 
USSD String O V3 
Privacy Override O V3 
IMSI O V3 
MSISDN O V3 
LMSI O V3 
IMEI O V3 
LCS Priority O V3 
Horizontal Accuracy O V3 
MAP Programmer's Manual Issue 13 
 
                                69 
Vertical Coordinate Request O V3 
Vertical Accuracy O V3 
Response Time Category O V3 
Location Type Ellipsis O V3 
LCS Client External Ellipsis (0) O V3 
LCS Client Name Ellipsis  O V3 
LCS Client ID Ellipsis  O V3 
Response Time Ellipsis  O V3 
LCS QOS Ellipsis  O V3 
Ellipsis  O V3 
 
PROVIDE-SUBSCRIBER-LOCATION-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
Location Estimate O V3 
Age Of Location Estimate O V3 
Additional Location Estimate O V3 
Ellipsis O V3 
Where user error is included: 
User Error O V3 
Network Resource O V3 
Unauthorized LCS Client Diag O V3 
Position Method Failure Diag. O V3 
Ellipsis  O V3 
 
 
PURGE_MS  
Parameter Class Context 
Primitive type octet M V2,V3 
Invoke ID M V2,V3 
IMSI M V2,V3 
VLR Number C1 V2,V3 
                                                      
1 
 Mandatory in context V2, Optional in context V3 
Section 4  Interface to MAP-User 
70 
SGSN Number O V3 
Ellipsis O V2,V3 
 
PURGE-MS-ACK  
Parameter Class Context 
Primitive type octet M V2,V3 
Invoke ID M V2,V3 
Where user error is not included: 
Freeze TMSI O V3 
Freeze P_TMSI O V3 
Ellipsis O V3 
Where user error is included: 
User Error O V3 
Provider Error O V2, V3 
 
 
READY-FOR-SM 
Parameter Class Context 
Primitive type octet M V2,V3 
Timeout (default = 30 seconds) O V2,V3 
Invoke ID M V2,V3 
IMSI M V2,V3 
Alert reason M V2,V3 
Alert reason indicator O V3 
Ellipsis  O V2, V3 
 
READY-FOR-SM-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
Where user error is included: 
User error O Any 
Unknown subscriber diagnostic O V3 
Ellipsis  O V3 
 
 
MAP Programmer's Manual Issue 13 
 
                                71 
REGISTER-CC-ENTRY 
Parameter Class Context 
Extended Service Type octet = 
0xff M V3 
Service Type M V3 
Invoke ID M V3 
SS-Code M V3 
CCBS Index O V3 
B Subscriber Number O  V3 
B Subscriber Subaddress O V3 
Tele Service O V3 
Bearer Service O V3 
CCBS Feature Ellipsis O V3 
Translated B Number O V3 
Service Indicator O V3 
Call Info O V3 
Network Signal Info O V3 
CCBS Data Ellipsis  O V3 
Ellipsis O V3 
 
Section 4  Interface to MAP-User 
72 
REGISTER-CC-ENTRY-ACK 
Parameter Class Context 
Extended Service Type octet = 
0xff M V3 
Service Type M V3 
Invoke ID M V3 
Where user error is not included 
CCBS Index O V3 
B Subscriber Number O  V3 
B Subscriber Subaddress O V3 
Tele Service O V3 
Bearer Service O V3 
CCBS Feature Ellipsis O V3 
Ellipsis O  V3 
Where user error is included 
User Error M V3 
Provider Error O V3 
Network Resource O V3 
Ellipsis O  V3 
 
 
REGISTER-PASSWORD 
Parameter Class Context 
Primitive type octet M V2 
Timeout (default = 600 seconds) O V2 
Invoke ID M V2 
SS Code M V2 
Ellipsis O V2 
 
REGISTER-PASSWORD-ACK 
Parameter Class Context 
Primitive type octet M V2 
Invoke ID  M V2 
Where user error is not included: 
New Password O V2 
Ellipsis O V2 
Where user error is included: 
User error M V2 
MAP Programmer's Manual Issue 13 
 
                                73 
Registration Failure Cause O V2 
Ellipsis O V2 
 
 
REGISTER-SS 
Parameter Class Context 
Primitive type octet M V1, V2 
Timeout (default = 30 seconds) O V1, V2 
Invoke ID M V1, V2 
SS Code M V1, V2 
TeleService Code O V1, V2 
Bearer Service Code O V1, V2 
Forwarded To Number O V1, V2 
Forwarded To SubAddress O V2 
No Reply Condition Time O V1, V2 
Default Priority O V2 
Number User O V2 
Long FTN Supported O V2 
Ellipsis O V1, V2 
 
REGISTER-SS-ACK 
Parameter Class Context 
Primitive type octet M V1, V2 
Invoke ID M V1, V2 
Where user error is not included: 
SS Code O V1, V2 
Forwarding Feature List O V1, V2 
Call Barring Feature List O V1, V2 
CUG Facilities O V1 
CUG Feature O V1 
CUG Feature List O V1 
SS Status O V1, V2 
Per Call Basis O V1 
Notification To Held Retrieved 
Party O V1 
User to User Service Indicator O V1 
Maximum Conferees Number O V1 
Section 4  Interface to MAP-User 
74 
Hunt Group Access Selection 
Order O V1 
CLI Restriction Option O V2 
Override Category O V2 
Basic Service Group List O V2 
Default Priority O V2 
Number User O V2 
Forwarding Ellipsis O V1, V2 
Call Barring Ellipsis O V1, V2 
SS Data Ellipsis O V2 
Ellipsis O V1, V2 
Where user error is included: 
User Error O V1, V2 
Network Resource O V1, V2 
TeleService Code O V1, V2 
Bearer Service Code O V1, V2 
Call Barring Cause O V1, V2 
Ellipsis O V1, V2 
 
 
REMOTE-USER-FREE 
Parameter Class Conte 
xt 
Extended Service Type octet = 0xff M V3 
Service Type M V3 
Invoke ID M V3 
IMSI M V3 
Call Info M V3 
CCBS Index O V3 
B Subscriber Number O  V3 
B Subscriber Subaddress O V3 
Tele Service O V3 
Bearer Service O V3 
CCBS Feature Ellipsis O V3 
Translated B Number M V3 
Replace B Number O V3 
Alerting Pattern O V3 
Ellipsis O V3 
 
MAP Programmer's Manual Issue 13 
 
                                75 
REMOTE-USER_FREE-ACK 
Parameter Class Conte 
xt 
Extended Service Type octet = 0xff M V3 
Service Type M V3 
Invoke ID M V3 
Where user error is not included 
Remote User Free Outcome M V3 
Ellipsis O  V3 
Where user error is included 
User Error M V3 
Provider Error O V3 
Network Resource O V3 
Ellipsis O  V3 
 
 
REPORT-SM-DELIVERY-STATUS 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 10 seconds) O Any 
Invoke ID M Any 
MSISDN M Any 
Service centre address M Any 
SM delivery outcome M1 V2,V3 
Absent subscriber diagnostic SM M V3 
  GPRS support indicator O V3 
  Delivery outcome indicator O V3 
  Additional SM delivery outcome O V3 
  Additional absent subscriber  
  diagnostic SM 
O V3 
Ellipsis O Any 
1. Optional in V3 
 
REPORT-SM-DELIVERY-STATUS-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
Section 4  Interface to MAP-User 
76 
Where user error is not included: 
MSISDN O V2,V3 
Ellipsis O V3 
Where user error is included: 
User error M V3 
Unknown subscriber diagnostic O V3 
 
 
RESET 
Parameter Class Context 
Extended Service Type octet M V2,V1 
Service Type M V2,V1 
Invoke ID M V2,V1 
Network Resource M V1 
HLR Number M V2,V1 
HLR List O V2,V1 
Ellipsis O  V2,V1 
 
 
RESTORE-DATA 
Parameter Class Context 
Primitive type octet M V2,V3 
Timeout (default = 30 seconds) O V2,V3 
Invoke ID M V2,V3 
IMSI M V2,V3 
Lmsi O V2,V3 
Supported CAMEL Phases O V3 
SoLSA Support Indicator O V3 
IST Support Indicator O V3 
Long FTN Supported O V3 
Send Subscriber Data O V3 
Subscriber Data Stored O V3 
VLR Capability Ellipsis O V3 
Ellipsis O V2,V3 
 
MAP Programmer's Manual Issue 13 
 
                                77 
 
RESTORE-DATA-ACK 
Parameter Class Context 
Primitive type octet M V2,V3 
Invoke ID  M V2,V3 
Where user error is not included: 
HLR Number O V2,V3 
MS Not Reachable Flag O V2,V3 
Ellipsis O V2,V3 
Where user error is included: 
User error M V2,V3 
Ellipsis O V2,V3 
 
 
Section 4  Interface to MAP-User 
78 
RESUME-CALL-HANDLING 
Parameter Class Context 
Primitive type octet M V3, V4 
Timeout (default = 30 seconds) O V3, V4 
Invoke ID M V3, V4 
Call Reference Number O V3, V4 
Teleservice Code O V3, V4 
Bearer Service Code O V3, V4 
Bearer Service Code 2 O V3, V4 
Teleservice Code 2 O V3, V4 
IMSI O V3, V4 
Forwarded to Number O V3, V4 
Forwarded to Sub Address O V3, V4 
Forwarding Options O V3, V4 
Long FTN Supported O V3, V4 
Forwarding data ellipsis O V3, V4 
MSISDN O V3, V4 
CUG interlock O V3, V4 
CUG Outgoing Access O V3, V4 
CUG CI Ellipsis O V3, V4 
O CSI O V3, V4 
D CDI O V3, V4 
CCBS Possible O V3, V4 
UU Indicator O V3, V4 
UU CF Interaction O V3, V4 
UUI O V3, V4 
UU Data Ellipsis O V3, V4 
All Information Sent O V3, V4 
O BCSM  CAMEL TDP Criteria List O V3, V4 
Ellipsis O V3,V4 
 
RESUME-CALL-HANDLING-ACK 
Parameter Class Context 
Primitive type octet M V3, V4 
Invoke ID  M V3, V4 
Where user error is not included: 
Ellipsis O V3, V4 
Where user error is included: 
MAP Programmer's Manual Issue 13 
 
                                79 
User error M V3, V4 
Ellipsis O V3, V4 
 
 
SEND-AUTHENTICATION-INFO 
Parameter Class Context 
Primitive type octet M V2, V3 
Timeout (default = 30 seconds) O V2, V3 
Invoke ID M V2, V3 
IMSI M V2, V3 
Number of requested vectors M V3 
Segmentation prohibited O V3 
Immediate Response preferred O V3 
Requested Node Type O V3 
Requested PLMN Id O V3 
AUTS O V3 
RAND (0) O V3 
Re-synchronisationInfo ellipsis O V3 
Ellipsis O V3 
 
SEND-AUTHENTICATION-INFO-ACK 
Parameter Class Context 
Primitive type octet M V2, V3 
Invoke ID M V2, V3 
Where user error is not included: 
RAND (0) O V2, V3 
SRES (0) O V2, V3 
KC (0) O V2, V3 
Authentication set ellipsis (0) O V2, V3 
XRES (0) O V3 
CK (0) O V3 
IK(0) O V3 
AUTN (0) O V3 
Where user error is included: 
User error O V2, V3 
Unknown Subscriber Diagnostic O V3 
Network resource O V2, V3 
Section 4  Interface to MAP-User 
80 
 
 
SEND-END-SIGNAL 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
AN-APDU 
Access Network Protocol Id M2 V3 
Signal Info M2 V3 
Access Network Signal    
Information  Ellipsis O2 V3 
Ellipsis O V3 
 
SEND-END-SIGNAL-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Ellipsis O V3 
 
 
SEND-IDENTIFICATION 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 10 seconds) O Any 
Invoke ID M Any 
TMSI M Any 
Number of requested vectors O V3 
Segmentation Prohibited O V3 
MSC Number O V3 
Previous LAI O V3 
Hop counter O V3 
Ellipsis O V3 
 
SEND-IDENTIFICATION-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
MAP Programmer's Manual Issue 13 
 
                                81 
Where user error is not included: 
IMSI M Any 
RAND (0) O Any 
SRES (0) O Any 
KC (0) O Any 
Authentic set ellipsis O Any 
XRES (0) O V3 
CK (0) O V3 
IK (0) O V3 
AUTN (0) O V3 
Ellipsis O Any 
Where user error is included: 
User error M Any 
Ellipsis O V3 
 
 
SEND_IMSI_REQUEST 
Parameter Class Context 
Primitive type octet M V2 
Timeout (default = 30 seconds) O V2 
Invoke ID M V2 
MSISDN M V2 
 
SEND_IMSI_ACK 
Parameter Class Context 
Primitive type octet M V2 
Invoke ID M V2 
Where user error is not included: 
IMSI C1 V2 
Where user error is included: 
User error C1 V2 
1. At least one of these parameters should be included. 
 
 
Section 4  Interface to MAP-User 
82 
SEND-PARAMETERS 
Parameter Class Context 
Primitive type octet M V1 
Timeout (default = 30 seconds) O V1 
Invoke ID M V1 
IMSI C1 V1 
TMSI C1 V1 
Requested Parameter 1 M V1 
Requested Parameter 2 O V1 
1. IMSI or TMSI may be present. 
 
SEND-PARAMETERS-ACK 
Parameter Class Context 
Primitive type octet M V1 
Invoke ID M V1 
Where user error is not included: 
Sent IMSI (6) C V1 
Sent RAND (6) C1 V1 
Sent SRES (6) C1 V1 
Sent KC (6) C1 V1 
Sent Authentication ellipsis (6) C1 V1 
Sent Subscriber Data (6) C V1 
Sent Ki (6) C V1 
Where user error is included: 
User Error O V1 
1. These Authentication Set parameters are together counted as a single choice. All of the 
parameters should be present for an instance, except for Sent Authentication ellipsis, which is 
optional. 
 
 
SEND-ROUTING-INFO 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 30 seconds) O Any 
Invoke ID M Any 
MSISDN M Any 
CUG Interlock  O Any 
CUG Outgoing_Access O1 V2,V3 
MAP Programmer's Manual Issue 13 
 
                                83 
Number of Forwarding O Any 
Interrogation type M V3 
Or-interrogation O V3 
Or-capability O V3 
GMSC address M V3 
Call reference number O V3 
Forwarding reason O V3 
Teleservice C V3 
Bearer service C V3 
Network Signal Info O Any 
Supported camel phases O V3 
Suppress t csi O2 V3 
Suppression of announcement O V3 
Alerting pattern O V3 
CCBS call O V3 
Supported CCBS phase O V3 
Additional signal info O V3 
CUG CI ellipsis O V2,V3 
CAMEL info ellipsis O V3 
Ellipsis O Any 
1. May only be present if CUG Interlock is present. 
2. May only be present if Supported CAMEL phases is present. 
 
SEND-ROUTING-INFO-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
Where user error is included: 
User error M Any 
   Network resource O Any 
Call barring cause O Any 
CUG reject cause O V2,V3 
Unknown subscriber diagnostic O V3 
Absent subscriber reason O V3 
CCBS possible O V3 
CCBS busy O V3 
Unauthorizsed message originator O V3 
Where user error is not included: (version1) 
Section 4  Interface to MAP-User 
84 
IMSI M V1 
Roaming Number C1 V1 
Forwarded to Number C1 V1 
Forwarding Options O2 V1 
Forwarding data ellipsis O V1 
Ellipsis O V1 
Where user error is not included: (version 2) 
IMSI M V2 
Roaming Number C3 V2 
Forwarded to Number O V2 
Forwarded to Sub Address O V2 
Forwarding Options O V2 
CUG Interlock  O V2 
CUG Outgoing_Access O4 V2 
Forwarding data ellipsis O V2 
CUG CI ellipsis O V2 
Ellipsis O V2 
Where user error is not included: (version 3) 
IMSI O V3 
Roaming Number C3 V3 
Forwarded to Number O V3 
Forwarded to Sub Address O V3 
Forwarding Options O V3 
T-CSI O5 V3 
O-CSI O5 V3 
O-BCSM camel TDP Criteria List O5 V3 
CUG Interlock  O V3 
CUG Outgoing_Access O4 V3 
CUG Subscription Flag O V3 
Age of Location Information O V3 
Geographical Information O V3 
VLR Number O V3 
Location Number O V3 
Cell ID C6 V3 
LAI C6 V3 
Selected LSA ID O V3 
MSC Number O V3 
Geodetic Information O V3 
MAP Programmer's Manual Issue 13 
 
                                85 
Current Location Retrieved O V3 
SAI Present O V3 
Subscriber State C7 V3 
Not Reachable Reason C7 V3 
Cell Global Id for GPRS Location 
Info O 
8 
 V3 
LAI for GPRS Location Info O8 V3 
Routing Area Identity (RAI) O V3 
Geographical Information for 
GPRS Location Info O V3 
SGSN Number O V3 
Selected LSA-Id for GPRS 
Location Info O V3 
SAI Present for GPRS Location 
Info O 
9 
 V3 
Geodetic Information for GPRS 
Location Info O V3 
Current Location Retrieved for 
GPRS Location Info O V3 
Age of GPRS Location Information O V3 
GPRS Location Info ellipsis O V3 
PS Subscriber State O V3 
PS PDP Active Not Reachable for 
Paging list O 
10 
 V3 
PS PDP Active Reachable for 
Paging list O 
11 
 V3 
PS Not Reachable Reason O12 V3 
IMEI O V3 
MS Classmark2 O V3 
MS Network Capability O V3 
MS Radio Access Capability O V3 
Routing Number O V3 
IMSI for Mobile Number Portability O V3 
MSISDN for Mobile Number 
Portability O V3 
MNP Number Portability Status O V3 
MNP Info Res ellipsis O V3 
SS-List O V3 
Teleservice C V3 
Ext bearer service C V3 
Forwarding interrogation required O V3 
Section 4  Interface to MAP-User 
86 
VMSC address O V3 
NAEA Preferred CIC O V3 
CCBS Possible O V3 
Keep CCBS Call Indicator O V3 
MSISDN O V3 
Number Portability Status O V3 
Subscriber info ellipsis O V3 
Location info ellipsis O V3 
CCBS indicator ellipsis O V3 
CAMEL routing ellipsis O V3 
NAEA preferred CI ellipsis O V3 
Forwarding data ellipsis O V3 
CUG CI ellipsis O V3 
Ellipsis O V3 
 
1. Either Roaming Number or Forwarded to Number must be included. 
2. May only be present if Forwarded to Number is present. 
3. If present, neither Forwarded to Number, Forwarded to Sub-Address, nor Forwarding Options 
is present. 
4. May only be present if CUG Interlock is present. 
5. Can only be present if Roaming Number is absent 
6. Only one may be present 
7. Only one may be present 
8. Either of these parameters may be included but not both. 
9. This parameter may only be included if Cell Global Id for GPRS Location Info was include. 
10. This parameter should be included if PS Subscriber State is set to “PS PDP Active Not 
Reachable for Paging”. 
11. This parameter should be included if PS Subscriber State is set to “PS PDP Active Reachable 
for Paging”. 
12. This parameter should be included if PS Subscriber State is set to “Net Det Not Reachable”. 
 
 
SEND-ROUTING-INFO-FOR-GPRS 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 30 seconds) O V3 
Invoke ID M V3 
IMSI M V3 
GGSN address O V3 
GGSN number M V3 
Ellipsis O V3 
 
MAP Programmer's Manual Issue 13 
 
                                87 
SEND-ROUTING-INFO-FOR-GPRS-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Ellipsis O V3 
Where user error is not included: 
SGSN address M V3 
GGSN address O V3 
Absent subscriber diagnostic O V3 
Where user error is included: 
User error M  V3 
Unknown subscriber diagnostic O V3 
Absent subscriber reason O V3 
 
 
SEND-ROUTING-INFO-FOR-LCS 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 30 seconds) O V3 
Invoke ID M V3 
MLC number M V3 
MSISDN C1 V3 
IMSI C1 V3 
Ellipsis O V3 
1. Either MSISDN or IMSI must be present. 
 
SEND-ROUTING-INFO-FOR-LCS-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
MSISDN C1 V3 
IMSI C1 V3 
LMSI O V3 
LCS Location Info Ellipsis O V3 
MSC number M V3 
Ellipsis O V3 
Section 4  Interface to MAP-User 
88 
Where user error is included: 
User error M V3 
Network resource O V3 
Absent subscriber reason O V3 
Unknown subscriber diagnostic O V3 
1. Either MSISDN or IMSI must be present. 
 
 
SEND-ROUTING-INFO-FOR-SM 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 30 seconds) O Any 
Invoke ID M Any 
MSISDN M Any 
SM-RP-PRI M Any 
Service centre address M Any 
CUG Interlock  O V1 
Teleservice  O V1 
GPRS support indicator O V3 
SM RP MTI O V3 
SM RP SMEA O V3 
 
SEND-ROUTING-INFO-FOR-SM-ACK 
Parameter Class 
 
Context 
Primitive type octet M Any 
Invoke ID M Any 
Where user error is not included: 
IMSI M Any 
Roaming number C1 V1 
MSC number C1 V1 
MSC number M V2 
MSC number C2 V3 
SGSN number C2 V3 
LMSI O Any 
MWD set O V1 
GPRS node indicator O2 V3 
MAP Programmer's Manual Issue 13 
 
                                89 
Location with LMSI ellipsis O Any 
Ellipsis O Any 
Where user error is included: 
User error M  Any 
Network resource O Any 
MWD set O V1 
Unknown subscriber diagnostic O V3 
Call barring cause O Any 
Unauthorised message originator O V3 
Absent subscriber diagnostic SM O V3 
Additional absent subscriber 
diagnostic SM O V3 
1. Either MSC number or Roaming number must be present. 
2. Either MSC number or SGSN number must be present. If SGSN number is present then GPRS 
node indicator must also be present. 
 
 
SET-REPORTING-STATE 
Parameter Class Context 
Extended Service Type octet M V3 
Service Type M V3 
Invoke ID M V3 
IMSI O V3 
LMSI O V3 
CCBS Monitoring O V3 
Ellipsis O  V3 
 
SET-REPORTING-STATE-ACK 
Parameter Class Context 
Extended Service Type octet M V3 
Service Type M V3 
Invoke ID M V3 
Where user error is not included 
CCBS Subscriber Status O V3 
Ellipsis O  V3 
Where user error is included 
User Error M V3 
Provider Error O V3 
Section 4  Interface to MAP-User 
90 
Network Resource O V3 
Ellipsis O  V3 
 
STATUS-REPORT 
Parameter Class Context 
Extended Service Type octet = 0xff M V3 
Service Type M V3 
Invoke ID M V3 
IMSI M V3 
CCBS Subscriber State O V3 
Event Report Data Ellipsis O V3 
Monitoring Mode O  V3 
Call Outcome O V3 
Call Report Data Ellipsis O V3 
Ellipsis O V3 
 
STATUS-REPORT-ACK 
Parameter Class Context 
Extended Service Type octet = 0xff M V3 
Service Type M V3 
Invoke ID M V3 
Where user error is not included 
Ellipsis O  V3 
Where user error is included 
User Error M V3 
Provider Error O V3 
Network Resource O V3 
Ellipsis O  V3 
 
 
MAP Programmer's Manual Issue 13 
 
                                91 
SUBSCRIBER-LOCATION-REPORT 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 30 seconds) O V3 
Invoke ID M V3 
LCS Event M V3 
LCS Client Type M V3 
External Address (0) O V3 
LCS Client Dialled By MS O V3 
LCS Client Internal ID (0) O V3 
USSD Coding Scheme O V3 
USSD String O V3 
MSC Number M V3 
LMSI O V3 
MSISDN O V3 
IMSI O V3 
IMEI O V3 
NA-ESRD O V3 
NA-ESRK O V3 
Location Estimate O V3 
Additional Location Estimate O V3 
LCS Client External Ellipsis (0) O V3 
LCS Client Name Ellipsis  O V3 
LCS Client ID Ellipsis  O V3 
LCS Location Info Ellipsis  O V3 
Ellipsis  O V3 
 
SUBSCRIBER-LOCATION-REPORT-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
Ellipsis O V3 
Where user error is included: 
User Error O V3 
Network Resource O V3 
Unknown Subscriber Diagnostic O V3 
Ellipsis  O V3 
Section 4  Interface to MAP-User 
92 
 
 
TRACE-SUBSCRIBER-ACTIVITY 
Parameter Class Context 
Invoke ID M V1 
IMSI O V1 
Trace Reference M V1 
Trace Type M V1 
OMC-Id O V1 
callReference O V1 
Ellipsis  O V1 
 
 
UNSTRUCTURED_SS_NOTIFY 
Parameter Class Context 
Primitive type octet M V1, V2 
Timeout (default = 600 seconds) O V1, V2 
Invoke ID M V1, V2 
USSD Data Coding Scheme M V1, V2 
USSD String M V1, V2 
Alerting pattern O V2 
MSISDN O V2 
Ellipsis O V2 
 
UNSTRUCTURED_SS_NOTIFY_ACK 
Parameter Class Context 
Primitive type octet M V1, V2 
Invoke ID M V1, V2 
Where user error is included: 
User Error M V1, V2 
Network resource O V1, V2 
Absent subscriber reason O V2 
 
 
MAP Programmer's Manual Issue 13 
 
                                93 
UNSTRUCTURED_SS_REQUEST 
Parameter Class Context 
Primitive type octet M V1, V2 
Timeout (default = 600 seconds) O V1, V2 
Invoke ID M V1, V2 
USSD Data Coding Scheme M V1, V2 
USSD String M V1, V2 
Alerting pattern O V2 
MSISDN O V2 
Ellipsis O V2 
 
UNSTRUCTURED_SS_REQUEST_ACK 
Parameter Class Context 
Primitive type octet M V1, V2 
Invoke ID M V1, V2 
Where user error is not included: 
USSD Data Coding Scheme M V1, V2 
USSD String M V1, V2 
Where user error is included: 
User Error M V1, V2 
Network resource O V1, V2 
Absent subscriber reason O V2 
 
 
UPDATE-GPRS-LOCATION 
Parameter Class Context 
Primitive type octet M V3 
Timeout (default = 30 seconds) O V3 
Invoke ID M V3 
IMSI M V3 
SGSN number O V3 
SGSN address O V3 
Solsa support indicator O V3 
SGSN capability ellipsis O V3 
Ellipsis O V3 
 
Section 4  Interface to MAP-User 
94 
 
UPDATE-GPRS-LOCATION-ACK 
Parameter Class Context 
Primitive type octet M V3 
Invoke ID M V3 
Where user error is not included: 
HLR number O V3 
Ellipsis O V3 
Where user error is included: 
User error M V3 
Network resource O V3 
Unknown subscriber diagnostic O V3 
Roaming not allowed cause C1 V3 
1. If the user error is set to ‘roaming not allowed’, then ‘roaming not allowed cause’ is mandatory. 
 
 
UPDATE-LOCATION 
Parameter Class Context 
Primitive type octet M Any 
Timeout (default = 30 seconds) O Any 
Invoke ID M Any 
IMSI M Any 
Roaming number C1 V1 
MSC number C1 Any 
VLR number M Any 
LMSI O Any 
Supported CAMEL phases in 
GMSC O V3 
VLR capability ellipsis O V3 
Solsa support indicator O V3 
Ellipsis O Any 
1. The selection is a choice between Roaming number and MSC number in MAP V1.  MSC 
number is mandatory in MAP V2 and V3 and Roaming number is not allowed. 
 
UPDATE-LOCATION-ACK 
Parameter Class Context 
Primitive type octet M Any 
Invoke ID M Any 
MAP Programmer's Manual Issue 13 
 
                                95 
Where user error is not included: 
HLR number M Any 
Ellipsis O V2,V3 
Where user error is included: 
User error M Any 
Network resource O Any 
Roaming not allowed cause C1 V2, V3 
Unknown subscriber diagnostic O V3 
Ellipsis O V3 
1. If the user error is set to ‘roaming not allowed’, then ‘roaming not allowed cause’ is mandatory. 
 
Section 4  Interface to MAP-User 
96 
4.9   MAP Service Indication 
Synopsis: 
 
Protocol message sent from the MAP to the MAP-User containing a specific service primitive. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_SRV_IND (0x87e1) 
id Dialogue ID 
src MAP_TASK_ID 
dst Sending module ID 
rsp_req 0 
hclass 0 
status 0 
err_info 0 
len Number of bytes of user data 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 Primitive type octet. 
1 len - 2 Parameters in Name-Length-Data format. 
len – 1 1 Set to zero indicating end of message. 
 
Description: 
 
MAP uses this message to send specific service indication and confirmation primitives to the 
MAP-User. The primitives that may be sent are detailed in section 4.4  Service Primitive 
Types.  
 All specific service indication primitives contain the dialogue ID of the dialogue to which they 
belong. It is encoded in the message header and does not form part of the parameter area. 
Parameter area contents: 
The parameter area is coded as defined for the MAP-SERVICE-REQUEST message. 
 The coding of service primitive parameters is given in section 4.10  MAP Service Primitive 
Parameters. 
 The parameters included in each primitive are as defined for the MAP-SERVICE-REQUEST. 
The parameters for the Indication primitive are the same as the Request primitive. The 
parameters for the Confirmation primitive are the same as the Response primitive, with the 
addition of an optional Provider error parameter. 
 
MAP Programmer's Manual Issue 13 
 
                                97 
4.10   MAP Service Primitive Parameters 
The following parameter names are defined for use in service primitive messages: 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
Absent Subscriber Diagnostic SM MAPPN_abs_sub_diag 63 0x3f 
Absent Subscriber Reason MAPPN_abs_sub_rsn 62 0x3e 
Access Network Protocol Id MAPPN_accessnetproid 482 0x1e2 
Access Network Signal    
Information  Ellipsis MAPPN_accessnetsiginfo_ellipsis 425 0x1a9 
Access Type MAPPN_accesstype 513 0x201 
Additional Absent Subscriber 
Diagnostic SM MAPPN_add_abs_sub_diag 168 0xa8 
Additional Requested CAMEL 
Subscription Information MAPPN_add_reqcamel_subinfo 524 0x20c 
Additional Signal Info MAPPN_addition_siginfo 79 0x4f 
Additional SM Delivery Outcome MAPPN_add_sm_deliv_outcome 215 0xd7 
Age of GPRS Location Information MAPPN_gprsinfo_age 561 0x231 
Age Of Location Estimate MAPPN_age_loc_est 158 0x9e 
Age Of Location Information MAPPN_age_loc_info 48 0x30 
Alert Reason MAPPN_alert_reason 28 0x1c 
Alert Reason Indicator MAPPN_alert_reason_ind 213 0xd5 
Alerting Pattern MAPPN_alert_pattern 70 0x46 
All Information Sent MAPPN_all_info_sent 280 0x118 
Allowed Encryption Algorithms MAPPN_allowed_encrypt_algorithms 370 0x172 
Allowed GSM Algorithms MAPPN_allowed_gsm_algorithms 373 0x174 
Allowed UMTS Integrity Protection 
Algorithms MAPPN_allowed_umts_integ_protectalgos 369 0x171 
Allowed UMTS Ellipsis MAPPN_allowedUMTSellipsis 371 0x173 
Alternative Channel Type   MAPPN_alternative_channel_type 423 0x1a7 
ASCI Call Reference MAPPN_ascicallreference 461 0x1cd 
Authentic Set Ellipsis MAPPN_authentic_set_ellipsis(i) 104 to 108 0x68 to 
0x6c 
AUTN MAPPN_autn(i) 312 to 316 0x138 to 
0x13c 
AUTS MAPPN_auts 296 0x128 
Available Codec 1 MAPPN_iu_availablecodec1 448 0x 1c0 
Available Codec 2 MAPPN_iu_availablecodec2 449 0x 1c1 
Available Codec 3 MAPPN_iu_availablecodec3 450 0x 1c2 
Available Codec 4 MAPPN_iu_availablecodec4 451 0x 1c3 
Section 4  Interface to MAP-User 
98 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
Available Codec 5 MAPPN_iu_availablecodec5 452 0x 1c4 
Available Codec 6 MAPPN_iu_availablecodec6 453 0x 1c5 
Available Codec 7 MAPPN_iu_availablecodec7 454 0x 1c6 
Available Codec 8 MAPPN_iu_availablecodec8 455 0x 1c7 
Available Codec Ellipsis MAPPN_iu_availableellipsis 456 0x1c8 
B Subscriber Number MAPPN_b_subscriber_num 577 0x23f 
B Subscriber Subaddress MAPPN_b_subscriber_sub_addr 578 0x240 
Basic Service Group List MAPPN_basic_svc_grp_list 220 0xdc 
Basic Service List MAPPN_basic_service_list 583 0x247 
Bearer Service MAPPN_ext_bearerservice 114 0x72 
Bearer Service Code 2 MAPPN_bearerservice_2 272 0x110 
BSSMAP List Service Handover MAPPN_bssmaplist_service_handove 
r(i) 397 to 403 0x18d to 0x193 
BSSMAP List RAB Id MAPPN_bssmaprab_id(i) 404 to 410 0x194 to 
0x19a 
BSSMAP Service Handover MAPPN_bssmap_service_handover 396 0x18c 
BSSMAP Service Handover List 
Ellipsis MAPPN_bssmapellipsis(i) 411 to 417 0x19b to 0x1a1 
Call Barring Cause MAPPN_call_bar_cse 32 0x20 
Call Barring Data MAPPN_call_barring_data 258 0x102 
Call Barring Ellipsis MAPPN_callbar_ellipsis 227 0xe3 
Call Barring Feature List MAPPN_callbar_feature_list 229 0xe5 
Call Forwarding Data MAPPN_call_forwarding_data 257 0x101 
Call Info MAPPN_call_info 573 0x23d 
Call Outcome MAPPN_call_outcome 572 0x23c 
Call Reference MAPPN_callreference 365 0x16d 
Call Reference Number MAPPN_callref_num 74 0x4a 
Call Report Data Ellipsis MAPPN_call_report_data_ellipsis 570 0x23a 
CAMEL Info Ellipsis MAPPN_camel_info_ellipsis 136 0x88 
CAMEL Routing Ellipsis MAPPN_camel_route_ellipsis 132 0x84 
CAMEL Subscription Information MAPPN_camel_subscr_info 260 0x104 
Cancellation Type MAPPN_canceltype 80 0x50 
CCBS Busy MAPPN_ccbs_busy 167 0xa7 
CCBS Call MAPPN_ccbs_call 71 0x47 
CCBS Data Ellipsis MAPPN_ccbs_data_ellipsis 582 0x246 
CCBS Feature List MAPPN_ccbs_feat_list 225 0xe1 
MAP Programmer's Manual Issue 13 
 
                                99 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
CCBS Feature Request Ellipsis MAPPN_cbbs_feature_ellipsis 580 0x244 
CCBS Indicator Ellipsis MAPPN_ccbs_ind_ellipsis 131 0x83 
CCBS Index MAPPN_ccbs_index 574 0x23e 
CCBS Monitoring MAPPN_ccbs_monitoring 545 0x221 
CCBS Possible MAPPN_ccbs_possible 127 0x7f 
CCBS Subscriber Status MAPPN_ccbs_subsc_status 546 0x222 
Cell ID MAPPN_cell_id 49 0x31 
Cell Global ID for GPRS Location 
Info MAPPN_gprsinfo_cell_id 552 0x228 
Chosen Channel Information MAPPN_chosenchannelinfo 466 0x1d2 
Chosen Radio Resource 
Information Ellipsis MAPPN_chosenradioellipsis 468 0x1d4 
Chosen Speech Version MAPPN_chosenspeechversion 467 0x1d3 
CK MAPPN_ck(i) 302 to 306 0x12e to 
0x132 
CLI Restriction Option MAPPN_cli_restrict_option 222 0xde 
Closed User Group Interlock Code MAPPN_CUG_interlock 36 0x24 
CUG CI Ellipsis MAPPN_CUG_CI_ellipsis 135 0x87 
CUG Facilities MAPPN_CUG_Facilities 230 0xe6 
CUG Feature MAPPN_CUG_feature 233 0xe9 
CUG Feature List MAPPN_CUG_feature_list 231 0xe7 
CUG Interlock MAPPN_CUG_interlock 36 0x24 
CUG Outgoing Access MAPPN_CUG_outgo_access 37 0x25 
CUG Reject Cause MAPPN_CUG_reject_cse 38 0x26 
CUG Subscription Flag MAPPN_CUG_subscript_flag 116 0x74 
Current Location Retrieved MAPPN_current_loc_retrieved 164 0xa4 
Current Location Retrieved for 
GPRS Location Info MAPPN_gprsinfo_cur_loc_ret 560 0x230 
Current Password MAPPN_current_password 283 0x11b 
Custom IMEI MAPPN_cust_imei 514 0x202 
D-CSI ((Dialled Services CAMEL 
Subscription Information) MAPPN_d_csi 275 0x113 
Default Priority MAPPN_default_priority 224 0xe0 
Delivery Outcome Indicator MAPPN_deliv_outcome_ind 214 0xd6 
Diagnostic Information MAPPN_diag_inf 10 0x0a 
Ellipsis MAPPN_ellipsis 57 0x39 
Encryption Information MAPPN_encryptinfo 366 0x16e 
Section 4  Interface to MAP-User 
100 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
Equipment Status MAPPN_equipment_status 217 0xd9 
Event Report Data Ellipsis MAPPN_event_report_data_ellipsis 569 0x239 
Event Met MAPPN_event_met 159 0x9f 
External Address MAPPN_external_address(0) 180 0xb4 
Ext Call Barring Feature List MAPPN_ext_callbar_feature_list 530 0x212 
Ext Forwarding Feature List MAPPN_ext_fwd_feature_list 542 0x21e 
Failure Cause MAPPN_failurecause 511 0x1ff 
Forward Data Ellipsis MAPPN_fwd_data_ellipsis 134 0x86 
Forward Interrogation Request MAPPN_fwd_interrog_req 216 0xd8 
Forwarded To Number MAPPN_fwd_to_num 41 0x29 
Forwarded To Subaddress MAPPN_fwd_to_subaddr 42 0x2a 
Forwarding Ellipsis MAPPN_forwarding_ellipsis 226 0xe2 
Forwarding Feature List MAPPN_fwd_feature_list 221 0xdd 
Forwarding Options MAPPN_fwding_opt 43 0x2b 
Forwarding Reason MAPPN_forwarding_reason 112 0x70 
Freeze P-TMSI MAPPN_freeze_p_tmsi 157 0x9d 
Freeze TMSI MAPPN_freeze_tmsi 156 0x9c 
Geodetic Information MAPPN_geodetic_info 163 0xa3 
Geodetic Information for GPRS 
Location Info MAPPN_gprsinfo_geodetic_info 559 0x22f 
Geographical Information MAPPN_geog_info 50 0x32 
Geographical Information for 
GPRS Location Info MAPPN_gprsinfo_geograph_info 556 0x22c 
GERAN Classmark MAPPN_geran_classmark 462 0x1ce 
GERAN Codec 1 MAPPN_geran_codec1 439 0x1b7 
GERAN Codec 2 MAPPN_geran_codec2 440 0x1b8 
GERAN Codec 3 MAPPN_geran_codec3 441 0x1b9 
GERAN Codec 4 MAPPN_geran_codec4 442 0x1ba 
GERAN Codec 5 MAPPN_geran_codec5 443 0x1bb 
GERAN Codec 6 MAPPN_geran_codec6 444 0x1bc 
GERAN Codec 7 MAPPN_geran_codec7 445 0x1bd 
GERAN Codec 8 MAPPN_geran_codec8 446 0x1be 
GERAN Codec Ellipsis MAPPN_geran_ellipsis 447 0x1bf 
GGSN Address MAPPN_ggsn_address 58 0x3a 
GGSN Number MAPPN_ggsn_number 60 0x3c 
MAP Programmer's Manual Issue 13 
 
                                101 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
GMSC Address MAPPN_gmsc_address 68 0x44 
GPRS Connection Suspended MAPPN_gprs_connect_susp 169 0xa9 
GPRS Location Info ellipsis MAPPN_gprsinfo_ellipsis 554 0x22a 
GPRS Node Indicator MAPPN_gprs_node_ind 123 0x7b 
GPRS Support Ind MAPPN_gprs_support_ind 118 0x76 
GSM Bearer Capability MAPPN_gsm_bearercap 77 0x4d 
GSM SCF Address MAPPN_gsmscf_addr 51 0x33 
Guidance Info MAPPN_guidance_info 282 0x11a 
Handover Number MAPPN_handoverNumber 484 0x1e4 
Handover Number Not Required MAPPN_honum_notreq 458 0x1ca 
HLR-List MAPPN_hlr_list 544 0x220 
Home Location Register MAPPN_hlr_number 81 0x51 
Hop Counter MAPPN_hop_counter 319 0x13f 
Horizontal accuracy MAPPN_horizontal_accuracy 147 0x93 
Hunt Group Access Selection 
Order MAPPN_hunt_group_access_sel_order 271 0x10f 
IK MAPPN_ik(i) 307 to 311 0x133 to 
0x137 
IMEI MAPPN_imei 142 0x8e 
Immediate Response Preferred MAPPN_imm_resp_pref 293 0x125 
IMSI MAPPN_imsi 18 0x12 
IMSI with LMSI Ellipsis MAPPN_imsi_lmsi_ellipsis 101 0x65 
IMSI for Mobile Number Portability MAPPN_mnp_imsi 566 0x236 
Integrity Protection Information MAPPN_integ_protectinfo 367 0x16f 
Interrogation Type MAPPN_interrogation_type 110 0x6e 
Invoke Id MAPPN_invoke_id 14 0x0e 
IST Support Indicator MAPPN_ist_supp_ind 285 0x11d 
IU- Currently Used CODEC MAPPN_iu_currently_used_codec 419 0x1a3 
IU Selected Codec MAPPN_iu_selected_codec 422 0x1a6 
KC MAPPN_kc(i) 94 to 98 0x5e to 
0x62 
Keep CCBS Call Indicator MAPPN_keep_ccbs_call_ind 128 0x80 
Key Status MAPPN_key_status 368 0x170 
LAI MAPPN_lai 160 0xa0 
LAI for GPRS Location Info MAPPN_gprsinfo_lai 553 0x229 
Section 4  Interface to MAP-User 
102 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
LCS Client Dialled by MS MAPPN_lci_cli_dialled_by_ms 146 0x92 
LCS Client External ID Ellipsis MAPPN_lcs_cli_ext_ellipsis 208 0xd0 
LCS Client ID Ellipsis MAPPN_lcs_client_id_ellipsis 194 0xc2 
LCS Client Internal ID MAPPN_lcs_client_internal_id(0) 185 0xb9 
LCS Client Name Ellipsis MAPPN_lcs_client_name_ellipsis 195 0xc3 
LCS Client Type MAPPN_lcs_client_type 145 0x91 
LCS Event MAPPN_lcs_event 154 0x9a 
LCS Priority MAPPN_lcs_priority 143 0x8f 
LCS QOS Ellipsis MAPPN_lcs_qos_ellipsis 197 0xc5 
Linked Id MAPPN_linked_id 44 0x2c 
LMSI MAPPN_lmsi 20 0x14 
Location Estimate MAPPN_add_loc_est 235 0xeb 
Location Estimate  MAPPN_location_estimate 153 0x99 
Location Estimate Type MAPPN_loc_est_type 144 0x90 
Location Info Ellipsis MAPPN_locinfo_ellipsis 66 0x42 
Location LMSI Ellipsis MAPPN_loc_lmsi_ellipsis 121 0x79 
Location Number MAPPN_loc_num 52 0x34 
Location Type Ellipsis MAPPN_loc_type_ellipsis 196 0xc4 
Long Forwarded-To Number 
Supported MAPPN_long_ftn_sup 234 0xec 
Maximum Conferees Number MAPPN_max_conf_nbr 270 0x10e 
Maximum Entitled Priority MAPPN_max_priority 223 0xdf 
Message Waiting Data File Status MAPPN_mwd_status 29 0x1d 
Message Waiting Data Flag Set MAPPN_mwd_set 34 0x22 
MGW Event List MAPPN_mgwevenlist 481 0x1e1 
MGW Interface List MAPPN_mgwinterfacelist 480 0x1e0 
MGW Trace Depth MAPPN_mgwtracedepth 479 0x1df 
MLC Number MAPPN_mlc_number 137 0x89 
MNP Info Res ellipsis MAPPN_mnpinfo_ellipsis 551 0x227 
Modify CSI State MAPPN_mod_csi_state 520 0x208 
Modify Registration Status MAPPN_mod_regn_status 521 0x209 
Monitoring Mode MAPPN_monitoring_mode 571 0x23b 
More Messages To Send MAPPN_more_msgs 26 0x1a 
MR CBInfo Ellipsis MAPPN_mr_cbi_ellipsis 535 0x217 
MR CBInfo Notification to CSE MAPPN_mr_cbi_notn_tocse 534 0x216 
MAP Programmer's Manual Issue 13 
 
                                103 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
MR CFInfo Ellipsis MAPPN_mr_cfi_ellipsis 533 0x215 
MR CFInfo Notification to CSE MAPPN_mr_cfi_notn_tocse 532 0x214 
MR CSI Ellipsis MAPPN_mr_csi_ellipsis 537 0x219 
MR CSI Notification to CSE MAPPN_mr_csi_notn_tocse 536 0x218 
MR IPSMGW Data Ellipsis MAPPN_mr_ipsmgw_data_ellipsis 540 0x21c 
MR ODB Data Ellipsis MAPPN_mr_odb_data_ellipsis 539 0x21b 
MR ODB Data Notification to CSE MAPPN_mr_odb_data_notn_tocse 538 0x21a 
MS Classmark2 MAPPN_ms_classmark2 547 0x223 
MS Network Capability MAPPN_ms_network_cap 548 0x224 
MS Not Reach Flag MAPPN_ms_not_reach_flag 288 0x120 
MS Radio Access Capability MAPPN_ms_radio_access_cap 549 0x225 
MSC Event List MAPPN_mscseventlist 478 0x1de 
MSC Interface List MAPPN_mscsinterfacelist 477 0x1dd 
MSC Number MAPPN_msc_num 19 0x13 
MSC Trace Depth MAPPN_msctracedepth 476 0x1dc 
MSISDN MAPPN_msisdn 15 0x0f 
MSISDN for Mobile Number 
Portability MAPPN_mnp_msisdn 567 0x237 
Multiple Bearer Not Supported MAPPN_multiBearerNotSupp 506 0x1fa 
Multiple Bearer Requested MAPPN_mul_bear_req 460 0x1cc 
Multiple Call Bearer Information MAPPN_multicallBearerInfo 507 0x1fb 
NAEA Preferred CI Ellipsis MAPPN_naea_pref_ci_ellipsis 133 0x85 
NAEA Preferred CIC MAPPN_naea_preferred_cic 126 0x7e 
NA-ESRD (North American 
Emergency Services Routing 
Digits) 
MAPPN_na_esrd 151 0x97 
NA-ESRK (North American 
Emergency Services Routing Key) MAPPN_na_esrk 152 0x98 
Network Resource Class MAPPN_ntwk_res 30 0x1e 
Network Signal Info MAPPN_net_sig_info 40 0x28 
Network Signal Info MAPPN_network_siginfo 78 0x4e 
New Password MAPPN_new_password 284 0x11c 
No Reply Condition Time MAPPN_no_reply_condition_time 265 0x109 
Not Reachable Reason MAPPN_not_reach_rsn 56 0x38 
Notification to CSE MAPPN_notn_to_cse 522 0x20a 
Notification To held Retrieved party MAPPN_not_to_held_ret_party 268 0x10c 
Section 4  Interface to MAP-User 
104 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
Number Of Forwarding MAPPN_num_of_fwding 39 0x27 
Number Of Requested Vectors MAPPN_nb_req_vect 291 0x123 
Number Of User MAPPN_nbr_use 237 0xed 
Number Portability Status MAPPN_number_port_status 124 0x7c 
Number Portability Status for MNP MAPPN_mnp_num_port_status 568 0x238 
O-BCSM camel TDP Criteria List MAPPN_o_bcsm_tdp_criteria_list 281 0x119 
O-CSI (Originating CAMEL 
Subscription information) MAPPN_o_csi 274 0x112 
ODB Data Ellipsis MAPPN_odb_data_ellipsis 527 0x20f 
ODB General Data MAPPN_odb_gen_data 525 0x20d 
ODB HPLMN Data MAPPN_odb_hplmn_data 526 0x20e 
ODB Information MAPPN_odb_info 259 0x103 
ODB Info Ellipsis MAPPN_odb_info_ellipsis 529 0x211 
ODB Info Notification to CSE MAPPN_odb_notn_tocse 528 0x210 
Offered CAMEL4 CSIs in SGSN MAPPN_off_camel_4_csis_in_sgsn 264 0x108 
Offered CAMEL4 CSIs in VLR MAPPN_off_camel_4_csis_in_vlr 263 0x107 
OMC-Id MAPPN_omc_id 140 0x8c 
Or Capability MAPPN_or_capability 111 0x6f 
Or Interrogation MAPPN_or_interrogation 69 0x45 
Or Not Supported In GMSC MAPPN_ornotsupp_gmsc 73 0x49 
Originating Entity Number MAPPN_origentitynumber 516 0x204 
Override category MAPPN_override_category 191 0xbf 
Password MAPPN_password 531 0x213 
Per Call Basis MAPPN_per_call_basis 267 0x10b 
Position Method Failure Diagnostic MAPPN_posit_method_fail_diag 234 0xea 
Previous LAI MAPPN_prev_lai 318 0x13e 
Previous Roaming Number MAPPN_previous_roam_num 76 0x4c 
Privacy Override MAPPN_priv_override 141 0x8d 
Provider Error MAPPN_prov_err 22 0x16 
PS Subscriber State MAPPN_ps_sub_state 562 0x232 
PS PDP Active Not Reachable for 
Paging list MAPPN_ps_pdpactnotreach_list 563 0x233 
PS PDP Active Reachable for 
Paging list MAPPN_ps_pdpactreachable_list 564 0x234 
PS Not Reachable Reason MAPPN_ps_not_reach_rsn 565 0x235 
RAB Configuration Indicator MAPPN_rab_config_indicator 421 0x1a5 
MAP Programmer's Manual Issue 13 
 
                                105 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
RAB Id MAPPN_rab_id 428 0x1ac 
Radio Resource Information MAPPN_radio_resource_info 374 0x175 
Radio Resource List Ellipsis MAPPN_radioresellipsis(i) 389 to 395 0x185 to 
0x18b 
Radio Resource List RAB Id MAPPN_radioresrab_id(i) 382 to 388 0x17e to 
0x184 
Radio Resource List Radio 
Resource Information MAPPN_listradio_resource_info(i) 375 to 381 0x176 to 0x17d 
RANAP Service Handover MAPPN_ranap_service_handover 418 0x1a2 
Rand MAPPN_rand(i) 84 to 88 0x54 to 
0x58 
Re Attempt MAPPN_reattempt 512 0x200 
Regional Subscription Response MAPPN_region_subscript_resp 155 0x9b 
Registration Failure Cause MAPPN_reg_fail_cse 289 0x121 
Relocation Number List RAB Id MAPPN_relocrab_id(i) 492 to 498 0x1ec to 
0x1f2 
Relocation Number List Ellipsis MAPPN_relocellipsis(i) 499 to 505 0x1f3 to 
0x1f9 
Relocation Number List Handover 
Number MAPPN_relochandoverNumber(i) 485 to 491 0x1e5 to 0x1eb 
Remote User Free Outcome MAPPN_ruf_outcome 579 0x243 
Replace B Number MAPPN_replace_b_num 578 0x242 
Requested CAMEL Subscription 
Information MAPPN_reqcamel_subinfo 523 0x20b 
Requested Domain MAPPN_requested_domain 543 0x21f 
Requested Equipment Information MAPPN_requestedequipinfo 515 0x203 
Requested Info Ellipsis MAPPN_reqinfo_ellipsis 64 0x40 
Requested Information MAPPN_req_info 53 0x35 
Requested Parameter 1 MAPPN_req_param1 363 0x16b 
Requested Parameter 2 MAPPN_req_param2 364 0x16c 
Requested Subscription 
Information MAPPN_req_subscr_info 256 0x100 
Requesting Node Type MAPPN_req_node_type 294 0x126 
Requesting PLMN ID MAPPN_req_plmn_id 295 0x127 
Response Time Category MAPPN_response_time 150 0x96 
Response Time Ellipsis MAPPN_response_time_ellipsis 193 0xc1 
Resynchronisation Info Ellipsis MAPPN_resync_info_ellipsis 317 0x13d 
RNC Interface List MAPPN_rncinterfacelist 475 0x1db 
RNC Trace Depth MAPPN_rnctracedepth 474 0x1da 
Section 4  Interface to MAP-User 
106 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
Roaming Not Allowed Cause MAPPN_roam_not_allowed_cse 103 0x67 
Roaming Number MAPPN_roaming_num 35 0x23 
Routing Area Identity (RAI) MAPPN_rai 557 0x22d 
Routing Number MAPPN_routing_num 550 0x226 
SAI Present MAPPN_sai_present 165 0xa5 
SAI Present for GPRS Location 
Info MAPPN_gprsinfo_sai_present 555 0x22b 
Segmentation Prohibited MAPPN_segmentation_proh 292 0x124 
Selected GSM Algorithm MAPPN_selected_GSM_algorithm 424 0x1a8 
Selected LSA ID MAPPN_selectedlsa_id 162 0xa2 
Selected LSA ID for GPRS 
Location Info  MAPPN_gprsinfo_sel_lsa_id 558 0x22e 
Selected RAB id MAPPN_selected_rab_id 426 0x1a9 
Selected UMTS Ellipsis MAPPN_selected_UMTS_ellipsis 427 0x1ab 
Selected UMTS Encryption 
Algorithm MAPPN_selected_encrypt_algorithm 470 0x1d6 
Selected UMTS Integrity Protection 
Algorithm MAPPN_selected_umts_integ_protectalgo 469 0x1d5 
Send Subscriber Data MAPPN_send_subscriber_data 286 0x11e 
Sent Authentication Ellipsis MAPPN_sent_auth_set_ellipsis(6) 357 to 362 0x165 to 
0x16a 
Sent IMSI MAPPN_sent_imsi(6) 321 to 326 0x141 to 
0x146 
Sent Kc MAPPN_sent_kc(6) 351 to 356 0x15f to 
0x164 
Sent Ki MAPPN_sent_ki(6) 327 to 332 0x147 to 
0x14c 
Sent RAND MAPPN_sent_rand(6) 339 to 344 0x153 to 
0x158 
Sent SRES MAPPN_sent_sres(6) 345 to 350 0x159 to 
0x15e 
Sent Subscriber Data MAPPN_sent_sd(6) 333 to 338 0x14d to 
0x152 
Service Indicator MAPPN_service_ind 581 0x245 
Service Key MAPPN_service_key 109 0x6d 
Service Type for Message MAPPN_SERVICE_TYPE 248 0xf8 
SGSN Address MAPPN_sgsn_address 59 0x3b 
SGSN Capability Ellipsis MAPPN_sgsn_cap_ellipsis 100 0x64 
SGSN Number MAPPN_sgsn_number 82 0x52 
Short Message Delivery Priority MAPPN_sm_rp_pri 16 0x10 
MAP Programmer's Manual Issue 13 
 
                                107 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
Short Message Destination 
Address MAPPN_sm_rp_da 23 0x17 
Short Message Entity Address MAPPN_sm_rp_smea 120 0x78 
Short Message Originating 
Address  MAPPN_sm_rp_oa 24 0x18 
Short Message Service Centre 
Address MAPPN_sc_addr 17 0x11 
Short Message User Information 
Field MAPPN_sm_rp_ui 25 0x19 
Signal Information MAPPN_siginfo 483 0x1e3 
SM Delivery Failure Cause MAPPN_deliv_fail_cse 31 0x1f 
SM Delivery Outcome MAPPN_sm_deliv_outcome 27 0x1b 
SM RP MTI MAPPN_sm_rp_mti 119 0x77 
Solsa Support Indicator MAPPN_solsa_supp_ind 75 0x4b 
SRES MAPPN_sres(i) 89 to 93 0x59 to 
0x5d 
SS Code MAPPN_ss_code 218 0xda 
SS Code 2 MAPPN_ss_code_2 517 0x205 
SS Data Ellipsis MAPPN_ss_data_ellipsis 228 0xe4 
SS List MAPPN_ss_list 130 0x82 
SS Status MAPPN_ss_status 219 0xdb 
Ext SS Status MAPPN_ext_ss_status 518 0x206 
Ext SS Status 2 MAPPN_ext_ss_status_2 541 0x21d 
Subscriber Data Component MAPPN_subscriber_data_comp 99 0x63 
Subscriber Data Stored MAPPN_subscriber_data_stored 287 0x11f 
Subscriber Info Ellipsis MAPPN_subinfo_ellipsis 65 0x41 
Subscriber State MAPPN_sub_state 54 0x36 
Supported CAMEL Phase MAPPN_suppcamelphase 72 0x48 
Supported CCBS Phase MAPPN_supp_ccbs_phase 113 0x71 
Supported Codec List Ellipsis MAPPN_supcodecellipsis 420 0x1a4 
Supported Geographical Area 
Description shapes MAPPN_supported_GAD_shapes 161 0xa1 
SupportedSGSN-camel-Phases MAPPN_sup_camel_phases_in_sgsn 262 0x106 
SupportedVLR-camel-Phases MAPPN_sup_camel_phases_in_vlr 261 0x105 
Suppress T CSI MAPPN_suppress_t_csi 115 0x73 
Suppression Of Announcement MAPPN_supp_announce 67 0x43 
Target Cell ID MAPPN_targetCellId 457 0x1c9 
Section 4  Interface to MAP-User 
108 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
Target MSC Number MAPPN_targetMSCNumber 465 0x1d1 
Target RNC ID MAPPN_targetRNCid 459 0x1cb 
T-CSI  (Terminating camel 
Subscription information) MAPPN_t_csi 320 0x140 
Teleservice MAPPN_teleservice 33 0x21 
Teleservice Code 2 MAPPN_teleservice_2 273 0x111 
Timeout MAPPN_timeout 45 0x2d 
TMSI MAPPN_tmsi 83 0x53 
Trace Propagation List Ellipsis MAPPN_trace_proplist_ellipsis 473 0x1d9 
Trace Recording Session 
Reference MAPPN_trace_recsessionref 472 0x1d8 
Trace Reference 2 MAPPN_trace_ref2 471 0x1d7 
Trace Type MAPPN_trace_type 138 0x8a 
Tracing Reference MAPPN_trace_ref 139 0x8b 
Translated B Number MAPPN_translated_b_num 577 0x241 
UESBI Ellipsis MAPPN_uesbiellipsis 510 0x1fe 
UESBI-IUA MAPPN_uesbi_iua 508 0x1fc 
UESBI-IUB MAPPN_uesbi_iub 509 0x1fd 
Unauthorised Message Origination MAPPN_unauth_msg_orig 166 0xa6 
Unauthorized LCS Client 
Diagnostic MAPPN_unauth_lcs_cli_diag 233 0xe9 
Unknown Subscriber Diagnostic MAPPN_unk_sub_diag 61 0x3d 
User Error MAPPN_user_err 21 0x15 
User To User Information MAPPN_uui 278 0x116 
User To User Service Indicator MAPPN_user_to_user_serv_ind 269 0x10d 
USSD Coding Scheme MAPPN_USSD_coding 46 0x2e 
USSD String MAPPN_USSD_string 47 0x2f 
UTRAN Codec 1 MAPPN_utran_codec1 430 0x1ae 
UTRAN Codec 2 MAPPN_utran_codec2 431 0x1af 
UTRAN Codec 3 MAPPN_utran_codec3 432 0x1b0 
UTRAN Codec 4 MAPPN_utran_codec4 433 0x1b1 
UTRAN Codec 5 MAPPN_utran_codec5 434 0x1b2 
UTRAN Codec 6 MAPPN_utran_codec6 435 0x1b3 
UTRAN Codec 7 MAPPN_utran_codec7 436 0x1b4 
UTRAN Codec 8 MAPPN_utran_codec8 437 0x1b5 
UTRAN Codec Ellipsis MAPPN_utran_ellipsis 438 0x1b6 
MAP Programmer's Manual Issue 13 
 
                                109 
Parameter Mnemonic Value 
(dec) 
Value 
(hex) 
UU Indicator MAPPN_uu_indicator 276 0x114 
UUS CF Interaction MAPPN_uu_cf_interaction 277 0x115 
Uuser to User Data Ellipsis MAPPN_UU_data_ellipsis 279 0x117 
Vertical Accuracy MAPPN_vertical_accuracy 149 0x95 
Vertical Coordinate Request MAPPN_vertical_coordinate_req 148 0x94 
VLR Capability Ellipsis MAPPN_vlr_cap_ellipsis 102 0x66 
VLR Number MAPPN_vlr_number 55 0x37 
VMSC Address MAPPN_vmsc_address 117 0x75 
Wrong Password Attempts Count MAPPN_wrongpw_att_count 519 0x207 
XRES MAPPN_xres(i) 297 to 301 0x129 to 
0x12d 
 
Section 4  Interface to MAP-User 
110 
The coding for each parameter type is given in the following tables: 
 
Parameter name MAPPN_abs_sub_diag 
Parameter length Variable, in the range 1 to 2 
Parameter data Coded as a 2’s complement number. Values as defined in 
ETS 300 536 (GSM 03.40) 
 
Parameter name MAPPN_abs_sub_rsn 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 300 974 i.e.: 
0 – IMSI detach 
1 – restricted area 
2 – no page response 
 
Parameter name MAPPN_accessnetproid 
Parameter length Fixed, set to 1 
Parameter data Defines which Access Network Protocol is used: 
1 - ts3G-48006 
2 - ts3G-25413 
 
Parameter name MAPPN_accessnetsiginfo_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format as 
defined by the users. 
 
Parameter name MAPPN_accesstype 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_add_abs_sub_diag 
Parameter length Variable, in the range 1 to 2 
Parameter data Coded as a 2’s complement number. Values as defined in 
ETS 300 536 (GSM 03.40) 
 
MAP Programmer's Manual Issue 13 
 
                                111 
Parameter name MAPPN_addition_siginfo 
Parameter length Variable, in the range 1 to 201 
Parameter data First octet showing the protocol ID encoded as specified 
in TS 100 974 i.e.:  
1 – GSM 0408 
2 – GSM 0806 
4 – ETS 300 102-1 
Followed by up to 200 octets of signal information. 
 
Parameter name MAPPN_add_loc_est 
Parameter length Variable, in the range 1 to 91 
Parameter data Encoded as specified for Add-GeographicalInformation in 
TS 29 002 
 
Parameter name MAPPN_add_reqcamel_subinfo 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified by TS 29.002, i.e. 
0 – mt-sms-CSI 
1 – mg-CSI 
2 – o-IM-CSI 
3 – d-IM-CSI 
4 – vt-IM-CSI 
 
Parameter name MAPPN_add_sm_deliv_outcome 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 300-599, i.e.:  
0 – memory capacity exceeded 
1 – absent subscriber 
2 – successful transfer 
 
Parameter name MAPPN_age_loc_est 
Parameter length Variable, in the range 1 to 2 
Parameter data Encoded as specified for AgeOfLocationInformation in TS 
100 974 
 
Parameter name MAPPN_age_loc_info 
Parameter length Variable, in the range 1 to 2 
Parameter data Age of location information in minutes.  Coded as a 2’s 
complement number. 
 
Section 4  Interface to MAP-User 
112 
Parameter name MAPPN_alert_pattern 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 100-974 
 
Parameter name MAPPN_alert_reason 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 300-599, i.e.: 
0 – MS-present 
1 – memory available 
 
Parameter name MAPPN_alert_reason_ind 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_all_info_sent 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_allowed_encrypt_algorithms 
Parameter length Variable in the range 1 to 9 
Parameter data Lists the allowed Encryption  Algorithms 
 
Parameter name MAPPN_allowed_GSM_algorithms 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name   MAPPN_allowedUMTSellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format as 
defined by the users. 
 
Parameter name   MAPPN_allowed_umts_integ_protectalgos 
Parameter length Variable in the range 1 to 9 
Parameter data Encoded as specified in TS 29.002 
 
MAP Programmer's Manual Issue 13 
 
                                113 
Parameter name   MAPPN_alternative_channel_type 
Parameter length Variable in the range 1 to 4 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_ascicallreference 
Parameter length Variable, from 1 to 8 
Parameter data Digits of VGCS/VBS-area,Group-ID are concatenated in 
this order if there is a  VGCS/VBS-area. 
 
Parameter name MAPPN_autn (312 to 316) 
Parameter length Fixed, set to 16. 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_auts (296) 
Parameter length Fixed, set to 14. 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_authentic_set_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_b_subscriber_num 
Parameter length Variable, in the range 1 to 15 
Parameter data   Encoded as specified in TS 100 974 
 
Parameter name MAPPN_subscriber_sub_addr 
Parameter length Variable, in the range of 1 to 21 
Parameter data   Encoded as specified by TS 29.002 
 
Parameter name MAPPN_basic_service_list 
Parameter length Variable, in the range 1 to 220 
Parameter data Coded as specified for the BasicServiceList in GSM 09.02 
Phase 1. 
 
Section 4  Interface to MAP-User 
114 
Parameter name MAPPN_basic_svc_grp_list 
Parameter length Variable, in the range 1 to 220 
Parameter data Coded as specified for the BasicServiceGroupList in TS 
100 974. 
 
Parameter name MAPPN_bearerservice_2 
Parameter length Variable, in the range 1 to 5. 
Parameter data Encoded as specified in TS 29.002 
 
Parameter Name  MAPPN_bssmap_service_handover 
Parameter Length Fixed, set to 1 
Parameter Data This parameter refers to the Service Handover 
information element defined in 3GPP TS 48.008 
 
Parameter Name  MAPPN_bssmaplist_service_handover(i) 
Parameter Length Fixed, set to 1 
Parameter Data This parameter refers to the Service Handover 
information element used in the BSSMAP- 
ServiceHandoverList and defined in 3GPP TS 48.008 
 
Parameter Name  MAPPN_bssmaprab_id(i) 
Parameter Length  Variable, 1 to 220 
Parameter Data This parameter indicates the radio access bearer 
identifier used in the BSSMAP-ServiceHandoverList and 
defined in 3GPP TS 25.413 
 
Parameter Name  MAPPN_bssmapellipsis(i) 
Parameter Length Variable in the range 2 to 220 
Parameter Data Ellipsis for BSSMAP-ServiceHandoverList 
 
Parameter name MAPPN_callbar_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
MAP Programmer's Manual Issue 13 
 
                                115 
Parameter name MAPPN_callbar_feature_list 
Parameter length Variable, in the range 1 to 220 
Parameter data Coded as specified for CallBarringFeatureList in TS 100 
974. 
 
Parameter name MAPPN_call_barring_data 
Parameter length Variable, in the range 1 to 220 
Parameter data Encoded as specified for CallBarringData in TS 29 002 
V6.6.0. 
 
Parameter name MAPPN_call_bar_cse 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 300-599, i.e.:  
0 – barring service active 
1 – operator barring 
 
Parameter name MAPPN_call_forwarding_data  
Parameter length Variable, in the range 1 to 220 
Parameter data Encoded as specified for CallForwardingData in TS 29 
002 V6.6.0. 
 
Parameter name MAPPN_call_info 
Parameter length Variable, in the range 1 to 200 
Parameter data Encoded as ExtrernalSignalInfo as specified as 
TS29.002. 
 
Parameter name MAPPN_call_outcome 
Parameter length Fixed, set to 1 
Parameter data CallOutcome as specified by TS 29.002, i.e. 
0 – Success 
1 – Failure 
2 – Busy  
 
Parameter name MAPPN_call_report_data_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the CallReportData table in TS 
29.002. A series of parameters in tag, length, data format, 
as defined by the users. 
 
Section 4  Interface to MAP-User 
116 
Parameter name MAPPN_callref_num 
Parameter length Variable, in the range 1 to 8 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_callreference 
Parameter length Variable, in the range 1 to 3 
Parameter data Encoded as specified in ETS 300 599  
 
Parameter name MAPPN_camel_info_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_camel_route_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_camel_subscr_info 
Parameter length Variable, in the range 1 to 220 
Parameter data Encoded as specified for CAMEL-SubscriptionInfo in TS 
29 002 V6.6.0. 
 
Parameter name MAPPN_canceltype 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974 i.e. 
0 – update procedure 
1 – subscription withdraw 
 
Parameter name MAPPN_ccbs_busy 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_ccbs_call 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
MAP Programmer's Manual Issue 13 
 
                                117 
Parameter name MAPPN_ccbs_data_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the CCBS-Data table in TS 
29.002. A series of parameters in tag, length, data format, 
as defined by the users. 
 
Parameter name MAPPN_ccbs_feat_list 
Parameter length Variable, in the range 1 to 220 
Parameter data Coded as specified for the CCBS-FeatureList in TS 100 
974. 
 
Parameter name MAPPN_ccbs_ind_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_ccbs_index 
Parameter length Fixed, set to 1 
Parameter data CCBS-Index as specified by TS 29.002. 
 
Parameter name MAPPN_ccbs_monitoring 
Parameter length Fixed, set to 1 
Parameter data ReportingState as specified by TS 29.002, i.e. 
0 – Stop Monitoring 
1 – Start Monitoring 
 
Parameter name MAPPN_ccbs_possible 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Section 4  Interface to MAP-User 
118 
Parameter name MAPPN_ccbs_subsc_status 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified by TS 29.002, i.e. 
0 – ccbs Not Idle 
1 – ccbs Idle 
2 – ccbs Not Reachable 
 
Parameter name MAPPN_cell_id 
Parameter length Fixed, set to 7 
Parameter data Encoded as specified for the Cell Global Identification 
defined in TS GSM 04.08. First 5 octets contain the 
Mobile country code, the Mobile network code, and the 
Location area code; last 2 octets contain the Cell ID. 
 
Parameter Name MAPPN_chosenchannelinfo 
Parameter Length Variable, from 1 to 9 
Parameter Data This contains a description of the channel allocated to the 
MS. 
 
Parameter Name MAPPN_chosenspeechversion 
Parameter Length Fixed, set to 1 
Parameter Data Indicates the speech version being used  
 
Parameter Name MAPPN_chosenradioellipsis 
Parameter Length Variable from 1 to 255 
Parameter Data Ellipsis for Chosen Radio Resource  
 
Parameter name MAPPN_ck (302 too 306) 
Parameter length Fixed, set to 16. 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_cli_restrict_option 
Parameter length Fixed, set to 1 
Parameter data Coded as specified in TS 100 974 i.e.: 
0 – permanent 
1 – temporary default restricted 
2 – temporary default allowed 
 
MAP Programmer's Manual Issue 13 
 
                                119 
Parameter name MAPPN_cug_CI_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_CUG_facilities 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in GSM 09.02 Phase 1. 
 
Parameter name MAPPN_CUG_feature 
Parameter length Variable, in the range 1 to 220 
Parameter data Encoded as specified for CUG-Feature in GSM 09.02 
Phase 1. 
 
Parameter name MAPPN_CUG_feature_list 
Parameter length Variable, in the range 1 to 220 
Parameter data Encoded as specified for CUG-FeatureList in GSM 09.02 
Phase 1. 
 
Parameter name MAPPN_CUG_interlock 
Parameter length Variable, in the range 1 to 4 
Parameter data Encoded as specified in GSM 09.02 Phase 1. 
 
Parameter name MAPPN_CUG_outgo_access 
Parameter length Fixed, set to 0 
Parameter data  No Data 
 
Parameter name MAPPN_CUG_reject_cse 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 300-599, i.e.:  
0 – incoming calls barred within CUG 
1 – subscriber not member of CUG 
5 – requested basic service violates CUG constraints 
7 – called party SS – interaction violation 
 
Section 4  Interface to MAP-User 
120 
Parameter name MAPPN_CUG_subscript_flag 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_current_loc_retrieved 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_current_password 
Parameter length Fixed, set to 4 
Parameter data Encoded as Password specified in TS 29.002 
 
 
Parameter name MAPPN_cust_imei 
Parameter length Fixed, set to 8 
Parameter data Encoded as specified for IMEI in TS 100 974. 
Used instead of MAPPN_imei parameter for Check-IMEI 
MAP v1 and v2 when additional ellipsis data required. 
 
Parameter name MAPPN_d_csi 
Parameter length Variable, from 1 to 220 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_default_priority 
Parameter length Fixed, set to 1 
Parameter data Value in the range 0 to 15 
 
Parameter name MAPPN_deliv_fail_cse 
Parameter length Fixed, Variable in the range 1 to 201 
Parameter data First octet showing delivery failure cause encoded as 
specified in ETS 300-599, i.e.:  
0 – memory capacity exceeded 
1 – equipment protocol error 
2 – equipment not SM equipped 
3 – unknown service centre 
4 – SC congestion 
5 – invalid SME address 
6 – subscriber not SC subscriber 
Followed by up to 200 bytes of diagnostic information. 
 
MAP Programmer's Manual Issue 13 
 
                                121 
Parameter name MAPPN_deliv_outcome_ind 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_diag_inf 
Parameter length Variable, in the range 1 to 200 
Parameter data MAP version 2: 
Single octet coded as follows:  
0 – short term resource limitation 
1 – long term resource limitation 
2 – handover cancellation 
3 – radio channel release 
4 – network path release 
5 – call release 
6 – associated procedure release 
7 – tandem dialogue release 
8 – remote operations failure 
MAP version 1: 
The contents of the parameter are up to the operator. 
 
Parameter name MAPPN_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter Name MAPPN_encryptinfo 
Parameter Length Variable in the range 18 to 100 
Parameter Data Includes key and permitted algorithms. 
 
Parameter name MAPPN_equipment_status 
Parameter length Fixed, set to 1 
Parameter data 0 – WhiteListed 
1 – BlackListed 
2 - GreyListed 
 
Section 4  Interface to MAP-User 
122 
Parameter name MAPPN_event_met 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 129 002 i.e., 
0 – Location update in same VLR                                      
1 - Location update in other VLR                                         
2 – IMSI attach                                                                    
3 - MS initiated IMSI detach                                                
4 - Network initiated IMSI detach 
 
Parameter name MAPPN_event_report_data_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the EventReportData table in 
TS 29.002. A series of parameters in tag, length, data 
format, as defined by the users. 
 
Parameter name MAPPN_external_address(0) 
Parameter length Variable, in the range 1 to 20 
Parameter data Encoded as specified for AddressString in TS 100 974. 
 
Parameter name MAPPN_ext_bearerservice 
Parameter length Variable, in the range 1 to 5 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_ext_callbar_feature_list 
Parameter length Variable, in the range 1 to 220 
Parameter data Coded as specified for Ext-CallBarFeatureList in TS 
29.002. 
 
Parameter name MAPPN_ext_fwd_feature_list 
Parameter length Variable, in the range 1 to 220 
Parameter data Coded as specified for Ext-ForwFeatureList in TS 29.002. 
 
Parameter name MAPPN_ext_ss_status 
Parameter length Variable, in the range 1 to 5 
Parameter data Gives extended supplementary service status information, 
as defined in TS 29.002. 
 
Parameter name MAPPN_ext_ss_status_2 
MAP Programmer's Manual Issue 13 
 
                                123 
Parameter length Variable, in the range 1 to 5 
Parameter data Gives extended supplementary service status information, 
as defined in TS 29.002. 
 
Parameter name MAPPN_failurecause 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_forwarding_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_forwarding_reason 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974 i.e. 
0 – Not reachable 
1 – Busy 
2 – No reply 
 
Parameter name MAPPN_fwd_feature_list 
Parameter length Variable, in the range 1 to 220 
Parameter data Coded as specified for the ForwardingFeatureList in TS 
100 974. 
Section 4  Interface to MAP-User 
124 
 
Parameter name MAPPN_fwding_opt 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in ETS 300-599, i.e.: 
V1: bits 87: notification to forwarding party 
  00 – no notification 
  01 – notification 
  10 – notification 
V2: bit 8: notification to forwarding party 
   0 – no notification 
   1 – notification 
 V2: bit 7: 0  (unused)  
 V1: bits 65: notification to calling party 
   00 – no notification 
   01 – notification 
   10 – notification  
V2: bits 6: notification to calling party 
   0 – no notification 
   1 – notification 
V2: bit 5: 0  (unused)  
V2: bits 43: forwarding reason 
   00 – ms not reachable 
   01 – ms busy 
   10 – no reply 
   11 – unconditional 
bits 21: 00  (unused) 
 
Parameter name MAPPN_fwd_data_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_fwd_interrog_req 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_fwd_to_num 
Parameter length Variable, in the range 1 to 20 
Parameter data Encoded as specified in TS 29.002. 
 
Parameter name MAPPN_fwd_to_subaddr 
Parameter length Variable, in the range 1 to 21 
Parameter data Encoded as specified in GSM 09.02 Phase 1. 
 
MAP Programmer's Manual Issue 13 
 
                                125 
Parameter name MAPPN_geodetic_info 
Parameter length Fixed, set to 10 
Parameter data Encoded as specified in TS 129 002 
 
Parameter name MAPPN_geog_info 
Parameter length Fixed, set to 8 
Parameter data Encoded as specified in TS GSM 03.32. 
 
Parameter Name MAPPN_geran_classmark 
Parameter Length Variable, from 2 to 87 
Parameter Data Used to convey cell related information to the MSC. 
 
Parameter Name MAPPN_geran_codec1 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the  highest priority codec 
 
Parameter Name MAPPN_geran_codec2 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the second  highest priority codec 
 
Parameter Name MAPPN_geran_codec3 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the third highest priority codec 
 
Parameter Name MAPPN_geran_codec4 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the fourth highest priority codec 
 
Parameter Name MAPPN_geran_codec5 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the fifth highest priority codec 
 
Section 4  Interface to MAP-User 
126 
Parameter Name MAPPN_geran_codec6 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the sixth highest priority codec 
 
Parameter Name MAPPN_geran_codec7 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the seventh highest priority codec 
 
Parameter Name MAPPN_geran_codec8 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the eighth highest priority codec 
 
Parameter Name MAPPN_geran_ellipsis 
Parameter Length Variable in the range 2 to 255 
Parameter Data Ellipsis for GERAN Codec List 
 
Parameter name MAPPN_ggsn_address 
Parameter length Variable, in the range 5 to 17 
Parameter data Encoded as specified in TS GSM 03.03. 
 
Parameter name MAPPN_ggsn_number 
Parameter length Variable, in the range 1 to 9 
Parameter data Content octets of the GGSN number parameter encoded 
as specified in ETS 300-974, i.e., starting with the octet 
containing nature of address indicator and numbering 
plan indicator. 
 
Parameter name MAPPN_gmsc_address 
Parameter length Variable, in the range 1 to 9 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_gprs_connect_susp 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
MAP Programmer's Manual Issue 13 
 
                                127 
Parameter name MAPPN_gprsinfo_age 
Parameter length Variable, in the range 1 to 2 
Parameter data Age of the LocationInformationGPRS table data in 
minutes. Encoded as specified for 
AgeOfLocationInformation in TS 29.002. 
 
Parameter name MAPPN_gprsinfo_cell_id 
Parameter length Fixed, set to 7 
Parameter data Cell Id defined for the LocationInformationGPRS table. 
Encoded as specified for 
CellGlobalOrServiceAreaIdFixedLength defined in TS 
29.002. First 5 octets contain the Mobile country code, the 
Mobile network code, and the Location area code; last 2 
octets contain the Cell ID or Service Area Code. 
 
Parameter name MAPPN_gprsinfo_cur_loc_ret 
Parameter length Fixed, set to 0 
Parameter data No data – presence of tag indicates that the 
LocationInformationGPRS table data was retrieved after a 
successful paging. 
 
Parameter name MAPPN_gprsinfo_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the LocationInformationGPRS 
table in TS 29.002. A series of parameters in tag, length, 
data format, as defined by the users. 
 
Parameter name MAPPN_gprsinfo_geodetic_info 
Parameter length Fixed, set to 10 
Parameter data GeodeticInformation for the LocationInformationGPRS 
table. Encoded as specified in TS 29.002. 
 
Parameter name MAPPN_gprsinfo_geograph_info 
Parameter length Fixed, set to 8 
Parameter data GeographicalInformation for the 
LocationInformationGPRS table. Encoded as specified in 
TS 29.002. 
 
Section 4  Interface to MAP-User 
128 
Parameter name MAPPN_gprsinfo_lai 
Parameter length Fixed, set to 5 
Parameter data Local Area Id defined for the LocationInformationGPRS 
table. Encoded as specified for LAIFixedLength defined in 
TS 29.002. The first 3 octets contain the Mobile country 
code and the Mobile network code and the last 2 octets 
define the Location area code. 
 
Parameter name MAPPN_gprsinfo_sai_present 
Parameter length Fixed, set to 0 
Parameter data No data – presence of tag indicates that the 
LocationInformationGPRS table Cell Id 
(MAPPN_gprsinfo_cell_id) contains a Service Area Id . 
 
Parameter name MAPPN_gprsinfo_sel_lsa_id 
Parameter length Fixed, set to 3 
Parameter data Selected LSA Id defined for the 
LocationInformationGPRS table. Encoded as specified for 
LSAIdentity defined in TS 29.002. 
 
Parameter name MAPPN_gprs_node_ind 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_gprs_support_ind 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_gsmscf_addr 
Parameter length Variable, in the range 1 to 9 
Parameter data Content octets of the gsmSCF parameter encoded as 
specified in ETS 300-974, i.e., starting with the octet 
containing nature of address indicator and numbering 
plan indicator. 
 
MAP Programmer's Manual Issue 13 
 
                                129 
Parameter name MAPPN_gsm_bearercap 
Parameter length Variable, in the range 1 to 201 
Parameter data First octet showing the protocol ID encoded as specified 
in TS 100 974 i.e.:  
1 – GSM 0408 
2 – GSM 0806 
4 – ETS 300 102-1 
Followed by up to 200 octets of signal information. 
 
Parameter name MAPPN_guidance_info 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 29.002 i.e. 
0 – enterPW 
1 – enterNewPW 
2 – enterNewPW-Again 
 
Parameter Name MAPPN_handoverNumber 
Parameter Length Variable 1 to 9 
Parameter Data Contains the handover number. 
 
Parameter Name MAPPN_honum_notreq 
Parameter Length Fixed, set to 0 
Parameter Data Not Applicable  
 
Parameter name MAPPN_hlr_list 
Parameter length Variable, in the range 2 to 220 
Parameter data A series of parameters in tag, length, data format that 
define a HLR-List structure as defined by TS 29.002. 
 
Parameter name MAPPN_hlr_number 
Parameter length Variable, in the range 1 to 9 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_horizontal_accuracy 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974 i.e. 
Bit 8 = 0 
Bit 7-1 = 7 bit Uncertainty Code defined in GSM 03.32 
 
Section 4  Interface to MAP-User 
130 
Parameter name MAPPN_hop_counter (319) 
Parameter length Fixed, set to 1. 
Parameter data Integer, in the range 0 to 3. 
 
Parameter name MAPPN_hunt_group_access_sel_order 
Parameter length Fixed, set to 1 
Parameter data This subscription option is defined in GSM Rec 02.82 
 
Parameter name MAPPN_imei 
Parameter length Fixed, set to 8 
Parameter data Encoded as specified for IMEI in TS 100 974. 
 
Parameter name MAPPN_imm_resp_pref 
Parameter length Fixed, set to 0. 
Parameter data  Not Applicable 
 
Parameter name MAPPN_imsi 
Parameter length Variable, in the range 3 to 8 
Parameter data Content octets of the IMSI parameter encoded as 
specified in ETS 300-599. 
 
Parameter name MAPPN_imsi_lmsi_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter Name MAPPN_integ_protectinfo 
Parameter Length Variable in the range 18 to 100 
Parameter Data Includes key and permitted algorithms as specified in TS 
29.002 v7.5 
 
Parameter name MAPPN_ik (307 to 311) 
Parameter length Fixed, set to 16. 
Parameter data Encoded as specified in TS 29.002 
 
MAP Programmer's Manual Issue 13 
 
                                131 
Parameter name MAPPN_interrogation_type 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974 i.e. 
0 – Basic call 
1 – Forwarding 
 
Parameter name MAPPN_invoke_id 
Parameter length Fixed, set to 1 
Parameter data Single octet representing the invoke ID encoded as 
specified in the TCAP Programmer’s Manual, i.e., in the 
range  -128 to +127 
 
Parameter name MAPPN_ist_supp_ind 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 29.002 i.e. 
0 – basicISTSupported 
1 – istCommandSupported 
 
Parameter Name  MAPPN_iu_available_codec1 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the  highest priority available  codec 
 
Parameter Name MAPPN_iu_available_codec2 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the second  highest priority available codec 
 
Parameter Name MAPPN_iu_available_codec3 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the third highest priority available  codec 
 
Parameter Name MAPPN_iu_available_codec4 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the fourth highest priority available  codec 
 
Section 4  Interface to MAP-User 
132 
Parameter Name MAPPN_iu_available_codec5 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the fifth highest priority available codec 
 
Parameter Name MAPPN_iu_available_codec6 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the sixth highest priority available codec 
 
Parameter Name MAPPN_iu_available_codec7 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the seventh highest priority available  codec 
 
Parameter Name MAPPN_iu_available_codec8 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the seventh highest priority available  codec 
 
Parameter Name MAPPN_iu_currently_used_codec 
Parameter Length Variable, 1 to 4 
Parameter Data This parameter indicates the codec used at the Iu 
interface before handover  
 
Parameter Name MAPPN_iu_selected_codec 
Parameter Length Variable, 1 to 4 
Parameter Data When sent by MSC-A, this parameter indicates the codec 
to be used by MSC-B at the Iu interface. 
 
Parameter name MAPPN_kc 
Parameter length Fixed, set to 8 
Parameter data Encoded as specified in TS 100 974 
 
MAP Programmer's Manual Issue 13 
 
                                133 
Parameter name MAPPN_keep_ccbs_call_ind 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter Name MAPPN_key_status 
Parameter Length Fixed, set to 1 
Parameter Data Encoded as specified in TS 29.002 v7.5 
 
Parameter name MAPPN_lai 
Parameter length Fixed, set to 5 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_lcs_cli_dialled_by_ms  
Parameter length Variable, in the range 1 to 20 
Parameter data Encoded as specified for AddressString in TS 100 974. 
 
Parameter name MAPPN_lcs_client_id_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_lcs_client_internal_id(0)  
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974 i.e. 
0 – broadcastService 
1 – o-andM-HPLMN 
2 – o-andM-VPLMN 
3 – anonymousLocation 
4 - targetMSsubscribedService 
 
Parameter name MAPPN_lcs_client_name_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Section 4  Interface to MAP-User 
134 
Parameter name MAPPN_lcs_client_type  
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974 i.e. 
0 – emergencyServices 
1 – valueAddedServices 
2 – plmnOperatorServices 
3 - lawfulInterceptServices 
 
Parameter name MAPPN_lcs_cli_ext_ellipsis(0) 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_lcs_event 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974 i.e. 
0 – emergencyCallOrigination 
1 – emergencyCallRelease 
2 – mo-lr 
 
Parameter name MAPPN_lcs_priority 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974, i.e.: 
0 – highest Priority 
1 – normal Priority 
 
Parameter name MAPPN_lcs_qos_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_linked_id 
Parameter length Fixed, set to 1 
Parameter data The linked id should be the same as the invoke id of the 
service to which it is linked . 
 
MAP Programmer's Manual Issue 13 
 
                                135 
Parameter name MAPPN_lmsi 
Parameter length Fixed, set to 4 
Parameter data Content octets of the LMSI parameter encoded as 
specified in ETS 300-599. 
 
Parameter name MAPPN_location_estimate 
Parameter length Variable, in the range 1 to 20 
Parameter data Encoded as specified for Ext-GeographicalInformation in 
TS 100 974 
 
Parameter name MAPPN_loc_est_type  
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974 i.e. 
0 – currentLocation 
1 – currentOrLastKnownLocation 
2 – initialLocation 
 
Parameter name MAPPN_locinfo_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_loc_lmsi_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_loc_num 
Parameter length Variable, in the range 2 to 10 
Parameter data Encoded as specified in ITU-T Q.763. 
 
Parameter name MAPPN_loc_type_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Section 4  Interface to MAP-User 
136 
Parameter name MAPPN_long_ftn_sup (236) 
Parameter length Fixed, set to 0 
 
Parameter name MAPPN_max_conf_nbr 
Parameter length Fixed, set to 1 
Parameter data This subscription option is defined in GSM Rec 02.84 
 
Parameter name MAPPN_max_priority 
Parameter length Fixed, set to 1 
Parameter data Value in the range 0 to 15 
 
Parameter Name MAPPN_mgwtracedepth 
Parameter Length Fixed, set to 1. 
Parameter Data Defines the level of Tracing for MGW: 
 0 - minimum 
 1 - medium 
 2 - maximum 
 
Parameter Name MAPPN_mgwinterfacelist 
Parameter Length Fixed, set to 2. 
Parameter Data 
Contains a bit string detailing which of the following is 
included: 
 
    mc (0), 
    nb-up (1), 
    iu-up (2)} (SIZE (3..8)) 
-- Other bits than listed above shall be discarded. 
 
Parameter Name MAPPN_mgweventlist 
Parameter Length Fixed, set to 1. 
Parameter Data 
Contains a bit string detailing which of the following is 
included:     
 context (0)} (SIZE (1..8)) 
-- Other bits than listed above shall be discarded. 
 
MAP Programmer's Manual Issue 13 
 
                                137 
Parameter name MAPPN_more_msgs 
Parameter length Fixed, set to 0 
Parameter data Not applicable 
 
Parameter name MAPPN_mlc_number 
Parameter length Variable, in the range 1 to 9 
Parameter data Content octets of the MLC number parameter encoded as 
specified in ETS 100-974, i.e., starting with the octet 
containing nature of address indicator and numbering 
plan indicator. 
 
Parameter name MAPPN_mnp_imsi 
Parameter length Variable, in the range 3 to 8 
Parameter data IMSI defined for the MNPInfoRes table. Encoded as 
specified for IMSI defined in TS 29.002. 
 
Parameter name MAPPN_mnp_msisdn 
Parameter length Variable, in the range 1 to 15 
Parameter data MSISDN defined for the MNPInfoRes table. Encoded as 
specified for ISDN-AddressString defined in TS 29.002. 
 
Parameter name MAPPN_mnp_num_port_status 
Parameter length Fixed, set to 1 
Parameter data Number Portability Status defined for the MNPInfoRes 
table. 
Encoded as specified by TS 29.002, i.e. 
0 – Not Known to be Ported 
1 – Own Number Ported Out 
2 – Foreign Number Ported To Foreign Network 
4 – Own Number Not Ported Out 
5 – Foreign Number Ported In 
 
Parameter name MAPPN_mnpinfo_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the MNPInfoRes table in TS 
29.002. A series of parameters in tag, length, data format, 
as defined by the users. 
 
Section 4  Interface to MAP-User 
138 
 
Parameter name MAPPN_mod_csi_state 
Parameter length Fixed, set to 1 
Parameter data Encoded as a ModificationInstruction as specified by TS 
29.002, i.e. 
0 – Deactivate 
1 - Activate 
 
Parameter name MAPPN_mod_regn_status 
Parameter length Fixed, set to 1 
Parameter data Encoded as a ModificationInstruction as specified by TS 
29.002, i.e. 
0 – Deactivate 
1 - Activate 
 
Parameter name MAPPN_monitoring_mode 
Parameter length Fixed, set to 1 
Parameter data MonitoringMode as specified by TS 29.002, i.e. 
0 – A-side 
1 – B-side 
 
Parameter name MAPPN_mr_cbinfo_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the MofificationRequestFor-CB- 
Info table in TS 29.002. A series of parameters in tag, 
length, data format, as defined by the users. 
 
Parameter name MAPPN_mr_cbinfo_notn_tocse 
Parameter length Fixed, set to 1 
Parameter data Applicable to the MofificationRequestFor-CB-Info table 
and encoded as a ModificationInstruction as specified by 
TS 29.002, i.e. 
0 – Deactivate 
1 - Activate 
 
Parameter name MAPPN_mr_cfinfo_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the MofificationRequestFor-CF- 
Info table in TS 29.002. A series of parameters in tag, 
length, data format, as defined by the users. 
MAP Programmer's Manual Issue 13 
 
                                139 
 
Parameter name MAPPN_mr_cfinfo_notn_tocse 
Parameter length Fixed, set to 1 
Parameter data Applicable to the MofificationRequestFor-CF-Info table 
and encoded as a ModificationInstruction as specified by 
TS 29.002, i.e. 
0 – Deactivate 
1 - Activate 
 
Parameter name MAPPN_mr_csi_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the ModificationRequestFor- 
CSI table in TS 29.002. A series of parameters in tag, 
length, data format, as defined by the users. 
 
Parameter name MAPPN_mr_csi_notn_tocse 
Parameter length Fixed, set to 1 
Parameter data Applicable to the ModificationRequestFor-CSI table and 
encoded as a ModificationInstruction as specified by TS 
29.002, i.e. 
0 – Deactivate 
1 - Activate 
 
Parameter name MAPPN_mr_ipsmgw_data_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the ModificationRequestFor-IP- 
SM-GW-Data table in TS 29.002. A series of parameters 
in tag, length, data format, as defined by the users. 
 
Parameter name MAPPN_mr_obd_data_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Ellipsis data applicable to the ModificationRequestFor- 
ODB-data table in TS 29.002. A series of parameters in 
tag, length, data format, as defined by the users. 
 
Parameter name MAPPN_mr_odb_data_notn_tocse 
Parameter length Fixed, set to 1 
Parameter data Applicable to the ModificationRequestFor-ODB-data table 
and encoded as a ModificationInstruction as specified by 
TS 29.002, i.e. 
0 – Deactivate 
1 – Activate 
Section 4  Interface to MAP-User 
140 
 
Parameter Name MAPPN_mscinterfacelist 
Parameter Length Fixed, set to 2. 
Parameter Data 
Contains a bit string detailing which of the following is 
included:             
            a (0), 
           iu (1), 
 mc (2), 
 map-g (3), 
 map-b (4), 
 map-e (5), 
 map-f (6), 
 cap (7), 
 map-d (8), 
 map-c (9)} (SIZE (10..16)) 
-- Other bits than listed above shall be discarded. 
 
Parameter Name MAPPN_mscseventlist 
Parameter Length Fixed, set to 2. 
Parameter Data 
Contains the list of events, as bits  where: 
 mo-mtCall (0), 
 mo-mt-sms (1), 
 lu-imsiAttach-imsiDetach (2), 
 handovers (3), 
 ss (4)} (SIZE (5..16)) 
-- Other bits than listed above shall be discarded. 
 
Parameter Name MAPPN_msctracedepth 
Parameter Length Fixed, set to 1. 
Parameter Data 
Defines the level of Tracing for MGW: 
          0 - minimum 
          1 - medium 
          2 - maximum 
 
Parameter name MAPPN_msc_num 
Parameter length Variable, in the range 1 to 9 
Parameter data Content octets of the MSC number parameter encoded as 
specified in ETS 300-599, i.e., starting with the octet 
containing nature of address indicator and numbering 
plan indicator. 
MAP Programmer's Manual Issue 13 
 
                                141 
 
Parameter name MAPPN_msisdn 
Parameter length Variable, in the range 1 to 15 
Parameter data Content octets of the msisdn parameter encoded as 
specified in ETS 300-599, i.e., starting with the octet 
containing nature of address indicator and numbering 
plan indicator. 
Note: MSISDN is normally range 1 to 9, but expanded 
here to allow long numbers. 
 
Parameter name MAPPN_ms_classmark2 
Parameter length Fixed, set to 3 
Parameter data Value part of the Mobile Station Classmark 2 IE. Encoded 
as defined in TS 24.008. 
 
Parameter name MAPPN_ms_network_cap 
Parameter length Variable, in the range 1 to 8 
Parameter data Value part of the Mobile Station Network Capability IE. 
Encoded as defined in TS 24.008. 
 
Parameter name MAPPN_ms_not_reach_flag 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_ms_radio_access_cap 
Parameter length Variable, in the range 1 to 50 
Parameter data Value part of the Mobile Station Radio Access Capability 
IE. Encoded as defined in TS 24.008. 
 
Parameter Name MAPPN_multiBearerNotSupp 
Parameter Length Fixed, set to 0 
Parameter Data Not Applicable  
 
Parameter Name MAPPN_mul_bear_req 
Parameter Length Fixed, set to 0 
Parameter Data Not Applicable  
 
Section 4  Interface to MAP-User 
142 
Parameter Name MAPPN_multicallBearerInfo 
Parameter Length Variable, 1 to 7 
Parameter Data Contains Information about Multiple Call Bearer 
 
Parameter name MAPPN_mwd_set 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in GSM 09.02 Phase 1. 
 
Parameter name MAPPN_mwd_status 
Parameter length Fixed, set to 1 
Parameter data Bit 0 is used as the least significant bit. 
bit 0: service centre address not included flag 
  0 – service centre address included 
  1 – service centre address not included 
bit 1: mobile subscriber not reachable flag 
  0 – mobile subscriber is reachable 
  1 – mobile subscriber not reachable 
 bit 2: memory capacity exceeded flag 
  0 – memory capacity sufficient 
  1 – memory capacity exceeded 
bits 3-7 - not used 
 
Parameter name MAPPN_naea_preferred_cic 
Parameter length Fixed, set to 3 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_naea_pref_ci_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_na_esrd 
Parameter length Variable, in the range 1 to 9. 
Parameter data Encoded as specified in TS 100 974, i.e., starting with the 
octet containing nature of address indicator and 
numbering plan indicator. 
 
MAP Programmer's Manual Issue 13 
 
                                143 
Parameter name MAPPN_na_esrk 
Parameter length Variable, in the range 1 to 9. 
Parameter data Encoded as specified in TS 100 974, i.e., starting with the 
octet containing nature of address indicator and 
numbering plan indicator. 
 
Parameter name MAPPN_nb_req_vect (291) 
Parameter length Fixed, set to 1. 
Parameter data Integer, in the range 1 to 5. 
 
Parameter name MAPPN_nbr_user 
Parameter length Variable, in the range 1 to 7 
Parameter data Encoded as specified for MC-Bearers in ETS 300 599. 
 
Parameter name MAPPN_net_sig_info 
Parameter length Variable, in the range 1 to 200 
Parameter data Encoded as specified in GSM 09.02 Phase 1. 
 
Parameter name MAPPN_network_sig_info 
Parameter length Variable, in the range 1 to 200 
Parameter data Encoded as specified in ETS 100 974 
 
Parameter name MAPPN_new_password 
Parameter length Fixed, set to 4 
Parameter data Encoded as Password specified in TS 29.002. 
 
Parameter name MAPPN_no_reply_condition_time 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified for NoReplyConditionTime and Ext- 
NoReplyConditionTime in TS 29 002 V6.6.0 i.e. an 
unsigned char from 1 to 100. 
 
Parameter name MAPPN_not_to_held_ret_party 
Parameter length Fixed, set to 1 
Parameter data This subscription option is defined in GSM Rec 02.82 
 
Section 4  Interface to MAP-User 
144 
Parameter name MAPPN_not_reach_rsn 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in ETS 300 974, i.e., a single octet 
as follows:  
0 – Mobile subscriber purged 
1 – IMSI detached 
2 – Restricted area 
3 – Not registered 
 
Parameter name MAPPN_notn_tocse 
Parameter length Fixed, set to 0 
Parameter data Prescience of parameter indicates Notification to CSE. 
 
Parameter name MAPPN_ntwk_res 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 300-599, i.e.:  
0 – PLMN 
1 – HLR 
2 – VLR 
3 – PVLR 
4 – controlling MSC 
5 – VMSC 
6 – EIR 
7 – RSS 
 
Parameter name MAPPN_number_port_status 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974, i.e.: 
0 – Not known to be ported 
1 – Own number ported out 
2 – Foreign number ported to foreign network 
 
Parameter name MAPPN_num_of_fwding 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in GSM 09.02 Phase 1, i.e., in the 
range 1 to 5. 
 
Parameter name MAPPN_o_bcsm_camel_tdp_criteria_list 
Parameter length Variable, from 1 to 220 
Parameter data Encoded as specified in TS 29.002 
 
MAP Programmer's Manual Issue 13 
 
                                145 
 
Parameter name MAPPN_o_csi 
Parameter length Variable, from 1 to 220 
Parameter data Encoded as specified in TS 100 974. 
 
Parameter name MAPPN_odb_data_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_odb_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_odb_gen_data 
Parameter length Variable, in the range 2 to 4 
Parameter data Bit encoded as specified by TS 29.002. 
 
Parameter name MAPPN_odb_hplmn_data 
Parameter length Variable, in the range 1 to 4 
Parameter data Bit encoded as specified by TS 29.002, i.e. 
Bit 0 = plmn-SpecificBarringType1 
Bit 1 = plmn-SpecificBarringType2 
Bit 2 = plmn-SpecificBarringType3 
Bit 3 = plmn-SpecificBarringType4 
 
Parameter name MAPPN_odb_info 
Parameter length Variable, in the range 1 to 220 
Parameter data Encoded as specified for ODB-Info in TS 29 002 V6.6.0. 
 
Parameter name MAPPN_odb_info_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Section 4  Interface to MAP-User 
146 
Parameter name MAPPN_odb_notn_tocse 
Parameter length Fixed, set to 0 
Parameter data Prescience of parameter indicates Notification to CSE for 
ODB. 
 
Parameter name MAPPN_off_camel_4_csis_in_sgsn 
Parameter length Variable, in the range 1 to 2 
Parameter data Encoded as specified for OfferedCamel4CSIs in TS 29 
002 V6.6.0, i.e.: 
0 – o-cis 
1 – d-csi 
2 – vt-csi 
3 – t-csi 
4 – mt-sms-csi 
5 – mg-csi 
6 – psi-enhancements 
 
Parameter name MAPPN_off_camel_4_csis_in_vlr 
Parameter length Variable, in the range 1 to 2 
Parameter data Encoded as specified for OfferedCamel4CSIs in TS 29 
002 V6.6.0, i.e.: 
0 – o-cis 
1 – d-csi 
2 – vt-csi 
3 – t-csi 
4 – mt-sms-csi 
5 – mg-csi 
6 – psi-enhancements 
 
Parameter name MAPPN_omc_id 
Parameter length Variable, in the range 1 to 20 
Parameter data Identity address allocated to an OMC (Operation and 
Maintenance Center) and encoded as specified in ETS 
300-599, i.e., starting with the octet containing nature of 
address indicator and numbering plan indicator. 
 
Parameter name MAPPN_ornotsupp_gmsc 
Parameter length Fixed, set to 0 
Parameter data Not applicable 
 
MAP Programmer's Manual Issue 13 
 
                                147 
Parameter name MAPPN_or_capability 
Parameter length Fixed, set to 1 
Parameter data Integer, in the range 1 to 127 
 
Parameter name MAPPN_or_interrogation 
Parameter length Fixed, set to 0 
Parameter data Not applicable 
 
Parameter name MAPPN_origentitynumber 
Parameter length Variable, in the range 1 to 9 
Parameter data Encoded as ISDN-AddressString specified in ETS 300 
599. 
 
Parameter name MAPPN_override_category 
Parameter length Fixed, set to 1 
Parameter data Encode as specified in ETS 300 599 i.e. 
0 – OverrideEnabled 
1 - OverrideDisabled 
 
Parameter name MAPPN_password 
Parameter length Fixed, set to 4 
Parameter data Encoded as Password specified in TS 29.002. 
 
Parameter name MAPPN_per_call_basis 
Parameter length Fixed, set to 1. 
Parameter data This subscription option is defined in GSM Rec 02.81 
 
Section 4  Interface to MAP-User 
148 
Parameter name MAPPN_posit_method_fail_diag 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974, i.e.: 
0 – congestion 
1 – insufficientResources 
2 – insufficientMeasurementData 
3 – inconsistentMeasurementData 
4 – locationProcedureNotCompleted 
5 – locationProcedureNotSupportedByTargetMS 
6 – qoSNotAttainable 
7 – positionMethodNotAvaibleInNetwork 
8 – positionMethodNotAvaibleInLocationArea 
 
Parameter name MAPPN_previous_roam_num 
Parameter length Variable, in the range 1 to 9 
Parameter data Content octets of the previous roaming number encoded 
as specified in ETS 300 599, i.e., starting with the octet 
containing the nature of address indicator and the 
numbering plan indicator 
 
Parameter name MAPPN_prev_lai (318) 
Parameter length Fixed, set to 5. 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_priv_override  
Parameter length Fixed, set to 0 
Parameter data  Not Applicable 
 
Parameter name MAPPN_prov_err 
Parameter length Fixed, set to 1 
Parameter data Single octet coded as follows:  
1 – duplicated invoke ID 
2 – not supported service 
3 – mistyped parameter 
4 – resource limitation 
5 – initiating release 
6 – unexpected response from peer 
7 – service completion failure 
8 – no response from peer 
9 – invalid response received 
 
MAP Programmer's Manual Issue 13 
 
                                149 
Parameter name MAPPN_ps_not_reach_rsn 
Parameter length Fixed, set to 1 
Parameter data Not Reachable Reason defined for the PS- 
SubscriberState table. Encoded as specified in TS 
29.002, i.e. 
0 – Mobile Subscriber Purged 
1 – IMSI Detached 
2 – Restricted Area 
3 – Not Registered 
 
Parameter name MAPPN_ps_pdpactnotreach_list 
Parameter length Variable, in the range 9 to 220 
Parameter data A series of parameters in tag, length, data format that 
define a PDP-ContextInfoList structure for the ps-PDP- 
ActiveNotReachableForPaging field of the PS- 
SubscriberState table by TS 29.002. 
 
Parameter name MAPPN_ps_pdpactreachable_list 
Parameter length Variable, in the range 9 to 220 
Parameter data A series of parameters in tag, length, data format that 
define a PDP-ContextInfoList structure for the ps-PDP- 
ActiveReachableForPaging field of the PS- 
SubscriberState table by TS 29.002. 
 
Parameter name MAPPN_ps_sub_state 
Parameter length Fixed, set to 1 
Parameter data PS Subscriber’s State encode as a single octet, i.e. 
0 – Not Provided From SGSN 
1 – PS Detached 
2 – PS Attached Not Reachable For Paging 
3 – PS Attached Reachable for Paging 
4 – PS PDP Active Not Reachable for Paging 
5 – PS PDP Active Reachable for Paging 
6 – Net Det Not Reachable 
Some states linked to another parameter, e.g., state 4 to 
MAPPN_ps_pdpactnotreach_list. The user need not 
specify the PS Subscriber’s State parameter if a linked 
parameter is used. On receive, both parameters are 
returned to the user. 
 
Section 4  Interface to MAP-User 
150 
Parameter Name MAPPN_rab_id 
Parameter Length Variable, in the range 1 to 220 
Parameter Data This parameter indicates the radio access bearer 
identifier as defined in 3GPP TS 25.413 
 
Parameter Name MAPPN_rab_config_indicator 
Parameter Length Fixed, set to 0 
Parameter Data Parameter data  
 
Parameter Name MAPPN_radio_resource_info 
Parameter Length Variable, 3 to 13 
Parameter Data Information regarding the Channel Type. 
 
Parameter Name MAPPN_listradio_resource_info 
Parameter Length Variable, 3 to 13 
Parameter Data Information regarding the Channel Type. 
 
Parameter Name MAPPN_radioresrab_id 
Parameter Length Variable, 1 to 220 
Parameter Data Used to relate the radio resources with the radio access 
bearers 
 
Parameter Name MAPPN_radioresellipsis 
Parameter Length Variable, in the range 2 to 255 
Parameter Data Ellipsis for Radio Resource List 
 
Parameter name MAPPN_rai 
Parameter length Fixed, set to 6 
Parameter data Routing Area Identity (RAI) as specified by TS 29.002. 
 
Parameter Name MAPPN_ranap_service_handover 
Parameter Length Fixed, set to 1 
Parameter Data This parameter refers to the Service Handover information 
element defined in 3GPP TS 25.413. 
 
MAP Programmer's Manual Issue 13 
 
                                151 
Parameter name MAPPN_rand 
Parameter length Fixed, set to 16 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_reattempt 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_region_subscript_resp 
Parameter length Fixed, set to 1 
Parameter data 0 – Network node-area restricted 
1 – Too many zone codes 
2 – Zone codes conflict 
3 – Regional subscription not supported 
 
Parameter Name MAPPN_relochandoverNumber 
Parameter Length Variable, 1 to 9 
Parameter Data Contains the handover number in the Relocation Number 
List 
 
Parameter Name MAPPN_relocrab_id 
Parameter Length Variable in the range 1 to 220 
Parameter Data Contains the RAB Id for the Relocation Number List 
 
Parameter Name MAPPN_relocellipsis 
Parameter Length Variable, from 1 to 255 
Parameter Data Ellipsis for Relocation Number List  
 
Parameter name MAPPN_replace_b_num 
Parameter length Fixed, set to 0 
Parameter data   Not applicable 
 
Parameter name MAPPN_requestedequipinfo 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified for RequestedEquipmentInfo in TS 
29 002 V8.2.0. 
 
Section 4  Interface to MAP-User 
152 
Parameter name MAPPN_requested_domain 
Parameter length Fixed, set to 1 
Parameter data The presence of this parameter indicates that Domain 
information is requested in the response. The parameter 
is Domain Type as specified by TS 29.002, i.e. 
0 – CS Domain 
1 – PS Domain 
 
Parameter name MAPPN_reqinfo_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_reqcamel_subinfo 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified by TS 29.002, i.e. 
0 – o-CSI 
1 – t-CSI 
2 – vt-CSI 
3 – tif-CSI 
4 – gprs-CSI 
5 – mo-sms-CSI 
6 – ss-CSI 
7 – m-CSI 
8 – d-CSI 
 
Parameter name MAPPN_reg_fail_cse 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 29.002, i.e.: 
0 – undetermined 
1 – invalidFomat 
2 – newPasswordsMismatch 
 
MAP Programmer's Manual Issue 13 
 
                                153 
Parameter name MAPPN_req_info 
Parameter length Fixed, set to 1 
Parameter data Single octet indicating the information that is being 
requested as follows (where bit 0 is the least significant 
bit) : 
bit 0 – if set, location information requested 
bit 1 – if set, subscriber state requested 
bit 2 – if set, current location is requested 
bit 3 – if set, IMEI is requested 
bit 4 – if set, MS classmark is requested 
bit 5 – if set, MNP requested info is requested 
Note: Requested Domain is not handled by this 
parameter; instead, include the 
MAPPN_requested_domain parameter. 
 
Parameter name MAPPN_req_node_type (294) 
Parameter length Fixed, set to 1. 
Parameter data Single octet encoded as specified in TS 29.002, i.e.:  
0 – VLR 
1 – SGSN 
 
Parameter name MAPPN_req_param1 
Parameter length Fixed, set to 1 
Parameter data Single octet coded as follows:  
0 – request IMSI 
1 – request Authentication Set 
2 – request Subscriber Data 
4 – request Ki 
 
Parameter name MAPPN_req_param2 
Parameter length Fixed, set to 1 
Parameter data Single octet coded as follows:  
0 – request IMSI 
1 – request Authentication Set 
2 – request Subscriber Data 
4 – request Ki 
 
Parameter name MAPPN_req_plmn_id (295) 
Parameter length Fixed, set to 3. 
Parameter data Encoded as specified in TS 09.002. 
 
Section 4  Interface to MAP-User 
154 
Parameter name MAPPN_req_subscr_info 
Parameter length Variable, in the range 1 to 220 
Parameter data Encoded as specified for RequestedSubscriptionInfo in 
TS 29 002 V6.6.0. 
 
Parameter name MAPPN_response_time 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974, i.e.: 
0 – lowDelay 
1 – delayTolerant 
 
Parameter name MAPPN_response_time_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_resync_info_ellipsis (317) 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format as 
defined by the users. 
 
Parameter Name MAPPN_rncinterfacelist 
Parameter Length Fixed, set to 1. 
Parameter Data 
Defines the RNC interface List where: 
    iu (0), 
    iur (1), 
    iub (2), 
    uu (3)} (SIZE (4..8)) 
Other bits other than listed above should be discarded. 
 
Parameter Name MAPPN_rnctracedepth 
Parameter Length Fixed, set to 1. 
Parameter Data Defines the level of Tracing for RNC: 
    0 - minimum 
    1 - medium 
    2 - maximum 
 
MAP Programmer's Manual Issue 13 
 
                                155 
Parameter name MAPPN_roaming_num 
Parameter length Variable, in the range 1 to 9 
Parameter data Encoded as specified in GSM 09.02 Phase 1. 
 
Parameter name MAPPN_roam_not_allowed_cse 
Parameter length Fixed, set to 1 
Parameter data 0 – plmnRoamingNotAllowed 
1 - operatorDeterminedBarring 
 
Parameter name MAPPN_routing_num 
Parameter length Variable, in the range 1 to 5 
Parameter data Routing Number as specified by TS 29.002. 
 
Parameter name MAPPN_ruf_outcomed 
Parameter length Fixed, set to 1 
Parameter data RUF-Outcome as specified by TS 29.002, i.e. 
0 – Accepted 
1 – Rejected 
2 – No Response from free MS 
3 – No Response from busy MS 
4 – udub from free MS 
        5 – udub from busy MS 
 
Parameter name MAPPN_sai_present 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_sc_addr 
Parameter length Variable, in the range 1 to 20 
Parameter data Content octets of the service centre address parameter 
encoded as specified in ETS 300-599, i.e., starting with 
the octet containing nature of address indicator and 
numbering plan indicator. 
 
Parameter name MAPPN_segmentation_proh (292) 
Parameter length Fixed, set to 0. 
 
Section 4  Interface to MAP-User 
156 
Parameter Name MAPPN_selected_encrypt_algorithm 
Parameter Length Fixed, set to 1 
Parameter Data Value range is 0 to 15. Only three values used. 
 
    0 - No Encryption 
    1 - Standard UEA1 
    2 - Standard UEA 2  
 
Parameter Name MAPPN_selected_GSM_algorithm 
Parameter Length Fixed, set to 1. 
Parameter Data Encoded as specified in TS 29.002 
 
Parameter Name MAPPN_selected_rab_id 
Parameter Length Variable, 1 to 220 
Parameter Data Encoded as specified in TS 29.002 
 
Parameter Name MAPPN_selected_umts_integ_protectalgo 
Parameter Length Fixed, set to 1 
Parameter Data Encoded as specified in TS 29.002 
 
Parameter Name MAPPN_selected_UMTS_ellipsis 
Parameter Length Variable, in the range 2 to 255 
Parameter Data Ellipsis for Selected UMTS 
 
Parameter name MAPPN_selectedlsa_id 
Parameter length Fixed, set to 3 
Parameter data Encoded as specified in TS 129 002 
 
Parameter name MAPPN_send_subscriber_data 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_sent_auth_set_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
MAP Programmer's Manual Issue 13 
 
                                157 
Parameter name MAPPN_sent_imsi 
Parameter length Variable, in the range 3 to 8 
Parameter data Content octets of the IMSI parameter encoded as 
specified in ETS 300-599 
 
Parameter name MAPPN_sent_kc 
Parameter length Fixed, set to 8 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_sent_ki 
Parameter length Fixed, set to 16 
Parameter data Content octets of the Ki parameter encoded as specified 
in ETS 300-599 
 
Parameter name MAPPN_sent_rand 
Parameter length Fixed, set to 16 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_sent_sd 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format that 
define the SubscriberData structure encoded as specified 
in ETS 300-599. The initial tag element for this data must 
be 2. 
 
Parameter name MAPPN_sent_sres 
Parameter length Fixed, set to 4 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_service_ind 
Parameter length Variable, in the range 1 to 4 
Parameter data Encoded as ServiceIndicator as specified as TS29.002. 
 
Parameter name MAPPN_service_key 
Parameter length Variable, in the range 1 to 3 
Parameter data Integer in the range 0 to 2147483647 
 
Section 4  Interface to MAP-User 
158 
Parameter name MAPPN_SERVICE_TYPE 
Parameter length Variable, set to 1 or 2 
Parameter data Primitive service type for the message. As defined in 
Section 4.4  of this document. A one or two octet type that 
may define the MAP service for Service Request and 
Service Indication messages. 
 
Parameter name MAPPN_sgsn_address 
Parameter length Variable, in the range 5 to 17 
Parameter data Encoded as specified in TS GSM 03.03. 
 
Parameter name MAPPN_sgsn_capability_ellipsis 
Parameter length Variable, in the range 2 to 220   ???? 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_sgsn_number 
Parameter length Variable, in the range 1 to 9 
Parameter data Encoded as specified in TS 100 974. 
 
Parameter Name MAPPN_siginfo 
Parameter Length 
Variable, 1 to 220 
(Due to limitations to the module, the size of the 
parameter is set to 220.) 
Parameter Data Contains the signal information of the access network 
being used. 
 
Parameter name MAPPN_sm_deliv_outcome 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 300-599, i.e.:  
0 – memory capacity exceeded 
1 – absent subscriber 
2 –successful transfer 
 
MAP Programmer's Manual Issue 13 
 
                                159 
Parameter name MAPPN_sm_rp_da 
Parameter length Variable, in the range 3 to 22 
Parameter data First octet showing type of address encoded as specified 
in ETS 300-599, i.e.:  
0 – IMSI 
1 – LMSI 
4 – Service centre address 
5 – no SM-RP-DA 
Second octet, indicating the number of octets that follow. 
Subsequent octets containing the content octets of the 
IMSI, LMSI, or address string encoded as specified in 
ETS 300-599. 
 
Parameter name MAPPN_sm_rp_mti 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974, i.e.: 
0 – SMS Deliver 
1 - SMS Status Report 
 
Parameter name MAPPN_sm_rp_oa 
Parameter length Variable, in the range 3 to 22 
Parameter data First octet showing type of address encoded as specified 
in ETS 300-599, i.e.:  
2 – MSISDN 
4 – Service centre address 
5 – no SM-RP-OA 
Second octet, indicating the number of octets that follow. 
Subsequent octets containing the content octets of the 
MSISDN or address string encoded as specified in ETS 
300-599. 
 
Parameter name MAPPN_sm_rp_pri 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 300-599, i.e.:  
0 – priority is low 
1 – priority is high 
 
Parameter name MAPPN_sm_rp_smea 
Parameter length Variable, in the range 1 to 12 
Parameter data Encoded as specified in TS 100 974 
 
Section 4  Interface to MAP-User 
160 
Parameter name MAPPN_sm_rp_ui 
Parameter length Variable, in the range 1 to 200 
Parameter data Encoded as specified in ETS 300-599. 
 
Parameter name MAPPN_solsa_supp_ind 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_sres 
Parameter length Fixed, set to 4 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_ss_code 
Parameter length Fixed, set to 1 
Parameter data Contains the code identifying a single supplementary 
service 
 
Parameter name MAPPN_ss_code_2 
Parameter length Fixed, set to 1 
Parameter data Contains the code identifying a single supplementary 
service. 
 
Parameter name MAPPN_ss_data_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_ss_list 
Parameter length Variable, in the range 1 to 90 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_ss_status 
Parameter length Fixed, set to 1 
Parameter data Gives supplementary service status information, as 
defined in TS GSM 03.11  
 
MAP Programmer's Manual Issue 13 
 
                                161 
Parameter name MAPPN_subinfo_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_subscriber_data_comp 
Parameter length Variable, in the range 0 to 200 
Parameter data Encoded as TS 100 974.  Includes all other parameters in 
the MAP-INSERT-SUBSCRIBER-DATA AND MAP- 
DELETE-SUBSCRIBER-DATA operations. 
 
Parameter name MAPPN_subscriber_data_stored 
Parameter length Variable, from 1 to 6 
Parameter data Encoded as the AgeIndicator specified in TS 29.002 
(implementation specific). 
 
Parameter name MAPPN_sub_state 
Parameter length Fixed, set to 1 
Parameter data Single octet indicating the subscriber’s state as follows:  
0 – assumed idle 
1 – CAMEL busy 
2  - not reachable 
3 – not provided from VLR 
 
Parameter name MAPPN_sup_camel_phases_in_sgsn 
Parameter length Variable, in the range 1 to 2 
Parameter data Encoded as specified for SupportedCamelPhases in TS 
29 002 V6.6.0 i.e. 
0 – phase1 
1 – phase 2 
2 – phase 3 
3 – phase 4 
 
Parameter name MAPPN_sup_camel_phases_in_vlr 
Parameter length Variable, in the range 1 to 2 
Parameter data Encoded as specified for SupportedCamelPhases in TS 
29 002 V6.6.0, i.e.: 
0 – phase1 
1 – phase 2 
2 – phase 3 
3 – phase 4 
 
Section 4  Interface to MAP-User 
162 
Parameter name MAPPN_suppcamelphase 
Parameter length Variable, in the range 1 to 2 
Parameter data 0 –phase 1 
1 – phase 2 
Only bit 0 is used at this time. 
 
Parameter Name  MAPPN_supcodecellipsis 
Parameter Length Variable in the range 2 to 255 
Parameter Data Ellipsis for Supported Codec List 
 
Parameter name MAPPN_supported_GAD_shapes  
Parameter length Variable, in the range 1 to 2 
Parameter data Encoded as specified in TS 100 974. 
 
Parameter name MAPPN_suppress_t_csi 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_supp_announce 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_supp_ccbs_phase 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974, i.e.: 
Can take values in the range 1 to 127.  Currently only 1 is 
used, but this may change. 
 
Parameter Name MAPPN_targetCellId 
Parameter Length Variable in the range 5 to 7 
Parameter Data Encoded as specified in TS 29.002 
 
Parameter Name MAPPN_targetRNCid 
Parameter Length Fixed, set to 7 
Parameter Data Encoded as specified in TS 29.002 
 
MAP Programmer's Manual Issue 13 
 
                                163 
Parameter name MAPPN_t_csi 
Parameter length Variable, from 1 to 220 
Parameter data Encoded as specified in TS 100 974. 
 
Parameter name MAPPN_teleservice 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in GSM 09.02 Phase 1. 
 
Parameter name MAPPN_teleservice_2 
Parameter length Variable, in the range 1 to 5 
Parameter data Encoded as specified in TS 29.002 
 
Parameter name MAPPN_timeout 
Parameter length Fixed, set to 2 
Parameter data Specifies the timer value to be used when waiting for a 
response. The timer value is given in seconds in the 
range of 0 to 1800. The first octet is the least significant 
byte of the timeout. 
Note that the maximum permitted time-out value is 1800 
seconds (i.e. 30 minutes). 
 
Parameter name MAPPN_tmsi 
Parameter length Variable, in the range 1 to 4 
Parameter data Encoded as specified in TS 100 974 
 
Parameter Name MAPPN_trace_proplist_ellipsis 
Parameter Length Variable, from 1 to 255 
Parameter Data Ellipsis for Trace Propagation List  
 
Parameter name MAPPN_trace_ref 
Parameter length Variable, in the range 1 to 2 
Parameter data Reference number associated with the tracing request 
and managed by the OMC 
 
Section 4  Interface to MAP-User 
164 
Parameter Name MAPPN_trace_ref2 
Parameter Length Fixed, set to 3 
Parameter Data Trace Reference 
   
Parameter Name MAPPN_trace_recsessionref 
Parameter Length Fixed, set to 3 
Parameter Data Provides the information on a Trace Record being 
generated in the Source RNC at the time of. 
 
Parameter name MAPPN_trace_type 
Parameter length Fixed, set to 1 
Parameter data Trace type parameter encoded as per GSM 12.08. 
 
Parameter name MAPPN_translated_b_num 
Parameter length Variable, in the range 1 to 15 
Parameter data   Encoded as specified in TS 100 974 
 
Parameter Name MAPPN_uesbi_iua 
Parameter Length Variable, 1 to 128 
Parameter Data The UESBI-IuA provides compliance status information 
 
Parameter Name MAPPN_uesbi_iub 
Parameter Length Variable, 1 to 128 
Parameter Data The UESBI-IuB provides compliance status information 
 
Parameter Name MAPPN_uesbiellipsis 
Parameter Length Variable, from 1 to 255 
Parameter Data Ellipsis for UESBI-Iu 
 
MAP Programmer's Manual Issue 13 
 
                                165 
Parameter name MAPPN_unauth_lcs_cli_diag  
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974, i.e.: 
0 – noAdditionalInformation 
1 – clientNotInMSPrivacyExceptionList 
2 – callToClientNotSetup 
3 – privacyOverrideNotApplicable 
4 - disallowedByLocalRegulatoryRequirements 
 
Parameter name MAPPN_unauth_msg_orig 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_unk_sub_diag 
Parameter length Fixed, set to 1 
Parameter data Single octet encoded as specified in ETS 300 974 i.e.: 
0 – IMSI unknown 
1 – GPRS subscription unknown 
 
Parameter name MAPPN_user_err 
Parameter length Fixed, set to 1 
Parameter data Single octet. Values as specified for “error codes” in ETS 
300-974. 
 
Parameter name MAPPN_user_to_user_serv_ind 
Parameter length Fixed, set to 1 
Parameter data This subscription option is defined in GSM Rec 02.87 
 
Parameter name MAPPN_USSD_coding 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in GSM 09.02 Phase 2 
 
Parameter name MAPPN_USSD_string 
Parameter length Variable, in the range 1 to 160 
Parameter data Encoded as specified in GSM 09.02 Phase 2. 
 
Section 4  Interface to MAP-User 
166 
Parameter Name MAPPN_utran_codec1 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the  highest priority codec 
 
Parameter Name MAPPN_utran_codec2 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the second  highest priority codec 
 
Parameter Name MAPPN_utran_codec3 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the third highest priority codec 
 
Parameter Name MAPPN_utran_codec4 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the fourth highest priority codec 
 
Parameter Name MAPPN_utran_codec5 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the fifth highest priority codec 
 
Parameter Name MAPPN_utran_codec6 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the sixth highest priority codec 
 
Parameter Name MAPPN_utran_codec7 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the seventh highest priority codec 
 
Parameter Name MAPPN_utran_codec8 
Parameter Length Variable, 1 to 4 
Parameter Data Contains the eighth highest priority codec 
 
MAP Programmer's Manual Issue 13 
 
                                167 
Parameter Name MAPPN_utran_ellipsis 
Parameter Length Variable, in the range 2 to 255 
Parameter Data Ellipsis for UTRAN Codec List 
 
Parameter name MAPPN_uu_cf_interaction 
Parameter length Fixed, set to 0 
Parameter data Not Applicable 
 
Parameter name MAPPN_uu_data_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. In case of the UU Data extension 
container, start with the extension container tag (a3). 
 
Parameter name MAPPN_uui 
Parameter length Variable, from 1 to 131 
Parameter data Encoded as specified in TS 100 974. 
 
Parameter name MAPPN_uu_indicator 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974. 
 
Parameter name MAPPN_vce_grp_call_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_vertical_accuracy 
Parameter length Fixed, set to 1 
Parameter data Encoded as specified in TS 100 974 i.e. 
Bit 8 = 0 
Bit 7-1 = 7 bit Vertival Uncertainty Code defined in GSM 
03.32 
 
Parameter name MAPPN_vertical_coordinate_req 
Parameter length Fixed, set to 0 
 
Section 4  Interface to MAP-User 
168 
Parameter name MAPPN_vlr_cap_ellipsis 
Parameter length Variable, in the range 2 to 220 
Parameter data Series of parameters in tag, length, data format, as 
defined by the users. 
 
Parameter name MAPPN_vlr_num 
Parameter length Variable, in the range 1 to 9 
Parameter data Content octets of the VLR number parameter encoded as 
specified in ETS 300-974, i.e., starting with the octet 
containing nature of address indicator and numbering 
plan indicator. 
 
Parameter name MAPPN_vmsc_address 
Parameter length Variable, in the range 1 to 9 
Parameter data Encoded as specified in TS 100 974 
 
Parameter name MAPPN_wrongpw_att_count 
Parameter length Fixed, set to 1 
Parameter data Integer, in range o to 4 
 
Parameter name MAPPN_xres (297 to 301) 
Parameter length Variable, in the range 4 to 16. 
Parameter data Encoded as specified in TS 29.002 
 
 
MAP Programmer's Manual Issue 13 
 
                                169 
 
5   Non-Primitive Interface 
In addition to the primitive interface for passing MAP protocol messages between the MAP module 
and the MAP-User, the MAP module supports a non-primitive interface for implementation-specific 
functionality. 
The non-primitive interface permits the configuration of the MAP module.  It also allows the MAP 
module to supply diagnostic information, protocol error events and software error events to the 
local system management and maintenance modules.  
This section describes the formats of all the messages used in the non-primitive interface. 
All of the messages handled by MAP may request a confirmation by setting the rsp_req field in the 
message header. The confirmation message is the received message echoed back to the sending 
module.  
Mnemonic Value Description 
MAPE_MSG_OK 0 Success 
MAPE_BAD_ID 1 Inappropriate or invalid id in request 
message 
MAPE_BAD_STATE 2 Inappropriate or unrecognized 
message type. 
MAPE_BAD_MSG 5 Unsupported message received. 
MAPE_BAD_PARAM 6 Invalid parameters contained in 
message. 
MAPE_NO_RESOURCES 7 Insufficient internal message 
resources. 
MAPE_INVALID_NC 8 Invalid Network Context 
MAPE_INVALID_VERSION 9 Message version is invalid 
MAPE_BAD_VERSION 10 MAP inappropriate or invalid 
message version. 
MAPE_BAD_LENGTH 11 MAP inappropriate or incorrect 
message length, e.g., message 
exceeds defined length. 
 
Section 5  Non-Primitive Interface 
170 
5.1   MAP Configuration Request 
Synopsis: 
 
Message used to configure the MAP module for operation. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_CONFIG (0x77e4) 
id 0 
src Sending module ID 
dst MAP_TASK_ID 
rsp_req Used to request a confirmation 
hclass 0 
status 0 
err_info 0 
len 40 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 cnf_ver 
1 1 user_id 
2 1 TCAP_id 
3 1 mngt_id 
4 1 maint_id 
5 1 trace_id 
6 2 base_usr_ogdlg_id 
8 2 base_usr_icdlg_id 
10 2 base_tc_ogdlg_id 
12 2 base_tc_icdlg_id 
14 2 nog_dialogues 
16 2 nic_dialogues 
18 2 num_invokes 
20 4 options 
24 2 error_offset 
26 14 reserved – must be set to zero 
 
Description: 
 
This message is used to configure the MAP module for operation. It should be the first 
message sent to the MAP module. (Any messages received before a valid configuration 
message will be discarded). It should only be issued once. 
MAP Programmer's Manual Issue 13 
 
                                171 
 The message parameters relate to the environment in which the MAP module is operating.  
Confirmation Message: 
 
The module sending the message can optionally request that a confirmation message is 
returned by the MAP module after the message has been processed. This is achieved by 
setting the rsp_req field in the message header.  This will cause a confirmation message of 
the same format to be returned. The status field in this message is zero on success or an 
error code otherwise. 
Parameter Description: 
cnf_ver 
Version of this configuration message. (Currently only version zero). 
user_id 
MAP-User module ID. 
TCAP_id 
TCAP module ID. 
mngt_id 
Management module ID. 
maint_id 
Maintenance module ID. 
trace_id 
Trace module ID. 
base_usr_ogdlg_id 
The first dialogue ID for outgoing dialogues that the user wishes to be handled by the MAP 
module. The subsequent (nog_dialogues - 1) dialogue IDs will also be handled by the 
module. The user must ensure that the values used in the dialogue ID field of all protocol 
messages pertaining to outgoing dialogues lie within the correct range. 
base_usr_icdlg_id 
The first dialogue ID for incoming dialogues that the user wishes to be handled by the MAP 
module. The subsequent (nic_dialogues - 1) dialogue IDs will also be handled by the module. 
The most significant bit (i.e. bit 15) of the dialogue ID must be set to one for incoming 
dialogues. The MAP module allocates the dialogue ID for each incoming dialogue. It uses 
values in the range base_user_icdlg_id .... (base_user_icdlg_id + nic_dialogues - 1) for 
this purpose. 
base_tc_ogdlg_id 
The first dialogue ID for outgoing dialogues between MAP and TCAP. The subsequent 
(nog_dialogues - 1) dialogue IDs will also be handled by the module. The MAP module 
allocates the dialogue ID for each outgoing TCAP dialogue. It uses values in the range 
base_tc_ogdlg_id .... (base_tc_ogdlg_id + nog_dialogues - 1) for this purpose. 
base_tc_icdlg_id 
The first dialogue ID for incoming dialogues between TCAP and MAP. The subsequent 
(nic_dialogues - 1) dialogue IDs will also be handled by the module. TCAP allocates the 
dialogue ID for each incoming dialogue. It must use values in the range base_tc_icdlg_id .... 
(base_tc_icdlg_id + nic_dialogues - 1) for this purpose. 
nog_dialogues 
The maximum number of simultaneous outgoing dialogues that the module is required to 
support. This value is compared with a compile time constant to ensure that the module has 
sufficient internal resources to handle the requested maximum number of outgoing dialogues. 
Section 5  Non-Primitive Interface 
172 
nic_dialogues 
The maximum number of simultaneous incoming dialogues that the module is required to 
support. This value is compared with a compile time constant to ensure that the module has 
sufficient internal resources to handle the requested maximum number of incoming dialogues. 
num_invokes 
The maximum number of simultaneous invocations that the MAP module is required to 
support. This value is compared with a compile time constant to ensure that the module has 
sufficient internal resources to handle the requested number of simultaneous invocations. 
options 
Run-time options field assigned according to the following table : 
Bit Mnemonic Description 
0 MAPF_V2_ERRORS If set to 1, and the dialogue has been established as a 
V2 dialogue, the format of the ERROR component 
received from and sent to TCAP will be as defined in 
V3 (instead of V2). If the dialogue is established as V1 
or V3, the option will have no effect. 
1 MAPF_NO_   
PREARRANGED_END If set to 1, the software is fully backwards compatible with library version 2.13 and earlier: MAP closes the 
dialogue immediately on reception of CLOSE_REQ 
containing a pre-arranged-end, whether the dialogue is 
active or not.   
If set to 0, the MAP module is compliant to GSM TS 
09.02, and closes the dialogue on reception of 
CLOSE_REQ in pre-arranged-end mode after any 
services awaiting results have either timed out or 
received a result. When this happens, the MAP user is 
informed and knows that the dialogue has been closed 
through a MAP_CLOSE_IND containing a 
MAPPN_release_confirm parameter set to 
MAPRC_rel_confirmed. 
For new applications, this option should be set to 0. 
2 MAPF_SEGMENTATION Set to 1 to enable segmentation support when used 
with an appropriate SCCP and TCAP configuration. 
3 MAPF_NO_   
NOTICE_ABORT If set to 1, the MAP module is compliant with GSM TS 09.02. However, an incompatibility between this 
specification and the TCAP specification can leave 
dialogs open in TCAP after they have been closed by 
MAP. This would happen if TCAP receives a TC- 
NOTICE indication (indicating failure to deliver a 
message) when it is in the ‘Dialog Initiated‘ state. 
TCAP leaves the dialog open and passes a MAP- 
NOTICE message to MAP. The MAP module conforms 
to the specification by informing the MAP-User and 
closing the dialog in MAP. 
If set to 0, the MAP module sends a TC-U-ABORT 
message to TCAP in the above state. So that the 
TCAP dialog is closed when the MAP dialog closes. 
It is recommended that applications set this option to 0.
MAP Programmer's Manual Issue 13 
 
                                173 
4 MAPF_NO_TCAP_ 
PERR_ABORT If set to 1, the MAP module will only report formatting or parameter errors detected in received TCAP 
messages by setting an error code in the message’s 
status field. The associated dialogues are not closed. 
If set to 0, the MAP module will attempt to close 
dialogues if formatting or parameter errors are 
detected in received TCAP messages by sending U- 
ABORT to TCAP and P-ABORT to the MAP-User. 
It is recommended that applications set this option to 0. 
5 MAPF_USE_TYPE_ 
PARMS If set to 1, MAP_MSG_SRV_IND messages sent to the user will always start with the 
MAPST_EXTENDED_SERVICE_TYPE octet 
followed by the messages primitive service type 
defined by a MAPPN_SERVICE_TYPE parameter. 
other  All other bits are reserved for future use and must be 
set to zero. 
 
error_offset 
Should be set to 0 by the user. The error offset field gives information about the byte offset of 
the parameter area in MAP_MSG_CONFIG message which causes the configuration to fail. It 
will be set to zero if there is no error. 
 
Section 5  Non-Primitive Interface 
174 
5.2   MAP Network Context Configuration Request 
Synopsis: 
Message used to configure a Network Context. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_NC_CONFIG (0x77ed) 
Id Network Context id (value 1 to 3) 
Src Sending module_id 
Dst MAP_TASK_ID 
Rsp_req used to request a confirmation 
hclass 0 
status 0 
Err_info 0 
Len 40 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 cnf ver 
1 1 user_id 
2 1 TCAP_id 
3 2 options  
5 35 reserved – must be set to zero 
 
Description: 
 
This message  allows the configuration of additional Network Contexts. The 
MAP_MSG_CONFIG (0x77e4) message should be used to configure the default Network 
Context for the first network. For each subsequent Network Context, the message 
MAP_MSG_NC_CONFIG is required. The MAP_MSG_NC_CONFIG message contains 
parameters to define address format and MAP specific options and therefore allows different 
behavior for the module to be selected depending on the Network Context of the dialogue.  
The meaning of the parameters in the MAP_MSG_NC_CONFIG message is the same as the 
equivalent parameters in the MAP_MSG_CONFIG message. When used to support multiple 
local point codes within the same network, the options settings should typically be the same in 
both messages. 
MAP Programmer's Manual Issue 13 
 
                                175 
Confirmation Message: 
 
The module sending the message can optionally request that a confirmation message is 
returned by the MAP module after the message has been processed. This is achieved by 
setting the rsp_req field in the message header.  This will cause a confirmation message of 
the same format to be returned. The status field in this message is zero on success or an 
error code otherwise. 
Parameter Description: 
Network Context id 
The Network Context id will identify the Network Context being defined. The default 
Network Context (0) is configured using the existing MAP_MSG_CONFIG message 
therefore this message should only be used for Network Contexts 1 to 3. This assumes 
that four Network Contexts are permitted. 
cnf_ver 
Version of this NC configuration message. (Currently only version zero). 
user_id 
MAP-User module ID for this NC, 
TCAP_id 
TCAP module ID for this NC. 
options 
Run-time options assigned for this NC. Defined according to the options field table for the 
MAP_MSG_CONFIG message. 
Section 5  Non-Primitive Interface 
176 
5.3   MAP Timer Configuration Request 
Synopsis: 
 
Message used to configure the MAP module timer values. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_CNF_TIM (0x77e5) 
id 0 
src Sending module ID 
dst MAP_TASK_ID 
rsp_req Used to request a confirmation 
hclass 0 
status 0 
err_info 0 
reserved 0 
len 3 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 tim_ver 
1 2 t0 
 
Description: 
This message is used to configure the MAP protocol timers for operation. It should be sent to 
the MAP module before any protocol messages are sent or received. It should only be issued 
once. 
Confirmation Message: 
 
The module sending the message can optionally request that a confirmation message is 
returned by the MAP module after the message has been processed. This is achieved by 
setting the rsp_req field in the message header.  This will cause a confirmation message of 
the same format to be returned. See appendix A1. The status field in this message is zero on 
success or an error code otherwise. 
Parameter Description: 
 tim_ver 
   Version of this configuration message. (Currently only version zero). 
 t0 
 Timer waiting for a response from the MAP-User. The timer value should be specified in 
seconds with a minimum value of 1 second and a maximum value of 409 seconds. (If the 
Configure Timers message is not sent, the maximum timeout of 409 seconds will be used.) 
MAP Programmer's Manual Issue 13 
 
                                177 
5.4   MAP Software Event Indication 
Synopsis: 
 
Message used by MAP to indicate an implementation specific software-related event to the 
local management module. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_ERROR_IND (0x07e9) 
id See below 
src MAP_TASK_ID 
dst Management module id 
rsp_req Used to request a confirmation 
hclass 0 
status Software event code (see below) 
err_info 0 
reserved 0 
len 0, 1 or 3 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 Diag1 
1 2 Diag2 
 
Software event code 
 
The Software event code contained in the status field of the message indicates the type of 
event. Possible values are listed in the following table that also lists the meaning of the id field 
in each case. 
 
Code Mnemonic Id Diag1 Diag2 Description 
1 MAPSWE_NO_MSSM User 
Dialog 
ue ID 
- - Maximum number of active 
invocations exceeded. 
2 MAPSWE_NO_DLG 0 - - No internal resource to 
handle dialogue. 
3 MAPSWE_NO_MAPM 0 - - Internal pool of structured 
messages exhausted. 
4 MAPSWE_MAPM_LOW 0 - - Internal pool of structured 
messages running low. 
Section 5  Non-Primitive Interface 
178 
Code Mnemonic Id Diag1 Diag2 Description 
5 MAPSWE_BAD_MSG Msg_ty 
pe - - Unrecognized inter task message received. 
6 MAPSWE_TX_FMT_ERR User 
Dialog 
ue ID 
- - Internal error during 
message formatting. 
7 MAPSWE_USER_BAD_FMT User 
Dialog 
ue ID 
0 Primitive 
Type Badly formatted message received from MAP User. 
8 MAPSWE_TCAP_BAD_FMT User 
Dialog 
ue ID 
ID flag Primitive 
Type Badly formatted MAP message received from 
TCAP. 
9 -- - - - not used 
10 MAPSWE_INVALID_DLG_ID Dialog 
ue ID ID flag - Message received from TCAP or application with 
unrecognized dialogue id. 
11 MAPSWE_USER_MAND_ 
MISSING User 
Dialog 
ue ID 
0 MAP 
paramet 
er ID 
Missing mandatory 
parameter in message 
received from the user 
12 MAPSWE_TCAP_MAND_MISSIN 
G User 
Dialog 
ue ID 
ID flag TCAP 
paramet 
er ID 
Missing mandatory 
parameter in message 
received from TCAP 
13 MAPSWE_BAD_USER_PRIM User 
Dialog 
ue ID 
0 Primitive 
Type Unknown primitive received from the user. For a SER- 
REQ, it may also indicate 
that an operation is invalid 
with the specified application 
context. 
14 MAPSWE_BAD_TCAP_PRIM User 
Dialog 
ue ID 
ID flag Primitive 
Type Unknown primitive received from TCAP 
15 MAPSWE_USER_PAR_FMT_ER 
R User 
Dialog 
ue ID 
0 MAP 
paramet 
er ID 
Formatting error in a 
parameter received from the 
user 
16 MAPSWE_TCAP_PAR_FMT_ER 
R User 
Dialog 
ue ID 
ID flag TCAP 
paramet 
er ID 
Formatting error in a 
parameter received from 
TCAP 
17 MAPSWE_USER_UNREC_PARA 
M User 
Dialog 
ue ID 
0 Paramet 
er ID Unrecognized parameter received from the user 
18 MAPSWE_TCAP_UNREC_PARA 
M User 
Dialog 
ue ID 
ID flag Paramet 
er ID Unrecognized parameter received from TCAP 
MAP Programmer's Manual Issue 13 
 
                                179 
Code Mnemonic Id Diag1 Diag2 Description 
19 MAPSWE_USER_MSG_UNEXP Dialog 
ue ID  Dialogue 
state     
(see  
Dialog 
ue 
state 
table 
below) 
- Unrecognized message 
received from the user 
20 -- - - - not used 
21 MAPSWE_DBUF_LOW 0 - - Running short of 
MAP_CPTBUF structures 
22 MAPSWE_NO_DBUF 0 - - MAP_CPTBUF structures 
exhausted 
23 MAPSWE_DBUF_ABMT 0 - - Number of MAP_CPTBUF 
structures recovered 
24 MAPSWE_TC_RESULT_NL_TOO 
_BIG User 
Dialog 
ue ID 
- - Re-assembled message too 
big 
25 MAPSWE_INVALID_NC User 
Dialog 
ue ID 
NC 
value 
- An invalid Network Context 
value was received 
26 MAPSWE_USER_TYPE_PARM_ 
MISSING User 
Dialog 
ue ID 
- - Missing 
MAPPN_SERVICE_TYPE 
parameter after 
MAPST_EXTENDED_ 
SERVICE_TYPE found. 
 
Parameters: 
The Diag1 and Diag2 parameters provide additional information about the event and are excluded 
from the message when not defined for that event code. When the Diag2 parameter is defined, the 
Diag1 parameter will always be sent but will be set to zero if not required. 
The ‘ID flag’ used for Diag1 indicates whether the id field represents a valid User Dialogue ID: 0 = 
valid, 1 = invalid. This is required when the module is not always able to determine a valid User 
Dialogue ID and returns id = 0 (zero being a valid User Dialogue ID number). 
Section 5  Non-Primitive Interface 
180 
Dialogue states: 
Valid dialogue states that may be reported in software event indications with status 
MAPSWE_USER_MSG_UNEXP, (0x13) are listed in the table below: 
Dialogue State Value Description 
DSM_S_IDLE 0 Idle 
DSM_S_WAIT_INIT_DATA 1 Waiting for initial data 
DSM_S_WAIT_USER_REQ 2 Waiting for user requests 
DSM_S_DLG_INIT 3 Dialogue initiated 
DSM_S_DLG_PEND 4 Dialogue pending 
DSM_S_DLG_ACCEPT 5 Dialogue accepted 
DSM_S_DLG_EST 6 Dialogue established 
DSM_S_END_COMP 7 First process components 
DSM_S_WAIT_COMP 8 Waiting for component 
DSM_S_RXED_OPEN_RSP 9 Waiting for components (open response 
received) 
DSM_S_DLG_TERM 10 Dialogue terminating 
DSM_S_CLOSE_WAIT_COMP 11 Waiting for component before closing dialogue 
 
  
MAP Programmer's Manual Issue 13 
 
                                181 
5.5   Management Event Indication 
Synopsis: 
 This message is issued by the MAP module to notify system management of general software 
events that under normal operating conditions should not occur. These events may be due to 
lack of system resources or errors within the software. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MGT_MSG_EVENT_IND (0x0008) 
id 0 
src MAP_TASK_ID 
dst Management module ID 
rsp_req 0 
hclass 0 
status Management event code (see below) 
err_info Time-stamp 
reserved 0 
len 0 
 
Management event code 
 
The Management event code contained in the status field of the message indicates the type 
of event.  Possible values are listed in the following table, which also lists the meaning of the 
id field in each case. 
Mnemonic Value id Description 
ERR_SDLSIG_LOW 47 0x2f 0 The internal signal queue is running short of 
entries.  
ERR_NO_SDLSIG 46 0x2e 0 The internal signal queue has been exhausted. 
If this event occurs, then correct operation of 
the MAP module is not guaranteed. 
Section 5  Non-Primitive Interface 
182 
5.6   MAP Trace Mask Request 
Synopsis: 
 
Message used to configure MAP to send a trace message to the trace module whenever a 
specific message type is sent or received.  The trace module is identified in the MAP 
configuration request message. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_TRACE_MASK (0x57e6) 
id 0 
src Sending module ID 
dst MAP_TASK_ID 
rsp_req Used to request a confirmation 
hclass 0 
status 0 
err_info 0 
reserved 0 
len 12 
PARAMETER AREA 
OFFSET SIZE NAME 
0 4 op_evt_mask - Output event trace mask 
4 4 ip_evt_mask - Input event trace mask 
8 4 non_prim_mask - Non-primitive trace mask 
 
MAP Programmer's Manual Issue 13 
 
                                183 
op_evt_mask 
 
The output event trace mask. This is a 32-bit value with bits set to 1 to cause a trace message 
to be sent to the system trace module when MAP sends the associated protocol message.   
31     30     29     28     27     26     25     24 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |   0  |   0  |   0  |   0  | 
|      |      |      |      |      |      |      |      | 
+------+------+------+------+------+------+------+------+ 
 
  23     22     21     20     19     18     17     16 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |   0  |   0  |   0  |   0  | 
|      |      |      |      |      |      |      |      | 
+------+------+------+------+------+------+------+------+ 
 
  15     14     13     12     11     10      9      8 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |   0  |   0  |   0  |   0  | 
|      |      |      |      |      |      |      |      | 
+------+------+------+------+------+------+------+------+ 
 
   7      6      5      4      3      2      1      0 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |TCCMP |TCDLG |MAPSRV|MAPDLG| 
|      |      |      |      |_REQ  |_REQ  |_IND  |_IND  | 
+------+------+------+------+------+------+------+------+ 
 
 MAPDLG_IND – Dialogue indication primitive from Map to MAP-User 
MAPSRV_IND – Service indication primitive from Map to MAP-User 
TCDLG_REQ – Dialogue request primitive from MAP to TCAP 
TCCMP_REQ – Component request primitive from MAP to TCAP 
 
Section 5  Non-Primitive Interface 
184 
ip_evt_mask 
 
The input event trace mask. This is a 32-bit value with bits set to 1 to cause a trace message 
to be sent to the system trace module when MAP receives the associated protocol message.  
 
31     30     29     28     27     26     25     24 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |   0  |   0  |   0  |   0  | 
|      |      |      |      |      |      |      |      | 
+------+------+------+------+------+------+------+------+ 
 
  23     22     21     20     19     18     17     16 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |   0  |   0  |   0  |   0  | 
|      |      |      |      |      |      |      |      | 
+------+------+------+------+------+------+------+------+ 
 
  15     14     13     12     11     10      9      8 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |   0  |   0  |   0  |   0  | 
|      |      |      |      |      |      |      |      | 
+------+------+------+------+------+------+------+------+ 
 
   7      6      5      4      3      2      1      0 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |TCCMP |TCDLG |MAPSRV|MAPDLG| 
|      |      |      |      |_IND  |_IND  |_REQ  |_REQ  | 
+------+------+------+------+------+------+------+------+ 
 
 MAPDLG_REQ – Dialogue request primitive from Map-User to MAP 
MAPSRV_REQ – Service request primitive from Map-User to MAP 
TCDLG_IND – Dialogue Indication primitive from TCAP to MAP 
TCCMP_IND – Component Indication primitive from TCAP to MAP 
 
MAP Programmer's Manual Issue 13 
 
                                185 
non_prim_mask 
 
The non-primitive trace mask. This is a 32-bit value with bits set to 1 to cause a trace 
message to be sent to the system trace module when MAP receives the associated non- 
primitive message.  
 
31     30     29     28     27     26     25     24 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |   0  |   0  |   0  |   0  | 
|      |      |      |      |      |      |      |      | 
+------+------+------+------+------+------+------+------+ 
 
  23     22     21     20     19     18     17     16 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |   0  |   0  |   0  |   0  | 
|      |      |      |      |      |      |      |      | 
+------+------+------+------+------+------+------+------+ 
 
  15     14     13     12     11     10      9      8 
+------+------+------+------+------+------+------+------+ 
|   0  |   0  |   0  |   0  |   0  |   0  |   0  |   0  | 
|      |      |      |      |      |      |      |      | 
+------+------+------+------+------+------+------+------+ 
 
   7      6      5      4      3      2      1      0 
+------+------+------+------+------+------+------+------+ 
| NC   | SSL  | STR  |SSW   |   0  |SW_   | CFG  |CNF   | 
|  MSK |  MSK |  MSK | MSK  |      | EVT  |  MSK |_TIM  | 
+------+------+------+------+------+------+------+------+ 
 
CNF_TIM – Timer Configuration Message received by MAP 
CFG_MSK – Trace MAP configuration message 
SW_EVT– Software Error Event indication message sent by MAP to the management 
module. 
SSW_MSK– Software Event Mask Request received by MAP. 
STR_MSK – Trace mask requests received by MAP 
SSL_MSK – Selective trace mask requests received by MAP 
NC_MSK – Trace MAP NC configuration message 
 
Section 5  Non-Primitive Interface 
186 
5.7   Set Selective Trace Mask Request 
Synopsis:  
 
Enables extra information to be reported along with selected software events for debug 
purposes. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_S_SELTRACE_MASK (0x57ec) 
id 0 
src Sending module id 
dst MAP module ID 
rsp_req used to request a confirmation 
class 0 
status 0 
err_info 0 
len 9 
PARAMETER AREA 
OFFSET SIZE NAME 
0 9 mask - Bits set to indicate selective trace events which 
should be active 
 
Description: 
 
Sends a mask indicating which selective trace events should be active to the MAP module. No 
selective trace events are active when the module is initialized. This message can be used to 
turn on some or all selective trace events or turn them back off again. The message may be 
sent at any time after the initial per-module configuration message has been sent to the MAP 
module. 
mask 
A bit mask indicating the selective trace events which are active. A ‘1’ indicates that an event 
is active and a ‘0’ indicates that it is not active. The first octet sent is for selective trace event 
codes 0-7, the second octet for selective trace event codes 8-15, etc. See the description of 
the Selective Trace Event Indication for a list of the events that may be traced. 
 
MAP Programmer's Manual Issue 13 
 
                                187 
5.8   Trace Event Indication 
Synopsis: 
The MAP trace event masks are used to enable and disable tracing of all protocol and non 
primitive messages received or sent by MAP. The traced messages are reported as event 
indications as shown below: 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MGT_MSG_TRACE_EV (0x0003) 
id 0 
src MAP module id 
dst Trace module id 
rsp_req 0 
hclass 0 
status 0 
err_info 0 
len 18 + length of traced data 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 source module id 
1 1 destination module id 
2 2 id 
4 2 type 
6 2 status 
8 4 timestamp 
12 4 pointer to the message being traced 
16 2 data length 
18 0 .. 280 data - Data taken from the contents of the MSG 
parameter area. 
 
Section 5  Non-Primitive Interface 
188 
5.9   Selective Trace Event Indication 
Synopsis: 
Optionally provides extra information to be reported along with selected software and 
maintenance events for debug purposes. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MGT_MSG_SEL_TRACE (0x0f16) 
id 0 
src MAP module id 
dst trace module id 
rsp_req 0 
class 0 
status Reason for trace 
err_info 0 
len 18 + length of traced data 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 source module id 
1 1 destination module id 
2 2 id 
4 2 type 
6 2 status 
8 4 timestamp 
12 4 pointer to the message being traced 
16 2 data length 
18 0 .. 280 contents of the MSG parameter area. 
 
Description: 
 
When certain software events are reported the module may be configured to also send, to the 
trace module, a Selective Trace Event Indication containing the message that caused the 
report to be made.  
 
The Reason for trace contained in the status field of the message indicates the type of 
event. Possible values are listed in the following table: 
MAP Programmer's Manual Issue 13 
 
                                189 
 
Status Mnemonic Description 
0 0x00 MAPt_tx_fmt_err Refer to Software Event Indication 6. 
1 0x01 MAPt_user_bad_fmt Refer to Software Event Indication 7 
2 0x02 MAPt_tcap_bad_fmt Refer to Software Event Indication 8 
3 0x03 MAPt_invalid_dlg_id Refer to Software Event Indication 10. 
4 0x04 MAPt_user_mand_missing Refer to Software Event Indication 11. 
5 0x05 MAPt_tcap_mand_missing Refer to Software Event Indication 12 
6 0x06 MAPt_bad_user_prim Refer to Software Event Indication 13. 
7 0x07 MAPt_bad_tcap_prim Refer to Software Event Indication 14. 
8 0x08 MAPt_user_par_fmt_err Refer to Software Event Indication 15. 
9 0x09 MAPt_tcap_par_fmt_err Refer to Software Event Indication 16. 
10 0x0a MAPt_user_unrec_param Refer to Software Event Indication 17. 
11 0x0b MAPt_tcap_unrec_param Refer to Software Event Indication 18. 
12 0x0c MAPt_user_msg_unexp Refer to Software Event Indication 19. 
13 0x0d MAPt_tcap_msg_unexp Refer to Software Event Indication 20. 
14 0x0e MAPt_invalid_nc Refer to Software Event Indication 25. 
15 0x0f MAPt_service_type_param_missing Refer to Software Event Indication 26. 
 
Section 5  Non-Primitive Interface 
190 
5.10   MAP Software Event Mask Request 
Synopsis: 
 
Message used to configure which software error events MAP will send a software event 
indication message for. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_S_ERROR_MASK (0x57e7) 
id 0 
src Sending module ID 
dst MAP_TASK_ID 
rsp_req Used to request a confirmation 
hclass 0 
status 0 
err_info 0 
reserved 0 
len 9 
PARAMETER AREA 
OFFSET SIZE NAME 
0 9 mask 
 
mask 
A bit mask indicating the software events which are active. A ‘1’ indicates that an event is 
active and a ‘0’ indicates that it is not active. The first octet sent is for software event codes 0- 
7 (bit 0 for event code 0), the second octet for software event codes 8-15 (bit 0 for event code 
8), etc.  
 Pad unused bits with zeros. 
 
All software events currently reported in the MAP_MSG_ERROR_IND message detailed in section 
5.4  MAP Software Event Indication are enabled by default. 
MAP Programmer's Manual Issue 13 
 
                                191 
5.11   Read Revision Request 
Synopsis: 
 
Message used to request the module type and software revision number. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type GEN_MSG_MOD_IDENT (0x6111) 
id 0 
src Originating module ID 
dst MAP module ID 
rsp_req Sending layer’s bit must be set 
hclass 0 
status 0 
err_info 0 
len 28 
PARAMETER AREA 
OFFSET SIZE NAME 
0 2 type              Currently undefined. 
2 1 maj_rev Major version number 
3 1 min_rev Minor version number 
4 24 text  Null terminated string giving 
                     textual module identity 
 
Description: 
 
This message is provided to request a reply indicating the software version used for the MAP 
module. The parameter areas are filled in by the MAP module and do not need to be included by 
the user. On receipt of this request, the module returns the message with status "SUCCESS" to the 
sender including the information requested. 
Section 5  Non-Primitive Interface 
192 
5.12   Read Module Status Request 
Synopsis: 
 
Message used to query the current MAP usage of the system resources. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_R_MOD_STATUS  (0x67ee) 
id 0 
src Management module id 
dst MAP_TASK_ID 
rsp_req Sending layer’s bit must be set 
hclass 0 
status 0 - Leave maximum unchanged 
1 - Reset maximum after reading 
err_info 0 
len 40 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 version – set to zero 
1 3 pad – set to zero 
4 4 num_ic_dlg 
6 4 num_og_dlg 
12 4 num_act_invokes 
16 4 num_alloc_dbuf 
20 4 max_alloc_dbuf 
24 16 reserved – must be set to zero 
 
Description: 
 
This message allows the user to query the MAP module to determine its current usage of the 
system resources.  The maximum allocated resource count can be reset or left unchanged 
depending on the setting of the status field. The user should send the message with the 
version initialized with all other fields set to zero. 
Confirmation Message: 
 
The module sending the message can optionally request that a confirmation message is 
returned by the MAP module after the message has been processed. This is achieved by 
setting the rsp_req field in the message header.  This will cause a confirmation message of 
the same format to be returned. The status field in this message is zero on success or an 
error code otherwise. 
Parameter Description: 
version 
MAP Programmer's Manual Issue 13 
 
                                193 
  Status version.  Must be set to zero. 
pad 
  Padding bytes. Set to zero. 
num_ic_dlg 
  Number of incoming dialogues. 
num_og_dlg 
  Number of outgoing dialogues. 
num_act_invokes 
  Number of active invokes 
num_alloc_dbuf 
  Allocated dialogue buffers 
max_alloc_dbuf 
 Maximum allocated dialogue buffers since module start- up or since last reset 
reserved 
  Reserved.  Must be set to zero. 
Section 5  Non-Primitive Interface 
194 
5.13   Read Dialogue Status Request 
Synopsis: 
 
Message used to query the current status of a MAP dialogue. 
Message Format: 
MESSAGE HEADER 
FIELD NAME MEANING 
type MAP_MSG_R_DLG_STATUS  (0x67ef) 
id dialogue ID 
src Management module id 
dst MAP_TASK_ID 
rsp_req Sending layer’s bit must be set 
hclass 0 
status 0 
err_info 0 
len 50 
PARAMETER AREA 
OFFSET SIZE NAME 
0 1 version – set to zero 
1 1 dialogue_state 
2 2 tcap_dlg_id 
4 1 dest_address_length 
5 18 dest_address 
23 1 orig_address_length 
24 18 orig_address 
42 2 num_invokes 
44 2 network_context 
46 1 app_context_name 
47 1 app_context_version 
48 2 reserved – must be set to zero 
 
Description: 
 
This message allows the user to query the MAP module to determine its current status of the 
MAP ‘dialogue ID’ dialogue. The user should send the message with the version initialized 
and all other fields set to zero. 
MAP Programmer's Manual Issue 13 
 
                                195 
Confirmation Message: 
 
The module sending the message should request that a confirmation message is returned by 
the MAP module after the message has been processed. This is achieved by setting the 
rsp_req field in the message header.  This will cause a confirmation message of the same 
format to be returned with dialogue status values written into the message fields. The status 
field in this message is zero on success or an error code otherwise. 
Parameter Description: 
version 
  Status version.  Must be set to zero. 
dialogue_state 
The current dialogue state, as defined by the Dialogue States table defined for the 
MAP Software Event Indication message (MAP_MSG_ERROR_IND) in Section 5.4  . 
tcap_dlg_id 
  TCAP dialogue ID associated with this MAP dialogue. 
dest_address_length 
  Number of valid address octets in the dest_address field. Invalid octets are set to 0. 
dest_address 
Destination address for the dialogue as specified by the user or received from the 
network. Formatted as per the MAPPN_dest_address parameter. 
orig_address_length 
  Number of valid address octets in the orig_address field. Invalid octets are set to 0. 
orig_address 
Origination address for the dialogue as specified by the user or received from the 
network. Formatted as per the MAPPN_orig_address parameter. 
num_invokes 
  Number of active invokes for the dialogue. 
network_context 
  Network Context associated with the dialogue (0 to 3). 
app_context_name 
 MAP Application Context number for the dialogue, e.g. for the ‘ReportingContext’ AC, 
app_context_name = 7. 
app_context_version 
  MAP Application Context version number for the dialogue. 
Appendix A -Timer services 
196 
Appendix A - Timer services 
The notion of time in the MAP module is based on a periodic timer tick received from the timer 
module every 100ms.  This ‘tick’ is used to run MAP protocol timers.  This appendix details the 
messages format which is used by the MAP module to control timer services. 
A.1 Keep Time 
Message sent to request the timer module to issue a periodic timer tick (TM_EXP) message to the 
MAP module. 
MESSAGE HEADER 
FIELD NAME MEANING 
type KEEP_TIME (0x7006) 
id 0 
src MAP_TASK_ID 
dst Timer module ID 
rsp_req 0 
hclass 0 
status 0 
err_info 0 
reserved 0 
len 6 
PARAMETER AREA 
OFFSET SIZE NAME 
0 4 reserved 
4 2 Resolution (set to 1) 
 
resolution 
The number of operating system ticks between timer expiry messages being issued to the MAP 
module.  This parameter should be set to 1. 
MAP Programmer's Manual Issue 13 
 
                                197 
A.2 Timer Expiry 
Periodic timer tick message issued by the timer module. 
MESSAGE HEADER 
FIELD NAME MEANING 
Type TM_EXP (0xc002) 
Id Index to timer table (set to zero) 
Src Sending module ID 
Dst MAP_TASK_ID 
rsp_req 0 
Hclass 0 
Status 0 
err_info 0 
Reserved 0 
Len 4 
PARAMETER AREA 
OFFSET SIZE NAME 
0 4 reserved (set to zero) 
 
Appendix B -Message Type Table 
198 
Appendix B - Message Type Table 
The following table lists, by message type, all the messages described in this manual: 
Message 
Type Mnemonic Description 
0x0003 MGT_MSG_TRACE_EV  Trace Event Indication 
0x0008 MGT_MSG_EVENT_IND Management Event Indication 
0x07e9 MAP_MSG_ERROR_IND MAP Software Event Indication 
0x07ea MAP_MSG_MAINT_IND  
0x07eb MAP_MSG_EVENT_IND  
0x0f16 MGT_MSG_SEL_TRACE Selective Trace Event Indication 
0x17e6 - Confirmation For Set Trace Mask 
0x17e7 - Confirmation For Set Software Event Mask 
0x17e8 - Confirmation For Set Maintenance Trace Mask 
0x2111 - Confirmation For Read Revision 
0x27ee - Confirmation for Read Module Status Request 
0x37e4 - Confirmation For MAP Configuration 
0x37e5 - Confirmation For MAP Timer Configuration 
0x37ed - Confirmation for MAP Network Context 
Configuration Request 
0x57e6 MAP_MSG_TRACE_MASK Set Trace Mask Request 
0x57e7 MAP_MSG_S_ERROR_MASK Set Software Event Mask Request 
0x57e8 MAP_MSG_S_MAINT_MASK Set Maintenance Trace Mask Request 
0x57ec MAP_MSG_S_SELTRACE_MASK  Set Selective Trace Mask Request 
0x6111 GEN_MSG_MOD_IDENT Read Revision Request 
0x67ee MAP_MSG_R_MOD_STATUS  Read Module Status Request 
0x77e4 MAP_MSG_CONFIG MAP Configuration Request 
0x77e5 MAP_MSG_CNF_TIM MAP Timer Configuration Request 
0x77ed MAP_MSG_NC_CONFIG MAP Network Context Configuration Request 
0x87e0 - Confirmation For MAP Service Request 
0x87e1 MAP_MSG_SRV_IND MAP Service Indication 
0x87e2 - Confirmation For MAP Dialogue Request 
0x87e3 MAP_MSG_DLG_IND MAP Dialogue Indication 
0xc002 TM_EXP  Timer Expiry 
0xc7e0 MAP_MSG_SRV_REQ MAP Service Request 
0xc7e2 MAP_MSG_DLG_REQ MAP Dialogue Request 
NOTE:  The message type for the confirmation message is set as described in the Dialogic® DSI 
MAP  Software Environment Programmer’s Manual Issue 3. Only a request message may have a 
confirmation message associated. 
MAP Programmer's Manual Issue 13 
 
                                199 
Appendix C - Services supported 
The following table lists all the services supported by the Dialogic® DSI MAP Layer and indicates 
for which MAP version they have been implemented.  
Service Version 
Short message service management services:  
MAP-ALERT-SC-WITHOUT-RESULT 1 
MAP-ALERT-SERVICE-CENTRE 2,3 
MAP-FORWARD-SHORT-MESSAGE 1,2 
MAP-INFORM-SERVICE-CENTRE 2 
MAP-MO-FORWARD-SHORT-MESSAGE 3 
MAP-MT-FORWARD-SHORT-MESSAGE 3 
MAP-NOTE-SUBSCRIBER-PRESENT 1 
MAP-READY-FOR-SM 2,3 
MAP-REPORT-SM-DELIVERY-STATUS 1,2,3 
MAP-SEND-ROUTING-INFO-FOR-SM 1,2,3 
Supplementary services-related services:  
MAP-ACTIVATE-SS 1, 2 
MAP-DEACTIVATE-SS 1, 2 
MAP-ERASE-SS 1, 2 
MAP-INTEROGATE-SS 1, 2 
MAP-REGISTER-SS 1, 2 
MAP-GET-PASSWORD 2 
MAP-REGISTER-PASSWORD 2 
MAP-PROCESS-UNSTRUCTURED-SS-DATA 1 
MAP-PROCESS-UNSTRUCTURED-SS-REQUEST 1, 2 
MAP-UNSTRUCTURED-SS-REQUEST 1, 2 
MAP-UNSTRUCTURED-SS-NOTIFY 1, 2 
Mobility services:  
MAP-ANY-TIME-INTERROGATION 3 
MAP-ANY-TIME-SUBSCRIPTION-INTERROGATION 3 
MAP-ANY-TIME-MODIFICATION 3 
MAP-CANCEL-LOCATION 1,2 
MAP-CHECK-IMEI 1,2,3 
MAP-DELETE-SUBSCRIBER-DATA 1,2,3 
MAP-INSERT-SUBSCRIBER-DATA 1,2,3 
MAP-NOTE-MM-EVENT 3 
Appendix C -Services supported 
200 
MAP-PROVIDE-SUBSCRIBER-INFO 3 
MAP-PURGE-MS 2,3 
MAP-RESET 1,2 
MAP-RESTORE-DATA 3 
MAP-SEND-IDENTIFICATION 2,3 
MAP-SEND-PARAMETERS 1 
MAP-UPDATE-LOCATION 1,2,3 
MAP-UPDATE-GPRS-LOCATION 3 
Call Handling Operations:  
MAP-ERASE-CC-ENTRY 3 
MAP-PROVIDE-ROAMING-NUMBER 1,2,3 
MAP-REGISTER-CC-ENTRY 3 
MAP-RESUME-CALL-HANDLING 3,4 
MAP-SEND-ROUTING-INFORMATION 1,2,3 
MAP-SET-REPORTING-STATE 3 
Operation and maintenance services:  
MAP-ACTIVATE-TRACE-MODE 1,2,3 
MAP-DEACTIVATE-TRACE-MODE 1,2,3 
MAP-TRACE-SUBSCRIBER-ACTIVITY 1 
MAP-REMOTE-USER-FREE 3 
MAP-SEND-IMSI 2 
MAP-STATUS-REPORT 3 
Location service management services:  
MAP-PROVIDE-SUBSCRIBER-LOCATION 3 
MAP-SUBSCRIBER-LOCATION-REPORT 3 
MAP-SEND-ROUTING-INFO-FOR-LCS 3 
Network-Requested PDP Context Activation services:  
MAP-SEND-ROUTING-INFO-FOR-GPRS 3 
MAP-FAILURE-REPORTING 3 
MAP-NOTE-MS-PRESENT-FOR-GPRS 3 
  Fault Recovery services:  
MAP-FORWARD-CHECK-SS-INDICATION 1,2,3 
  Handover Services:  
           MAP-PREPARE-HANDOVER 3 
           MAP-PREPARE-SUBSEQUENT-HANDOVER 3 
           MAP-SEND-END-SIGNAL 3 
           MAP-FORWARD-ACCESS-SIGNALLING 3 
           MAP-PROCESS-ACCESS-SIGNALLING 3 
MAP Programmer's Manual Issue 13 
 
                                201 
  Authentication management services  
           MAP-AUTHENTICATION-FAILURE-REPORT 3 
MAP-SEND-AUTHENTICATION-INFO 2,3 
 